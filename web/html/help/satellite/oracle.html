<pxt-passthrough>
<pxt-use class="Sniglets::HTML"/>
<pxt-use class="Sniglets::Users"/>
<pxt-use class="Grail::Frame"/>
<grail-canvas-template base="/templates/equals_sign.pxt" mode="main_canvas">
<div class="rhn-embedded-help">
<div class="rhn-embedded-help-NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<th colspan="3" align="center">Spacewalk Server: Installation Guide; Version 2.0</th>
</tr>
<tr>
<td width="10%" align="left" valign="bottom">
<a href="maintenance-auto-sync.html">
<img src="/img/list-backward.gif" alt="Previous" border="0"/>
</a>
</td>
<td width="80%" align="center" valign="bottom"/>
<td width="10%" align="right" valign="bottom">
<a href="oracle-troubleshooting.html">
<img src="/img/list-forward.gif" alt="Next" border="0"/>
</a>
</td>
</tr>
</table>
</div>
<div class="rhn-embedded-help-APPENDIX">
<h2><a name="ORACLE"/>Appendix A. Configuring Oracle</h2>
<p>      This chapter discusses some of the issues that need to be addressed
      when building an Oracle instance for the Spacewalk Server.  Specifically, it
      will discuss the growth needs of certain data sets, and will recommend
      strategies for building tablespaces that scale with the expanding
      data. For reference, Spacewalk Server supports Oracle 8i and 9i.
    </p>
<div class="rhn-embedded-help-SECT1">
<h2><a name="ORACLE-TABLESPACE-ISSUES"/>A.1. Tablespace Issues</h2>
<p>	To address scalability issues, the Spacewalk Server schema installation procedure
	provides the capacity to place different tables into different
	tablespaces.  In this section, we provide some guidelines for tablespace
	creation, and how to reference these tables in the configuration files.
      </p>
<div class="rhn-embedded-help-SECT2">
<h3><a name="ORACLE-TABLESPACES-DIFF"/>A.1.1. Why Different Tablespaces?</h3>
<p>	  Spacewalk Server defines different tablespaces for one simple reason: some of the
	  tables and indices used by Spacewalk Server can grow to very large sizes.
	  Our experience in managing these large tables has given us a good
	  idea of which tables grow quickly, and which tables do not grow
	  as quickly.  The larger tables and indices are generally segregated
	  into their own tablespaces, improving both performance and ease of
	  management.
	</p>
</div>
<div class="rhn-embedded-help-SECT2">
<h3><a name="ORACLE-TABLESPACES-CREATING"/>A.1.2. Creating the Tablespaces</h3>
<p/>
<ul>
<li>
<p>Create a default tablespace for the user who will be using
	    Spacewalk Server.</p>
</li>
<li>
<p>Edit
	      <tt class="rhn-embedded-help-FILENAME">/etc/sysconfig/rhn-satellite-schema/satellite.satcon.dict</tt>
	      and specify the name of this default tablespace everywhere.
	    </p>
</li>
</ul>
<p>	  The RHN schema definitions are set up to use from one to nine
	  tablespaces, to be determined according to expected load.  As usual
	  with an Oracle database, your database administrator can move tables
	  and indices between databases after initial installation.
	</p>
<p>	  The <tt class="rhn-embedded-help-FILENAME">rhn-satellite-schema</tt> RPM provides a file
	  called <tt class="rhn-embedded-help-FILENAME">satellite.satcon.dict</tt> in the directory
	  <tt class="rhn-embedded-help-FILENAME">/etc/sysconfig/rhn-satellite-schema/</tt>.  That file
	  serves as a map of symbolic names used in the schema definition to
	  tablespace names that your DBA should determine.
	</p>
<p>	  There are two recommended configurations: small and large.  For small
	  installations (installations supporting less than 5000 systems in the
	  next two years), we recommend two tablespaces: one for tables and one
	  for indices.  <tt class="rhn-embedded-help-FILENAME">satellite.satcon.dict</tt> in this case will look
	  approximately like this:
	</p>
<table class="rhn-embedded-help-SCREEN" bgcolor="#DCDCDC" width="100%">
<tr>
<td>
<pre class="rhn-embedded-help-SCREEN">
<tt class="rhn-embedded-help-COMPUTEROUTPUT">main_tablespace=rhn_tbs
server_package_tablespace=rhn_tbs
64k_tbs=rhn_ind
2m_tbs=rhn_ind
4m_tbs=rhn_ind
8m_tbs=rhn_ind
16m_tbs=rhn_ind
32m_tbs=rhn_ind
128m_tbs=rhn_ind</tt>
</pre>
</td>
</tr>
</table>
<p>	  For large installations, we recommend that each symbolic name map to
	  its own tablespace.  The numbered tablespaces do not necessarily need
	  to correlate directly with the size, although the names are indicative
	  of expected proportions.  In this case,
	  <tt class="rhn-embedded-help-FILENAME">satellite.satcon.dict</tt> will look approximately
	  like this:
	</p>
<table class="rhn-embedded-help-SCREEN" bgcolor="#DCDCDC" width="100%">
<tr>
<td>
<pre class="rhn-embedded-help-SCREEN">
<tt class="rhn-embedded-help-COMPUTEROUTPUT">main_tablespace=rhn_tbs
server_package_tablespace=rhn_tbs_02
64k_tbs=rhn_ind_64k
2m_tbs=rhn_ind_2m
4m_tbs=rhn_ind_4m
8m_tbs=rhn_ind_8m
16m_tbs=rhn_ind_16m
32m_tbs=rhn_ind_32m
128m_tbs=rhn_ind_128m</tt>
</pre>
</td>
</tr>
</table>
<p>	  When the satellite configuration script runs, the values specified
	  here will be plugged into the schema creation scripts that are kicked
	  off by <tt class="rhn-embedded-help-FILENAME">universe.satellite.sql</tt>.
	</p>
</div>
</div>
</div>
<div class="rhn-embedded-help-NAVFOOTER">
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top">
<a href="maintenance-auto-sync.html">
<img src="/img/list-backward.gif" alt="Previous" border="0"/>
</a>
</td>
<td width="34%" align="center" valign="top">
<a href="index.html" accesskey="H">Home</a>
</td>
<td width="33%" align="right" valign="top">
<a href="oracle-troubleshooting.html">
<img src="/img/list-forward.gif" alt="Next" border="0"/>
</a>
</td>
</tr>
<tr>
<td width="33%" align="left" valign="top">Automating Synchronization</td>
<td width="34%" align="center" valign="top">&#xA0;</td>
<td width="33%" align="right" valign="top">Troubleshooting</td>
</tr>
</table>
</div>
</div>
</grail-canvas-template>
</pxt-passthrough>
