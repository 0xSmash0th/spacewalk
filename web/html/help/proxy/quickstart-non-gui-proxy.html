<pxt-passthrough>
<pxt-use class="Sniglets::HTML"/>
<pxt-use class="Sniglets::Users"/>
<pxt-use class="Grail::Frame"/>
<grail-canvas-template base="/templates/equals_sign.pxt" mode="main_canvas">
<div class="rhn-embedded-help">
<div class="rhn-embedded-help-NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<th colspan="3" align="center">RHN Proxy Server 2.1: Installation Guide</th>
</tr>
<tr>
<td width="10%" align="left" valign="bottom">
<a href="quickstart-non-gui-get-packages.html">
<img src="/img/list-backward.gif" alt="Previous" border="0"/>
</a>
</td>
<td width="80%" align="center" valign="bottom">Appendix F. Quick Start Guide for Manual Installation and Configuration</td>
<td width="10%" align="right" valign="bottom">
<a href="quickstart-non-gui-proxy-start.html">
<img src="/img/list-forward.gif" alt="Next" border="0"/>
</a>
</td>
</tr>
</table>
</div>
<div class="rhn-embedded-help-SECT1">
<h2><a name="QUICKSTART-NON-GUI-PROXY"/>F.3. Configure the RHN Proxy Server</h2>
<p>        Follow these steps to set up RHN Proxy Server using minimal
        configuration. More advanced configurations are probably not 
        necessary for the initial installation.
      </p>
<p/>
<ul>
<li>
<p>Add the following lines at the end of 
            <tt class="rhn-embedded-help-FILENAME">/etc/httpd/conf/httpd.conf</tt>.
	  </p>
<table class="rhn-embedded-help-SCREEN" bgcolor="#DCDCDC" width="90%">
<tr>
<td>
<pre class="rhn-embedded-help-SCREEN">
<tt class="rhn-embedded-help-COMPUTEROUTPUT">Include conf/rhn_proxy.conf</tt>
</pre>
</td>
</tr>
</table>
</li>
<li>
<p>The post section of the <tt class="rhn-embedded-help-FILENAME">rhns-proxy-broker</tt>
	    package changes the ownership and permissions of the Digital
	    Certificate file (<tt class="rhn-embedded-help-FILENAME">/etc/sysconfig/rhn/systemid</tt>)
	    if it exists. It will exist if you have already registered the
	    system with RHN. Verify that this file is owned by root.apache and
	    has the permissions 0640. The group is changed to apache to make sure
	    the Apache Web Server can modify the Digital Certificate file.
          </p>
</li>
<li>
<p>Copy the
            <tt class="rhn-embedded-help-FILENAME">/usr/share/doc/rhns-proxy-<tt class="rhn-embedded-help-REPLACEABLE"><em>&lt;version&gt;</em></tt>/squid.conf.sample</tt> file
            to <tt class="rhn-embedded-help-FILENAME">/etc/squid/squid.conf</tt>.
          </p>
</li>
<li>
<p>Copy the
            <tt class="rhn-embedded-help-FILENAME">/usr/share/doc/rhns-proxy-<tt class="rhn-embedded-help-REPLACEABLE"><em>&lt;version&gt;</em></tt>/rhn.conf.sample</tt> file
            to <tt class="rhn-embedded-help-FILENAME">/etc/rhn/rhn.conf</tt>.
          </p>
</li>
<li>
<p>In <tt class="rhn-embedded-help-FILENAME">/etc/rhn/rhn.conf</tt>, comment out the
          following line:</p>
<table class="rhn-embedded-help-SCREEN" bgcolor="#DCDCDC" width="90%">
<tr>
<td>
<pre class="rhn-embedded-help-SCREEN">
<tt class="rhn-embedded-help-COMPUTEROUTPUT">proxy.broker.rhn_parent = redirect_machine.mycompany.com/XMLRPC_REDIRECT</tt>
</pre>
</td>
</tr>
</table>
<p>In <tt class="rhn-embedded-help-FILENAME">/etc/rhn/rhn.conf</tt>, edit the
          line that sets <em>traceback_mail</em>. Set the email
	  address[es] appropriately (ie. the email address[es] of those who
	  will administer the RHN Proxy Server).</p>
<table class="rhn-embedded-help-SCREEN" bgcolor="#DCDCDC" width="90%">
<tr>
<td>
<pre class="rhn-embedded-help-SCREEN">
<tt class="rhn-embedded-help-COMPUTEROUTPUT">traceback_mail = user0@example.com, user1@example.com</tt>
</pre>
</td>
</tr>
</table>
</li>
<li>
<p>Make sure that the <tt class="rhn-embedded-help-COMMAND">ipchains</tt> and
            <tt class="rhn-embedded-help-COMMAND">iptables</tt> services are not running on the system
            (<tt class="rhn-embedded-help-COMMAND">/sbin/service stop ipchains</tt> and
            <tt class="rhn-embedded-help-COMMAND">/sbin/service stop iptables</tt>). Make sure they are
            not started during boot up by using <tt class="rhn-embedded-help-COMMAND">ntsysv</tt> or
            <tt class="rhn-embedded-help-COMMAND">chkconfig</tt>.
          </p>
</li>
<li>
<p>Make sure the <tt class="rhn-embedded-help-COMMAND">httpd</tt>, <tt class="rhn-embedded-help-COMMAND">squid</tt> and
            <tt class="rhn-embedded-help-COMMAND">rhn_auth_cache</tt> services are started at boot time by using 
            <tt class="rhn-embedded-help-COMMAND">ntsysv</tt> or <tt class="rhn-embedded-help-COMMAND">chkconfig</tt>.
          </p>
</li>
</ul>
</div>
<div class="rhn-embedded-help-NAVFOOTER">
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top">
<a href="quickstart-non-gui-get-packages.html">
<img src="/img/list-backward.gif" alt="Previous" border="0"/>
</a>
</td>
<td width="34%" align="center" valign="top">
<a href="index.html" accesskey="H">Home</a>
</td>
<td width="33%" align="right" valign="top">
<a href="quickstart-non-gui-proxy-start.html">
<img src="/img/list-forward.gif" alt="Next" border="0"/>
</a>
</td>
</tr>
<tr>
<td width="33%" align="left" valign="top">Install Proxy Packages</td>
<td width="34%" align="center" valign="top">
<a href="quickstart-non-gui.html" accesskey="U">Up</a>
</td>
<td width="33%" align="right" valign="top">Start the RHN Proxy Server</td>
</tr>
</table>
</div>
</div>
</grail-canvas-template>
</pxt-passthrough>
