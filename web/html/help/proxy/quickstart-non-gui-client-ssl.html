<pxt-passthrough>
<pxt-use class="Sniglets::HTML"/>
<pxt-use class="Sniglets::Users"/>
<pxt-use class="Grail::Frame"/>
<grail-canvas-template base="/templates/equals_sign.pxt" mode="main_canvas">
<div class="rhn-embedded-help">
<div class="rhn-embedded-help-NAVHEADER">
<table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<th colspan="3" align="center">RHN Proxy Server 2.1: Installation Guide</th>
</tr>
<tr>
<td width="10%" align="left" valign="bottom">
<a href="quickstart-non-gui-configure-ssl.html">
<img src="/img/list-backward.gif" alt="Previous" border="0"/>
</a>
</td>
<td width="80%" align="center" valign="bottom">Appendix F. Quick Start Guide for Manual Installation and Configuration</td>
<td width="10%" align="right" valign="bottom">
<a href="install-configure.html">
<img src="/img/list-forward.gif" alt="Next" border="0"/>
</a>
</td>
</tr>
</table>
</div>
<div class="rhn-embedded-help-SECT1">
<h2><a name="QUICKSTART-NON-GUI-CLIENT-SSL"/>F.7. Test RHN Proxy Server with SSL</h2>
<p>        RHN Proxy Server should now be completely configured; you must now
        copy the appropriate certificates to the client and test
        RHN Proxy Server over SSL.
      </p>
<div class="rhn-embedded-help-NOTE">
<p/>
<table class="rhn-embedded-help-NOTE" width="100%" border="0">
<tr>
<td width="25" align="CENTER" valign="TOP">
<img src="./stylesheet-images/note.png" hspace="5" alt="Note"/>
</td>
<th align="LEFT" valign="CENTER">
<strong>Note</strong>
</th>
</tr>
<tr>
<td>&#xA0;</td>
<td align="LEFT" valign="TOP">
<p>	  You must use version 2.7.11 or higher of
	  <tt class="rhn-embedded-help-FILENAME">rhn_register</tt> on client systems running Red Hat Linux 7.2
	  or earlier so they can recognize new certificates. This RPM should be available in
	  <tt class="rhn-embedded-help-FILENAME">/var/spool/up2date</tt> on your proxy system after you
	  run <tt class="rhn-embedded-help-COMMAND">up2date</tt> for the proxy. Systems running Red Hat Linux
	  8.0 and later have this functionality built into the Red Hat Update Agent.
	</p>
</td>
</tr>
</table>
</div>
<p/>
<ul>
<li>
<p>Install the previously created
            <tt class="rhn-embedded-help-FILENAME">rhns-ca-cert</tt> package on the client systems.
          </p>
</li>
<li>
<p>Reconfigure the client configuration files
            <tt class="rhn-embedded-help-FILENAME">/etc/sysconfig/rhn/rhn_register</tt> and
            <tt class="rhn-embedded-help-FILENAME">/etc/sysconfig/rhn/up2date</tt> by changing
            <tt class="rhn-embedded-help-COMPUTEROUTPUT">http</tt> to
            <tt class="rhn-embedded-help-COMPUTEROUTPUT">https</tt> on the following line in
            each file:
          </p>
<table class="rhn-embedded-help-SCREEN" bgcolor="#DCDCDC" width="90%">
<tr>
<td>
<pre class="rhn-embedded-help-SCREEN">
<tt class="rhn-embedded-help-COMPUTEROUTPUT">serverURL=https://your_rhn_proxy_server.com/XMLRPC</tt>
</pre>
</td>
</tr>
</table>
</li>
<li>
<p>Edit (or add if not present) the
	    <tt class="rhn-embedded-help-COMPUTEROUTPUT">sslCACert</tt> line in
            <tt class="rhn-embedded-help-COMMAND">/etc/sysconfig/rhn/up2date</tt>, changing the path to
            the new certificate authority file:
          </p>
<table class="rhn-embedded-help-SCREEN" bgcolor="#DCDCDC" width="90%">
<tr>
<td>
<pre class="rhn-embedded-help-SCREEN"><tt class="rhn-embedded-help-COMPUTEROUTPUT">sslCACert[comment]=The location of the SSL CA certificate.</tt>
<tt class="rhn-embedded-help-COMPUTEROUTPUT">sslCACert=/usr/share/rhn/RHNS-CORP-CA-CERT</tt></pre>
</td>
</tr>
</table>
</li>
<li>
<p>Run <tt class="rhn-embedded-help-COMMAND">up2date -l</tt> from the client.  It should
            return successfully with no errors, indicating that your proxy
            is fully functional with SSL.
          </p>
</li>
</ul>
</div>
<div class="rhn-embedded-help-NAVFOOTER">
<table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="33%" align="left" valign="top">
<a href="quickstart-non-gui-configure-ssl.html">
<img src="/img/list-backward.gif" alt="Previous" border="0"/>
</a>
</td>
<td width="34%" align="center" valign="top">
<a href="index.html" accesskey="H">Home</a>
</td>
<td width="33%" align="right" valign="top">
<a href="install-configure.html">
<img src="/img/list-forward.gif" alt="Next" border="0"/>
</a>
</td>
</tr>
<tr>
<td width="33%" align="left" valign="top">Configure SSL</td>
<td width="34%" align="center" valign="top">
<a href="quickstart-non-gui.html" accesskey="U">Up</a>
</td>
<td width="33%" align="right" valign="top">Manual Installation and Configuration</td>
</tr>
</table>
</div>
</div>
</grail-canvas-template>
</pxt-passthrough>
