<rhn-interface name="channel.software">

  <rhn-method name="create">
    <description>Creates a software channel, parent_channel_label can
    be empty string</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="new_channel_label" type="string" />
    <param name="new_channel_name" type="string" />
    <param name="new_channel_summary" type="string" />
    <param name="new_channel_arch_label" type="string" />
    <param name="parent_channel_label" type="string" />

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="add_packages">
    <description>Given package ids, add those packages to a channel</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel" />
    <param name="pids" type="list" />

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="remove_packages">
    <description>Given package ids, remove those packages to a channel</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel" />
    <param name="pids" type="list" />

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="delete">
    <description>Deletes a software channel</description>
    <handler class="Sniglets::API::Channel::Software" method="delete_channel" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="list_arches">
    <description>Lists potential software channel arches that can be created</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />

    <return type="list" />
  </rhn-method>


  <rhn-method name="available_entitlements">
    <description>Returns the number of available subscriptions for the
    given channel</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>

    <return type="integer" />
  </rhn-method>


  <rhn-method name="is_globally_subscribable">
    <description>Returns whether the channel may be subscribed to by
    any user in the organization</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="set_globally_subscribable">
    <description>Sets whether or not the channel may be subscribed to
    by any user in the organization</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>
    <param name="value" type="boolean" />

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="list_all_packages">
    <description>Lists all packages in the channel, regardless of version</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>
    <param name="start_date" type="date">Optional param, start of the
    window to narrow result set.  Irrelevant if not supplied.</param>
    <param name="end_date" type="date">Optional param, end of the
    window to narrow result set.  Assumed to by sysdate if not supplied.</param>

    <return type="list">
      <hash>
        <key name="package_id" type="id" />
        <key name="package_name" type="string" />
        <key name="package_version" type="string" />
        <key name="package_release" type="string" />
        <key name="package_epoch" type="string" />
        <key name="package_arch_label" type="string" />
        <key name="package_last_modified_date" type="date" />
      </hash>
    </return>
  </rhn-method>


  <rhn-method name="list_all_packages_by_date">
    <description>Lists all packages in the channel, regardless of
    version, sorted by date</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>
    <param name="start_date" type="date">Optional param, start of the
    window to narrow result set.  Irrelevant if not supplied.</param>
    <param name="end_date" type="date">Optional param, end of the
    window to narrow result set.  Assumed to by sysdate if not supplied.</param>

    <return type="list">
      <hash>
        <key name="package_id" type="id" />
        <key name="package_name" type="string" />
        <key name="package_version" type="string" />
        <key name="package_release" type="string" />
        <key name="package_epoch" type="string" />
        <key name="package_arch_label" type="string" />
        <key name="package_last_modified_date" type="date" />
      </hash>
    </return>
  </rhn-method>


  <rhn-method name="list_latest_packages">
    <description>Lists the packages with the largest version
    (including release and epoch) for the unique package names</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>

    <return type="list">
      <hash>
        <key name="package_id" type="id" />
        <key name="package_name" type="string" />
        <key name="package_version" type="string" />
        <key name="package_release" type="string" />
        <key name="package_epoch" type="string" />
        <key name="package_arch_label" type="string" />
      </hash>
    </return>
  </rhn-method>


  <rhn-method name="get_details">
    <description>Gets general information about the
    channel</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>

    <return type="hash">
      <key name="channel_arch_name" type="string" />
      <key name="channel_description" type="string" />
      <key name="channel_summary" type="string" />
      <key name="channel_end_of_life" type="string">Date Red Hat will cease support of this channel</key>
      <key name="channel_gpg_key_fp" type="string">GPG fingerprint of the GPG key that signed the packages in the channel</key>
      <key name="channel_gpg_key_id" type="string">GPG id of the GPG key that signed the packages in the channel</key>
      <key name="channel_gpg_key_url" type="string">URL to the recommended location of the GPG public key the packages in the channel were signed with</key>
      <key name="channel_parent_label" type="string" />
    </return>
  </rhn-method>


  <rhn-method name="list_subscribed_systems">
    <description>Lists the subscribed systems to a channel</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>

    <return type="list">
      <hash>
        <key name="sid" type="id" />
        <key name="system_name" type="string" />
      </hash>
    </return>
  </rhn-method>


  <rhn-method name="set_system_channels">
    <description>Sets the channels for a system</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="sid" type="id" mangle="objectify_system" />
    <param name="channel_label_list" type="list" />

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="list_system_channels">
    <description>Lists the channels a system is subscribed to</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="sid" type="id" mangle="objectify_system" />

    <return type="list">
      <hash>
        <key name="channel_label" type="string" />
        <key name="channel_name" type="string" />
      </hash>
    </return>
  </rhn-method>


  <rhn-method name="is_user_subscribable">
    <description>Returns whether the channel may be subscribed to by
    the given user</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>
    <param name="login" type="string" mangle="objectify_login" />

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="set_user_subscribable">
    <description>Sets whether or not the channel may be subscribed to
    by the given user</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string" mangle="objectify_channel">e.g., rhel-i386-as-3</param>
    <param name="login" type="string" mangle="objectify_login" />
    <param name="value" type="boolean" />

    <return type="boolean" />
  </rhn-method>


  <rhn-method name="list_errata">
    <description>List the errata applicable to a channel</description>
    <handler class="Sniglets::API::Channel::Software" />

    <param name="session" type="session" mangle="session_user" />
    <param name="channel_label" type="string"
    mangle="objectify_channel">e.g., rhel-i386-as-3</param>
    <param name="start_date" type="date">Optional param, start of the
    window to narrow result set.  Irrelevant if not supplied.</param>
    <param name="end_date" type="date">Optional param, end of the
    window to narrow result set.  Assumed to be sysdate if not supplied.</param>

    <return type="list">
      <hash>
        <key name="errata_advisory" type="string" />
        <key name="errata_issue_date" type="date" />
        <key name="errata_update_date" type="date" />
        <key name="errata_last_modified_date" type="date" />
        <key name="errata_synopsis" type="string" />
        <key name="errata_type" type="string" />
      </hash>
    </return>
  </rhn-method>


</rhn-interface>
