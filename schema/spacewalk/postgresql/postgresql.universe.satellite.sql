-- Generated by Ora2Pg, the Oracle database Schema converter, version 4.8
-- Copyright 2000-2004 Gilles DAROLD. All rights reserved.
--
-- This program is free software; you can redistribute it and/or modify it under
-- the same terms as Perl itself.

BEGIN TRANSACTION;

CREATE TABLE "aq$_wm$event_queue_table_t" (
	"next_date" timestamp NOT NULL,
	"txn_id" varchar(30) NOT NULL,
	"msgid" bytea NOT NULL,
	"action" float
);
ALTER TABLE "aq$_wm$event_queue_table_t" ADD PRIMARY KEY ("next_date","txn_id","msgid");

CREATE TABLE "rhn_url_probe" (
	"username" varchar(40),
	"password" varchar(255),
	"cookie_enabled" char(1) DEFAULT 0
        ,
	"multi_step" char(1) DEFAULT 0
        ,
	"run_on_scouts" char(1) DEFAULT ('1')
        ,
	"probe_id" bigint NOT NULL,
	"probe_type" varchar(12) DEFAULT 'url'
        ,
	"sat_cluster_id" bigint,
	"scout_warning_threshold_is_all" char(1) DEFAULT '1'
        ,
	"scout_crit_threshold_is_all" char(1) DEFAULT '1'
        ,
	"scout_warning_threshold" bigint DEFAULT -1,
	"scout_critical_threshold" bigint DEFAULT -1

);
ALTER TABLE "rhn_url_probe" ADD PRIMARY KEY ("probe_id");
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_multi_step_ck" CHECK (multi_step in ('0','1'));
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_scout_warn_isall_nn" CHECK ("scout_warning_threshold_is_all" is not null);
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_run_on_scouts_ck" CHECK (run_on_scouts in ('0','1'));
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_multi_step_nn" CHECK ("multi_step" is not null);
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_run_on_scouts_nn" CHECK ("run_on_scouts" is not null);
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_probe_type_ck" CHECK (probe_type='url');
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_cookie_en_nn" CHECK ("cookie_enabled" is not null);
ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_scout_crit_isall_nn" CHECK ("scout_crit_threshold_is_all" is not null);
CREATE INDEX rhn_url_probe_pid_ptype_idx ON "rhn_url_probe" ("probe_id","probe_type");

CREATE TABLE "rhnactionstatus" (
	"id" float NOT NULL,
	"name" varchar(16),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnactionstatus" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnactionstatus" ADD CONSTRAINT "rhn_action_status_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnactionstatus" ADD CONSTRAINT "rhn_action_status_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionstatus" ADD CONSTRAINT "rhn_action_status_created_nn" CHECK ("created" is not null);

CREATE TABLE "rhnactionconfigdatefile" (
	"action_id" float NOT NULL,
	"file_name" varchar(512) NOT NULL,
	"file_type" char(1) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionconfigdatefile" ADD CONSTRAINT "rhn_actioncd_file_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionconfigdatefile" ADD CONSTRAINT "rhn_actioncd_file_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionconfigdatefile" ADD CONSTRAINT "rhn_actioncd_file_fn_nn" CHECK ("file_name" is not null);
ALTER TABLE "rhnactionconfigdatefile" ADD CONSTRAINT "rhn_actioncd_file_ft_ck" CHECK (file_type in ('W','B'));
ALTER TABLE "rhnactionconfigdatefile" ADD CONSTRAINT "rhn_actioncd_file_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionconfigdatefile" ADD CONSTRAINT "rhn_actioncd_file_ft_nn" CHECK ("file_type" is not null);
CREATE INDEX rhn_actioncd_file_aid_fn_idx ON "rhnactionconfigdatefile" ("action_id","file_name");

CREATE TABLE "rhn_interface_monitoring" (
	"server_id" float NOT NULL,
	"server_name" varchar(32) NOT NULL
);
ALTER TABLE "rhn_interface_monitoring" ADD PRIMARY KEY ("server_id");
ALTER TABLE "rhn_interface_monitoring" ADD CONSTRAINT "rhn_monif_server_name_nn" CHECK ("server_name" is not null);
ALTER TABLE "rhn_interface_monitoring" ADD CONSTRAINT "rhn_monif_server_id_nn" CHECK ("server_id" is not null);
CREATE UNIQUE INDEX rhn_int_mont_sid_sname_idx ON "rhn_interface_monitoring" ("server_id","server_name");

CREATE TABLE "rhnfaq" (
	"id" float NOT NULL,
	"class_id" float,
	"subject" varchar(200),
	"details" varchar(4000),
	"private" float DEFAULT (0)
			,
	"usage_count" float DEFAULT (0)
	    	    	,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnfaq" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnfaq" ADD CONSTRAINT "rhn_faq_usage_nn" CHECK ("usage_count" is not null);
ALTER TABLE "rhnfaq" ADD CONSTRAINT "rhn_faq_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnfaq" ADD CONSTRAINT "rhn_faq_private_nn" CHECK ("private" is not null);
ALTER TABLE "rhnfaq" ADD CONSTRAINT "rhn_faq_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnfaq" ADD CONSTRAINT "rhn_faq_id_nn" CHECK ("id" is not null);

CREATE TABLE "rhnchannelcomps" (
	"id" float NOT NULL,
	"channel_id" float NOT NULL,
	"relative_filename" varchar(256) NOT NULL,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
        ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
        
);
ALTER TABLE "rhnchannelcomps" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnchannelcomps" ADD CONSTRAINT "rhn_channelcomps_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnchannelcomps" ADD CONSTRAINT "rhn_channelcomps_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnchannelcomps" ADD CONSTRAINT "rhn_channelcomps_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelcomps" ADD CONSTRAINT "rhn_channelcomps_lastmod_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnchannelcomps" ADD CONSTRAINT "rhn_channelcomps_rfn_nn" CHECK ("relative_filename" is not null);
ALTER TABLE "rhnchannelcomps" ADD CONSTRAINT "rhn_channelcomps_modified_nn" CHECK ("modified" is not null);

CREATE TABLE "wm$workspaces_table" (
	"workspace" varchar(30) NOT NULL,
	"parent_workspace" varchar(30),
	"current_version" float,
	"parent_version" float,
	"post_version" float,
	"verlist" varchar(2000),
	"owner" varchar(30),
	"createtime" timestamp,
	"description" varchar(1000),
	"workspace_lock_id" float,
	"freeze_status" varchar(8),
	"freeze_mode" varchar(20),
	"freeze_writer" varchar(30),
	"oper_status" varchar(30),
	"wm_lockmode" varchar(5),
	"isrefreshed" float,
	"freeze_owner" varchar(30),
	"session_duration" float,
	"implicit_sp_cnt" float DEFAULT 0 ,
	"cr_status" varchar(20),
	"sync_parver" float,
	"last_change" timestamp DEFAULT CURRENT_TIMESTAMP,
	"depth" float,
	"mp_root" varchar(30) DEFAULT null
);
ALTER TABLE "wm$workspaces_table" ADD CONSTRAINT "workspace_lock_id_unq" UNIQUE ("workspace_lock_id");
ALTER TABLE "wm$workspaces_table" ADD PRIMARY KEY ("workspace");
CREATE INDEX wm$ws_tab_pver_ind ON "wm$workspaces_table" ("parent_version");
CREATE INDEX wm$ws_tab_pws_ind ON "wm$workspaces_table" ("parent_workspace");
CREATE INDEX wm$workspaces_mp_idx ON "wm$workspaces_table" ("mp_root");

CREATE TABLE "wm$version_table" (
	"workspace" varchar(30) NOT NULL,
	"anc_workspace" varchar(30) NOT NULL,
	"anc_version" float,
	"anc_depth" float,
	"refcount" float DEFAULT 1
);
ALTER TABLE "wm$version_table" ADD PRIMARY KEY ("workspace","anc_workspace");
CREATE INDEX wm$vt_anc_idx ON "wm$version_table" ("anc_workspace","anc_version");

CREATE TABLE "rhnserverprofiletype" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverprofiletype" ADD CONSTRAINT "rhn_sproftype_label_uq" UNIQUE ("label");
ALTER TABLE "rhnserverprofiletype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverprofiletype" ADD CONSTRAINT "rhn_sproftype_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnserverprofiletype" ADD CONSTRAINT "rhn_sproftype_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverprofiletype" ADD CONSTRAINT "rhn_sproftype_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverprofiletype" ADD CONSTRAINT "rhn_sproftype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnserverprofiletype" ADD CONSTRAINT "rhn_sproftype_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_sproftype_label_id_idx ON "rhnserverprofiletype" ("label","id");

CREATE TABLE "wm$env_vars" (
	"name" varchar(100) NOT NULL,
	"value" varchar(4000)
);
ALTER TABLE "wm$env_vars" ADD PRIMARY KEY ("name");

CREATE TABLE "rhnserverprofilepackage" (
	"server_profile_id" float NOT NULL,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL
);
ALTER TABLE "rhnserverprofilepackage" ADD CONSTRAINT "rhn_sprofile_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnserverprofilepackage" ADD CONSTRAINT "rhn_sprofile_spid_nn" CHECK ("server_profile_id" is not null);
ALTER TABLE "rhnserverprofilepackage" ADD CONSTRAINT "rhn_sprofile_evrid_nn" CHECK ("evr_id" is not null);
CREATE INDEX rhn_sprof_sp_sne_idx ON "rhnserverprofilepackage" ("server_profile_id","name_id","evr_id");

CREATE TABLE "rhncryptokey" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"description" varchar(1024) NOT NULL,
	"crypto_key_type_id" float NOT NULL,
	"key" bytea
);
ALTER TABLE "rhncryptokey" ADD PRIMARY KEY ("id");
ALTER TABLE "rhncryptokey" ADD CONSTRAINT "rhn_cryptokey_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhncryptokey" ADD CONSTRAINT "rhn_cryptokey_cktid_nn" CHECK ("crypto_key_type_id" is not null);
ALTER TABLE "rhncryptokey" ADD CONSTRAINT "rhn_cryptokey_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhncryptokey" ADD CONSTRAINT "rhn_cryptokey_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_cryptokey_oid_desc_uq ON "rhncryptokey" ("org_id","description");

CREATE TABLE "db_change_script_expanded" (
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"line_no" float NOT NULL,
	"line" varchar(1000) NOT NULL
);
ALTER TABLE "db_change_script_expanded" ADD CONSTRAINT "dc_scriptexpanded_ln_nn" CHECK ("line_no" is not null);
ALTER TABLE "db_change_script_expanded" ADD CONSTRAINT "dc_scriptexpanded_l_nn" CHECK ("line" is not null);
ALTER TABLE "db_change_script_expanded" ADD CONSTRAINT "dc_scriptexpanded_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_script_expanded" ADD CONSTRAINT "dc_scriptexpanded_sn_nn" CHECK ("seq_no" is not null);
CREATE INDEX dc_scriptexpanded_bid_sn_idx ON "db_change_script_expanded" ("bug_id","seq_no");

CREATE TABLE "rhn_schedule_days" (
	"recid" float NOT NULL,
	"schedule_id" bigint,
	"ord" smallint,
	"start_1" timestamp,
	"end_1" timestamp,
	"start_2" timestamp,
	"end_2" timestamp,
	"start_3" timestamp,
	"end_3" timestamp,
	"start_4" timestamp,
	"end_4" timestamp,
	"last_update_user" varchar(40),
	"last_update_date" varchar(40)
);
ALTER TABLE "rhn_schedule_days" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_schedule_days" ADD CONSTRAINT "rhn_schdy_recid_ck" CHECK (recid > 0);
ALTER TABLE "rhn_schedule_days" ADD CONSTRAINT "rhn_schdy_recid_nn" CHECK ("recid" is not null);
CREATE INDEX rhn_schdy_schedule_id_idx ON "rhn_schedule_days" ("schedule_id");

CREATE TABLE "rhnpackagesensemap" (
	"sense" float NOT NULL,
	"sense_id" float NOT NULL
);
ALTER TABLE "rhnpackagesensemap" ADD CONSTRAINT "rhn_pkg_sensemap_sid_nn" CHECK ("sense_id" is not null);
ALTER TABLE "rhnpackagesensemap" ADD CONSTRAINT "rhn_pkg_sensemap_sense_nn" CHECK ("sense" is not null);
CREATE UNIQUE INDEX rhn_pkg_sensemap_s_sid_uq ON "rhnpackagesensemap" ("sense","sense_id");

CREATE TABLE "rhnsnapshotinvalidreason" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnsnapshotinvalidreason" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnsnapshotinvalidreason" ADD CONSTRAINT "rhn_ssinvalid_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnsnapshotinvalidreason" ADD CONSTRAINT "rhn_ssinvalid_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnsnapshotinvalidreason" ADD CONSTRAINT "rhn_ssinvalid_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnsnapshotinvalidreason" ADD CONSTRAINT "rhn_ssinvalid_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsnapshotinvalidreason" ADD CONSTRAINT "rhn_ssinvalid_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_ssinvalid_label_uq ON "rhnsnapshotinvalidreason" ("label");

CREATE TABLE "wm$mp_parent_workspaces_table" (
	"workspace" varchar(30) NOT NULL,
	"parent_workspace" varchar(30) NOT NULL,
	"parent_version" float,
	"creator" varchar(30),
	"createtime" timestamp,
	"workspace_lock_id" float,
	"isrefreshed" float,
	"parent_flag" varchar(2)
);
ALTER TABLE "wm$mp_parent_workspaces_table" ADD PRIMARY KEY ("workspace","parent_workspace");
CREATE INDEX wm$mp_pws_tab_pver_ind ON "wm$mp_parent_workspaces_table" ("parent_version");
CREATE INDEX wm$mp_pws_tab_pws_ind ON "wm$mp_parent_workspaces_table" ("parent_workspace");

CREATE TABLE "rhnkickstartcommandname" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"uses_arguments" char(1) NOT NULL,
	"sort_order" float NOT NULL,
	"required" char(1) DEFAULT 'N'
                        
);
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommandname_name_uq" UNIQUE ("name");
ALTER TABLE "rhnkickstartcommandname" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommandname_reqrd_ck" CHECK ( required in ('Y', 'N') );
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommandname_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommandname_reqrd_nn" CHECK ("required" is not null);
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommand_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommandname_uses_args_nn" CHECK ("uses_arguments" is not null);
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommandname_sortordr_nn" CHECK ("sort_order" is not null);
ALTER TABLE "rhnkickstartcommandname" ADD CONSTRAINT "rhn_kscommandname_uses_args_ck" CHECK (uses_arguments in ('Y','N'));
CREATE INDEX rhn_kscommandname_name_id_idx ON "rhnkickstartcommandname" ("name","id");

CREATE TABLE "wm$replication_table" (
	"groupname" varchar(30) NOT NULL,
	"masterdefsite" varchar(128),
	"oldmasterdefsites" varchar(4000),
	"iswritersite" varchar(1),
	"status" varchar(1) DEFAULT 'E'
);
ALTER TABLE "wm$replication_table" ADD PRIMARY KEY ("groupname");

CREATE TABLE "rhnuserinfopane" (
	"user_id" float NOT NULL,
	"pane_id" float NOT NULL
);
ALTER TABLE "rhnuserinfopane" ADD CONSTRAINT "rhn_usr_info_pane_pid_nn" CHECK ("pane_id" is not null);
ALTER TABLE "rhnuserinfopane" ADD CONSTRAINT "rhn_usr_info_pane_uid_nn" CHECK ("user_id" is not null);
CREATE UNIQUE INDEX rhnusrinfopane_uid_pid_uq ON "rhnuserinfopane" ("user_id","pane_id");

CREATE TABLE "rhnserverchannel" (
	"server_id" float NOT NULL,
	"channel_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverchannel" ADD CONSTRAINT "rhn_sc_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverchannel" ADD CONSTRAINT "rhn_sc_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnserverchannel" ADD CONSTRAINT "rhn_sc_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverchannel" ADD CONSTRAINT "rhn_sc_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_sc_cid_sid_idx ON "rhnserverchannel" ("channel_id","server_id");
CREATE UNIQUE INDEX rhn_sc_sid_cid_uq ON "rhnserverchannel" ("server_id","channel_id");

CREATE TABLE "rhnemailaddressstate" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnemailaddressstate" ADD CONSTRAINT "rhn_eastate_label_uq" UNIQUE ("label");
ALTER TABLE "rhnemailaddressstate" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnemailaddressstate" ADD CONSTRAINT "rhn_eastate_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnemailaddressstate" ADD CONSTRAINT "rhn_eastate_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnemailaddressstate" ADD CONSTRAINT "rhn_eastate_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnemailaddressstate" ADD CONSTRAINT "rhn_eastate_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_eastate_id_label_idx ON "rhnemailaddressstate" ("id","label");
CREATE INDEX rhn_eastate_label_id_idx ON "rhnemailaddressstate" ("label","id");

CREATE TABLE "rhnserverarch" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(64) NOT NULL,
	"arch_type_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverarch" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_label_uq" UNIQUE ("label");
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_atid_nn" CHECK ("arch_type_id" is not null);
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_sarch_id_l_n_idx ON "rhnserverarch" ("id","label","name");
CREATE INDEX rhn_sarch_l_id_n_idx ON "rhnserverarch" ("label","id","name");

CREATE TABLE "rhnpackageconflicts" (
	"package_id" float NOT NULL,
	"capability_id" float NOT NULL,
	"sense" float DEFAULT (0) -- comes from RPMSENSE_*
                        ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnpackageconflicts" ADD CONSTRAINT "rhn_pkg_conflicts_cid_nn" CHECK ("capability_id" is not null);
ALTER TABLE "rhnpackageconflicts" ADD CONSTRAINT "rhn_pkg_conflicts_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnpackageconflicts" ADD CONSTRAINT "rhn_pkg_conflicts_sense_nn" CHECK ("sense" is not null);
ALTER TABLE "rhnpackageconflicts" ADD CONSTRAINT "rhn_pkg_conflicts_mtime_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackageconflicts" ADD CONSTRAINT "rhn_pkg_conflicts_ctime_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_pkg_confl_pid_cid_s_uq ON "rhnpackageconflicts" ("package_id","capability_id","sense");
CREATE INDEX rhn_pkg_conflicts_cid_idx ON "rhnpackageconflicts" ("capability_id");

CREATE TABLE "rhnactionvirtshutdown" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtshutdown" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtshutdown" ADD CONSTRAINT "rhn_avshutdown_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtshutdown" ADD CONSTRAINT "rhn_avshutdown_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionvirtshutdown" ADD CONSTRAINT "rhn_avshutdown_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtshutdown" ADD CONSTRAINT "rhn_avshutdown_uuid_nn" CHECK ("uuid" is not null);
CREATE UNIQUE INDEX rhn_avshutdown_aid_uq ON "rhnactionvirtshutdown" ("action_id");

CREATE TABLE "rhnbeehivepathmap" (
	"path" varchar(128) NOT NULL,
	"beehive_path" varchar(128) NOT NULL,
	"ftp_path" varchar(128) NOT NULL,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP

);
ALTER TABLE "rhnbeehivepathmap" ADD PRIMARY KEY ("path");
ALTER TABLE "rhnbeehivepathmap" ADD CONSTRAINT "rhn_beehive_path_map_fp_nn" CHECK ("ftp_path" is not null);
ALTER TABLE "rhnbeehivepathmap" ADD CONSTRAINT "rhn_beehive_path_map_p_nn" CHECK ("path" is not null);
ALTER TABLE "rhnbeehivepathmap" ADD CONSTRAINT "rhn_beehive_path_map_bp_nn" CHECK ("beehive_path" is not null);

CREATE TABLE "aq$_wm$event_queue_table_g" (
);

CREATE TABLE "rhnchannel" (
	"id" float NOT NULL,
	"parent_channel" float,
	"org_id" float,
	"channel_arch_id" float NOT NULL,
	"label" varchar(128) NOT NULL,
	"basedir" varchar(256) NOT NULL,
	"name" varchar(64) NOT NULL,
	"summary" varchar(500) NOT NULL,
	"description" varchar(4000),
	"product_name_id" float,
	"gpg_key_url" varchar(256),
	"gpg_key_id" varchar(14),
	"gpg_key_fp" varchar(50),
	"end_of_life" timestamp,
	"receiving_updates" char(1) DEFAULT 'Y'
                       ,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"channel_product_id" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannel" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_ru_ck" CHECK (receiving_updates in ('Y', 'N'));
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_caid_nn" CHECK ("channel_arch_id" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_ru_nn" CHECK ("receiving_updates" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_summary_nn" CHECK ("summary" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_basedir_nn" CHECK ("basedir" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_lm_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_channel_org_idx ON "rhnchannel" ("org_id","id");
CREATE UNIQUE INDEX rhn_channel_label_uq ON "rhnchannel" ("label");
CREATE INDEX rhn_channel_parent_id_idx ON "rhnchannel" ("parent_channel","id");
CREATE UNIQUE INDEX rhn_channel_name_uq ON "rhnchannel" ("name");
CREATE INDEX rhn_channel_url_id_idx ON "rhnchannel" ("label","id");

CREATE TABLE "wm$ric_locking_table" (
	"pt_owner" varchar(30),
	"pt_name" varchar(30),
	"slockno" float,
	"elockno" float
);

CREATE TABLE "rhntaskqueue" (
	"org_id" float NOT NULL,
	"task_name" varchar(64) NOT NULL,
	"task_data" float,
	"priority" float DEFAULT 0,
	"earliest" timestamp DEFAULT CURRENT_TIMESTAMP
			
);
ALTER TABLE "rhntaskqueue" ADD CONSTRAINT "rhn_task_queue_org_id_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhntaskqueue" ADD CONSTRAINT "rhn_task_queue_earliest_nn" CHECK ("earliest" is not null);
ALTER TABLE "rhntaskqueue" ADD CONSTRAINT "rhn_task_queue_task_name_nn" CHECK ("task_name" is not null);
CREATE INDEX rhn_task_queue_org_task_idx ON "rhntaskqueue" ("org_id","task_name");
CREATE INDEX rhn_task_queue_earliest ON "rhntaskqueue" ("earliest");

CREATE TABLE "rhnerratacve" (
	"errata_id" float NOT NULL,
	"cve_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratacve" ADD CONSTRAINT "rhn_err_cve_cid_nn" CHECK ("cve_id" is not null);
ALTER TABLE "rhnerratacve" ADD CONSTRAINT "rhn_err_cve_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratacve" ADD CONSTRAINT "rhn_err_cve_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratacve" ADD CONSTRAINT "rhn_err_cve_eid_nn" CHECK ("errata_id" is not null);
CREATE INDEX rhn_err_cve_cid_eid_idx ON "rhnerratacve" ("cve_id","errata_id");
CREATE UNIQUE INDEX rhn_err_cve_eid_cid_uq ON "rhnerratacve" ("errata_id","cve_id");

CREATE TABLE "rhn_config_parameter" (
	"group_name" varchar(255) NOT NULL,
	"name" varchar(255) NOT NULL,
	"value" varchar(255),
	"security_type" varchar(255) NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_config_parameter" ADD PRIMARY KEY ("group_name","name");
ALTER TABLE "rhn_config_parameter" ADD CONSTRAINT "rhn_confp_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhn_config_parameter" ADD CONSTRAINT "rhn_confp_security_type_nn" CHECK ("security_type" is not null);
ALTER TABLE "rhn_config_parameter" ADD CONSTRAINT "rhn_confp_group_name_nn" CHECK ("group_name" is not null);

CREATE TABLE "rhnregtokengroups" (
	"token_id" float NOT NULL,
	"server_group_id" float NOT NULL
);
ALTER TABLE "rhnregtokengroups" ADD CONSTRAINT "rhn_reg_tok_grp_sg_nn" CHECK ("server_group_id" is not null);
ALTER TABLE "rhnregtokengroups" ADD CONSTRAINT "rhn_reg_tok_grp_tid_nn" CHECK ("token_id" is not null);
CREATE UNIQUE INDEX rhn_reg_tok_grp_uq ON "rhnregtokengroups" ("token_id","server_group_id");

CREATE TABLE "wm$modified_tables" (
	"vtid" float,
	"table_name" varchar(61) NOT NULL,
	"version" float NOT NULL,
	"workspace" varchar(30) NOT NULL
);
ALTER TABLE "wm$modified_tables" ADD PRIMARY KEY ("workspace","table_name","version");
CREATE INDEX wm$mod_tab_ver_ind ON "wm$modified_tables" ("version","workspace");

CREATE TABLE "wm$cons_columns" (
	"owner" varchar(30),
	"constraint_name" varchar(30),
	"table_name" varchar(30),
	"column_name" varchar(4000),
	"position" float
);
CREATE INDEX wm$cons_columns_idx ON "wm$cons_columns" ("owner","constraint_name");

CREATE TABLE "rhnsolarispatch" (
	"package_id" float NOT NULL,
	"solaris_release" varchar(64),
	"sunos_release" varchar(64),
	"patch_type" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                     ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                     ,
	"readme" bytea NOT NULL,
	"patchinfo" varchar(4000)
);
ALTER TABLE "rhnsolarispatch" ADD PRIMARY KEY ("package_id");
ALTER TABLE "rhnsolarispatch" ADD CONSTRAINT "rhn_solaris_p_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsolarispatch" ADD CONSTRAINT "rhn_solaris_p_pt_nn" CHECK ("patch_type" is not null);
ALTER TABLE "rhnsolarispatch" ADD CONSTRAINT "rhn_solaris_p_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsolarispatch" ADD CONSTRAINT "rhn_solaris_p_rdme_nn" CHECK ("readme" is not null);

CREATE TABLE "rhn_command_center_state" (
	"cust_admin_access_allowed" char(1) NOT NULL,
	"reason" varchar(2000) NOT NULL,
	"last_update_user" varchar(40) NOT NULL,
	"last_update_date" timestamp NOT NULL
);
ALTER TABLE "rhn_command_center_state" ADD CONSTRAINT "rhn_cmdcs_last_date_nn" CHECK ("last_update_date" is not null);
ALTER TABLE "rhn_command_center_state" ADD CONSTRAINT "rhn_cmdcs_reason_nn" CHECK ("reason" is not null);
ALTER TABLE "rhn_command_center_state" ADD CONSTRAINT "rhn_cmdcs_allowed_nn" CHECK ("cust_admin_access_allowed" is not null);
ALTER TABLE "rhn_command_center_state" ADD CONSTRAINT "rhn_cmdcs_last_user_nn" CHECK ("last_update_user" is not null);

CREATE TABLE "rhnkickstarttimezone" (
	"id" float NOT NULL,
	"label" varchar(128) NOT NULL,
	"name" varchar(128) NOT NULL,
	"install_type" float NOT NULL
);
ALTER TABLE "rhnkickstarttimezone" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstarttimezone" ADD CONSTRAINT "rhn_ks_timezone_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnkickstarttimezone" ADD CONSTRAINT "rhn_ks_timezone_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnkickstarttimezone" ADD CONSTRAINT "rhn_ks_timezone_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkickstarttimezone" ADD CONSTRAINT "rhn_ks_timezone_it_nn" CHECK ("install_type" is not null);
CREATE UNIQUE INDEX rhn_ks_timezone_it_name_uq ON "rhnkickstarttimezone" ("install_type","name");
CREATE UNIQUE INDEX rhn_ks_timezone_it_label_uq ON "rhnkickstarttimezone" ("install_type","label");

CREATE TABLE "rhnerratatmp" (
	"id" float NOT NULL,
	"advisory" varchar(32) NOT NULL,
	"advisory_type" varchar(32) NOT NULL,
	"advisory_name" varchar(32) NOT NULL,
	"advisory_rel" float NOT NULL,
	"product" varchar(64),
	"description" varchar(4000),
	"synopsis" varchar(4000),
	"topic" varchar(4000),
	"solution" varchar(4000),
	"issue_date" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"update_date" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"refers_to" varchar(4000),
	"notes" varchar(4000),
	"org_id" float,
	"locally_modified" char(1),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                  
);
ALTER TABLE "rhnerratatmp" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_advisory_rel_nn" CHECK ("advisory_rel" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_last_mod_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_adv_type_ck" CHECK (advisory_type in ('Bug Fix Advisory',
				                            'Product Enhancement Advisory',
							    'Security Advisory'));
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_advisory_name_nn" CHECK ("advisory_name" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_advisory_nn" CHECK ("advisory" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_issue_nn" CHECK ("issue_date" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_lm_ck" CHECK (locally_modified in ('Y','N'));
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_adv_type_nn" CHECK ("advisory_type" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_update_nn" CHECK ("update_date" is not null);
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_erratatmp_advisory_name_uq ON "rhnerratatmp" ("advisory_name");
CREATE UNIQUE INDEX rhn_erratatmp_advisory_uq ON "rhnerratatmp" ("advisory");

CREATE TABLE "rhn_url_probe_step" (
	"recid" float NOT NULL,
	"url_probe_id" bigint NOT NULL,
	"step_number" smallint NOT NULL,
	"description" varchar(255),
	"url" varchar(2000) NOT NULL,
	"protocol_method" varchar(12) NOT NULL,
	"verify_links" char(1) DEFAULT 0
        ,
	"load_subsidiary" char(1) DEFAULT 0
        ,
	"pattern" varchar(255),
	"vpattern" varchar(255),
	"post_content" varchar(4000),
	"post_content_type" varchar(255),
	"connect_warn" float DEFAULT 0
        ,
	"connect_crit" float DEFAULT 0
        ,
	"latency_warn" float DEFAULT 0
        ,
	"latency_crit" float DEFAULT 0
        ,
	"dns_warn" float DEFAULT 0
        ,
	"dns_crit" float DEFAULT 0
        ,
	"total_warn" float DEFAULT 0
        ,
	"total_crit" float DEFAULT 0
        ,
	"trans_warn" bigint DEFAULT 0
        ,
	"trans_crit" bigint DEFAULT 0
        ,
	"through_warn" bigint DEFAULT 0
        ,
	"through_crit" bigint DEFAULT 0
        ,
	"cookie_key" varchar(255),
	"cookie_value" varchar(255),
	"cookie_path" varchar(255),
	"cookie_domain" varchar(255),
	"cookie_port" integer,
	"cookie_secure" char(1) DEFAULT 0
        ,
	"cookie_maxage" integer
);
ALTER TABLE "rhn_url_probe_step" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_url_prob_id_nn" CHECK ("url_probe_id" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_ver_links_ck" CHECK (verify_links in ('0','1'));
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_url_nn" CHECK ("url" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_load_sub_ck" CHECK (load_subsidiary in ('0','1'));
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_url_step_no_nn" CHECK ("step_number" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_thru_warn_nn" CHECK ("through_warn" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_total_crit_nn" CHECK ("total_crit" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_trans_warn_nn" CHECK ("trans_warn" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_dns_crit_nn" CHECK ("dns_crit" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_protocol_nn" CHECK ("protocol_method" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_conn_crit_nn" CHECK ("connect_crit" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_conn_warn_nn" CHECK ("connect_warn" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_ver_links_nn" CHECK ("verify_links" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_cookie_sec_ck" CHECK (cookie_secure in ('0','1'));
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_thru_crit_nn" CHECK ("through_crit" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_load_sub_nn" CHECK ("load_subsidiary" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_late_crit_nn" CHECK ("latency_crit" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_total_warn_nn" CHECK ("total_warn" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_dns_warn_nn" CHECK ("dns_warn" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_trans_crit_nn" CHECK ("trans_crit" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_cookie_sec_nn" CHECK ("cookie_secure" is not null);
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_late_warn_nn" CHECK ("latency_warn" is not null);
CREATE UNIQUE INDEX rhn_urlps_url_pr_id_stp_n_uq ON "rhn_url_probe_step" ("url_probe_id","step_number");

CREATE TABLE "rhntransactionoperation" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhntransactionoperation" ADD CONSTRAINT "rhn_transop_label_uq" UNIQUE ("label");
ALTER TABLE "rhntransactionoperation" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntransactionoperation" ADD CONSTRAINT "rhn_transop_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhntransactionoperation" ADD CONSTRAINT "rhn_transop_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhntransactionoperation" ADD CONSTRAINT "rhn_transop_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhntransactionoperation" ADD CONSTRAINT "rhn_transop_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_transop_label_id_idx ON "rhntransactionoperation" ("label","id");

CREATE TABLE "aq$_wm$event_queue_table_h" (
	"msgid" bytea NOT NULL,
	"subscriber#" float NOT NULL,
	"name" varchar(30) NOT NULL,
	"address#" float NOT NULL,
	"dequeue_time" timestamp,
	"transaction_id" varchar(30),
	"dequeue_user" varchar(30),
	"propagated_msgid" bytea,
	"retry_count" float,
	"hint" oid,
	"spare" bytea
);
ALTER TABLE "aq$_wm$event_queue_table_h" ADD PRIMARY KEY ("msgid","subscriber#","name","address#");

CREATE TABLE "rhnvirtualinstanceeventlog" (
	"id" float NOT NULL,
	"virtual_instance_id" float,
	"event_type" float NOT NULL,
	"event_metadata" varchar(4000),
	"old_state" float NOT NULL,
	"new_state" float NOT NULL,
	"old_memory_size_k" float,
	"new_memory_size_k" float,
	"old_vcpus" float,
	"new_vcpus" float,
	"old_host_system_id" float,
	"new_host_system_id" float,
	"old_host_system_name" varchar(128),
	"new_host_system_name" varchar(128),
	"local_timestamp" timestamp NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnvirtualinstanceeventlog" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_old_state_nn" CHECK ("old_state" is not null);
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_lt_nn" CHECK ("local_timestamp" is not null);
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_et_nn" CHECK ("event_type" is not null);
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_new_state_nn" CHECK ("new_state" is not null);
CREATE INDEX rhn_viel_vii_idx ON "rhnvirtualinstanceeventlog" ("virtual_instance_id");

CREATE TABLE "rhn_command_queue_instances" (
	"recid" float NOT NULL,
	"command_id" bigint NOT NULL,
	"notes" varchar(2000),
	"date_submitted" timestamp NOT NULL,
	"expiration_date" timestamp NOT NULL,
	"notify_email" varchar(50),
	"timeout" integer,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_command_queue_instances" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_command_queue_instances" ADD CONSTRAINT "rhn_cqins_date_submitted_nn" CHECK ("date_submitted" is not null);
ALTER TABLE "rhn_command_queue_instances" ADD CONSTRAINT "rhn_cqins_command_id_nn" CHECK ("command_id" is not null);
ALTER TABLE "rhn_command_queue_instances" ADD CONSTRAINT "rhn_cqins_expiration_date_nn" CHECK ("expiration_date" is not null);
ALTER TABLE "rhn_command_queue_instances" ADD CONSTRAINT "rhn_cqins_recid_nn" CHECK ("recid" is not null);
CREATE INDEX rhn_cqins_command_id_idx ON "rhn_command_queue_instances" ("command_id");

CREATE TABLE "rhn_probe" (
	"recid" float NOT NULL,
	"probe_type" varchar(15) NOT NULL,
	"description" varchar(255) NOT NULL,
	"customer_id" bigint NOT NULL,
	"command_id" bigint NOT NULL,
	"contact_group_id" bigint,
	"notify_critical" char(1),
	"notify_warning" char(1),
	"notify_unknown" char(1),
	"notify_recovery" char(1),
	"notification_interval_minutes" bigint NOT NULL,
	"check_interval_minutes" bigint NOT NULL,
	"retry_interval_minutes" bigint NOT NULL,
	"max_attempts" bigint,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_recid_probe_type_uq" UNIQUE ("recid","probe_type");
ALTER TABLE "rhn_probe" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_notif_int_nn" CHECK ("notification_interval_minutes" is not null);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_cust_id_nn" CHECK ("customer_id" is not null);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_retry_int_nn" CHECK ("retry_interval_minutes" is not null);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_description_nn" CHECK ("description" is not null);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_command_id_nn" CHECK ("command_id" is not null);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_chk_int_nn" CHECK ("check_interval_minutes" is not null);
CREATE INDEX rhn_probe_probe_type_idx ON "rhn_probe" ("probe_type");
CREATE INDEX rhn_probe_contact_grp_idx ON "rhn_probe" ("contact_group_id");
CREATE INDEX rhn_probe_check_command_id_idx ON "rhn_probe" ("command_id");
CREATE INDEX rhn_probe_customer_id_idx ON "rhn_probe" ("customer_id");

CREATE TABLE "rhntag" (
	"id" float NOT NULL,
	"name_id" float NOT NULL,
	"org_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhntag" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntag" ADD CONSTRAINT "rhn_tag_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhntag" ADD CONSTRAINT "rhn_tag_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhntag" ADD CONSTRAINT "rhn_tag_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhntag" ADD CONSTRAINT "rhn_tag_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhntag" ADD CONSTRAINT "rhn_tag_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_tag_oid_nid_uq ON "rhntag" ("org_id","name_id");

CREATE TABLE "rhn_config_group" (
	"name" varchar(255) NOT NULL,
	"description" varchar(255)
);
ALTER TABLE "rhn_config_group" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_config_group" ADD CONSTRAINT "rhn_confg_name_nn" CHECK ("name" is not null);

CREATE TABLE "rhnserverhistory" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"summary" varchar(256) NOT NULL,
	"details" varchar(4000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverhistory" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverhistory" ADD CONSTRAINT "rhn_serverhistory_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverhistory" ADD CONSTRAINT "rhn_serverhistory_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverhistory" ADD CONSTRAINT "rhn_serverhistory_summary_nn" CHECK ("summary" is not null);
ALTER TABLE "rhnserverhistory" ADD CONSTRAINT "rhn_serverhistory_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnserverhistory" ADD CONSTRAINT "rhn_serverhistory_sid_nn" CHECK ("server_id" is not null);
CREATE INDEX rhn_server_hist_server_id_idx ON "rhnserverhistory" ("server_id");

CREATE TABLE "rhnerrataseverity" (
	"id" float NOT NULL,
	"rank" float NOT NULL,
	"label" varchar(40) NOT NULL
);
ALTER TABLE "rhnerrataseverity" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerrataseverity" ADD CONSTRAINT "rhn_errata_sev_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnerrataseverity" ADD CONSTRAINT "rhn_errata_sev_rank_nn" CHECK ("rank" is not null);
ALTER TABLE "rhnerrataseverity" ADD CONSTRAINT "rhn_errata_sev_id_nn" CHECK ("id" is not null);

CREATE TABLE "rhnvirtualinstance" (
	"id" float NOT NULL,
	"host_system_id" float,
	"virtual_system_id" float,
	"uuid" varchar(128),
	"confirmed" smallint DEFAULT 1
                                ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnvirtualinstance" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnvirtualinstance" ADD CONSTRAINT "rhn_vi_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnvirtualinstance" ADD CONSTRAINT "rhn_vi_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnvirtualinstance" ADD CONSTRAINT "rhn_vi_c_nn" CHECK ("confirmed" is not null);
ALTER TABLE "rhnvirtualinstance" ADD CONSTRAINT "rhn_vi_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_vi_vsid_hsid_idx ON "rhnvirtualinstance" ("virtual_system_id","host_system_id");
CREATE INDEX rhn_vi_hsid_vsid_idx ON "rhnvirtualinstance" ("host_system_id","virtual_system_id");

CREATE TABLE "rhn_probe_param_value" (
	"probe_id" float NOT NULL,
	"command_id" float NOT NULL,
	"param_name" varchar(40) NOT NULL,
	"value" varchar(1024),
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_probe_param_value" ADD PRIMARY KEY ("probe_id","command_id","param_name");
ALTER TABLE "rhn_probe_param_value" ADD CONSTRAINT "rhn_ppval_command_id_nn" CHECK ("command_id" is not null);
ALTER TABLE "rhn_probe_param_value" ADD CONSTRAINT "rhn_ppval_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_probe_param_value" ADD CONSTRAINT "rhn_ppval_param_name_nn" CHECK ("param_name" is not null);

CREATE TABLE "rhnerratafilechanneltmp" (
	"channel_id" float NOT NULL,
	"errata_file_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratafilechanneltmp" ADD CONSTRAINT "rhn_efilectmp_efid_cid_uq" UNIQUE ("errata_file_id","channel_id");
ALTER TABLE "rhnerratafilechanneltmp" ADD CONSTRAINT "rhn_efilectmp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratafilechanneltmp" ADD CONSTRAINT "rhn_efilectmp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratafilechanneltmp" ADD CONSTRAINT "rhn_efilectmp_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnerratafilechanneltmp" ADD CONSTRAINT "rhn_efilectmp_eid_nn" CHECK ("errata_file_id" is not null);
CREATE INDEX rhn_efilectmp_efid_cid_idx ON "rhnerratafilechanneltmp" ("errata_file_id","channel_id");
CREATE INDEX rhn_efilectmp_cid_efid_idx ON "rhnerratafilechanneltmp" ("channel_id","errata_file_id");

CREATE TABLE "rhn_time_zone_names" (
	"recid" float NOT NULL,
	"java_id" varchar(40) NOT NULL,
	"display_name" varchar(60) NOT NULL,
	"gmt_offset_minutes" smallint NOT NULL,
	"use_daylight_time" char(1) NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_time_zone_names" ADD PRIMARY KEY ("java_id");
ALTER TABLE "rhn_time_zone_names" ADD CONSTRAINT "rhn_time_zone_names_uq" UNIQUE ("display_name");
ALTER TABLE "rhn_time_zone_names" ADD CONSTRAINT "rhn_tznms_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_time_zone_names" ADD CONSTRAINT "rhn_tznms_java_id_nn" CHECK ("java_id" is not null);
ALTER TABLE "rhn_time_zone_names" ADD CONSTRAINT "rhn_tznms_display_name_nn" CHECK ("display_name" is not null);
ALTER TABLE "rhn_time_zone_names" ADD CONSTRAINT "rhn_tznms_gmt_offset_nn" CHECK ("gmt_offset_minutes" is not null);
ALTER TABLE "rhn_time_zone_names" ADD CONSTRAINT "rhn_tznms_use_dst_nn" CHECK ("use_daylight_time" is not null);

CREATE TABLE "rhn_schedule_types" (
	"recid" float NOT NULL,
	"description" varchar(40)
);
ALTER TABLE "rhn_schedule_types" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_schedule_types" ADD CONSTRAINT "rhn_schtp_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_schedule_types" ADD CONSTRAINT "rhn_schtp_recid_ck" CHECK (recid > 0);

CREATE TABLE "rhnchannelpackagearchcompat" (
	"channel_arch_id" float NOT NULL,
	"package_arch_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelpackagearchcompat" ADD CONSTRAINT "rhn_cp_ac_caid_paid_uq" UNIQUE ("channel_arch_id","package_arch_id");
ALTER TABLE "rhnchannelpackagearchcompat" ADD CONSTRAINT "rhn_cp_ac_caid_nn" CHECK ("channel_arch_id" is not null);
ALTER TABLE "rhnchannelpackagearchcompat" ADD CONSTRAINT "rhn_cp_ac_paid_nn" CHECK ("package_arch_id" is not null);
ALTER TABLE "rhnchannelpackagearchcompat" ADD CONSTRAINT "rhn_cp_ac_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelpackagearchcompat" ADD CONSTRAINT "rhn_cp_ac_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_cp_ac_caid_paid ON "rhnchannelpackagearchcompat" ("channel_arch_id","package_arch_id");
CREATE INDEX rhn_cp_ac_paid_caid ON "rhnchannelpackagearchcompat" ("package_arch_id","channel_arch_id");

CREATE TABLE "rhncve" (
	"id" float NOT NULL,
	"name" varchar(13) NOT NULL
);
ALTER TABLE "rhncve" ADD PRIMARY KEY ("id");
ALTER TABLE "rhncve" ADD CONSTRAINT "rhn_cve_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhncve" ADD CONSTRAINT "rhn_cve_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_cve_name_uq ON "rhncve" ("name");

CREATE TABLE "rhnram" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"ram" float NOT NULL,
	"swap" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnram" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnram" ADD CONSTRAINT "rhn_ram_swap_nn" CHECK ("swap" is not null);
ALTER TABLE "rhnram" ADD CONSTRAINT "rhn_ram_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnram" ADD CONSTRAINT "rhn_ram_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnram" ADD CONSTRAINT "rhn_ram_server_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnram" ADD CONSTRAINT "rhn_ram_ram_nn" CHECK ("ram" is not null);
ALTER TABLE "rhnram" ADD CONSTRAINT "rhn_ram_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_ram_sid_idx ON "rhnram" ("server_id");

CREATE TABLE "wm$sysparam_all_values" (
	"name" varchar(100) NOT NULL,
	"value" varchar(512) NOT NULL,
	"isdefault" varchar(9)
);
ALTER TABLE "wm$sysparam_all_values" ADD PRIMARY KEY ("name","value");

CREATE TABLE "rhn_command_groups" (
	"group_name" varchar(10) NOT NULL,
	"description" varchar(80)
);
ALTER TABLE "rhn_command_groups" ADD PRIMARY KEY ("group_name");
ALTER TABLE "rhn_command_groups" ADD CONSTRAINT "rhn_cmdgr_group_name_nn" CHECK ("group_name" is not null);

CREATE TABLE "rhnorginfo" (
	"org_id" float NOT NULL,
	"default_group_type" float DEFAULT (2)
				,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnorginfo" ADD CONSTRAINT "rhn_orginfo_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnorginfo" ADD CONSTRAINT "rhn_orginfo_dgt_nn" CHECK ("default_group_type" is not null);
ALTER TABLE "rhnorginfo" ADD CONSTRAINT "rhn_orginfo_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnorginfo" ADD CONSTRAINT "rhn_orginfo_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_orginfo_oid_uq ON "rhnorginfo" ("org_id");

CREATE TABLE "rhnprovisionstate" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"description" varchar(256) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnprovisionstate" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnprovisionstate" ADD CONSTRAINT "rhn_provstate_l_uq" UNIQUE ("label");
ALTER TABLE "rhnprovisionstate" ADD CONSTRAINT "rhn_provstate_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnprovisionstate" ADD CONSTRAINT "rhn_provstate_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnprovisionstate" ADD CONSTRAINT "rhn_provstate_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnprovisionstate" ADD CONSTRAINT "rhn_provstate_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnprovisionstate" ADD CONSTRAINT "rhn_provstate_desc_nn" CHECK ("description" is not null);
CREATE INDEX rhn_provstate_l_id_idx ON "rhnprovisionstate" ("label","id");

CREATE TABLE "rhnkickstartscript" (
	"id" float NOT NULL,
	"kickstart_id" float NOT NULL,
	"position" float NOT NULL,
	"script_type" varchar(4) NOT NULL,
	"chroot" char(1) DEFAULT ('Y')
				,
	"interpreter" varchar(80),
	"data" bytea,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_ksid_pos_uq" UNIQUE ("kickstart_id","position");
ALTER TABLE "rhnkickstartscript" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_pos_nn" CHECK ("position" is not null);
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_chroot_nn" CHECK ("chroot" is not null);
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_chroot_ck" CHECK (chroot in ('Y','N'));
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_st_ck" CHECK (script_type in ('pre','post'));
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_ksid_nn" CHECK ("kickstart_id" is not null);
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_st_nn" CHECK ("script_type" is not null);
CREATE INDEX rhn_ksscript_id_idx ON "rhnkickstartscript" ("id");
CREATE INDEX rhn_ksscript_ksid_pos_idx ON "rhnkickstartscript" ("kickstart_id","position");

CREATE TABLE "rhn_command_queue_commands" (
	"recid" float NOT NULL,
	"description" varchar(40) NOT NULL,
	"notes" varchar(2000),
	"command_line" varchar(2000) NOT NULL,
	"permanent" char(1) NOT NULL,
	"restartable" char(1) NOT NULL,
	"effective_user" varchar(40) NOT NULL,
	"effective_group" varchar(40) NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_command_queue_commands" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_command_queue_commands" ADD CONSTRAINT "rhn_cqcmd_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_command_queue_commands" ADD CONSTRAINT "rhn_cqcmd_restartable_nn" CHECK ("restartable" is not null);
ALTER TABLE "rhn_command_queue_commands" ADD CONSTRAINT "rhn_cqcmd_permanent_nn" CHECK ("permanent" is not null);
ALTER TABLE "rhn_command_queue_commands" ADD CONSTRAINT "rhn_cqcmd_effective_grp_nn" CHECK ("effective_group" is not null);
ALTER TABLE "rhn_command_queue_commands" ADD CONSTRAINT "rhn_cqcmd_effective_usr_nn" CHECK ("effective_user" is not null);
ALTER TABLE "rhn_command_queue_commands" ADD CONSTRAINT "rhn_cqcmd_command_line_nn" CHECK ("command_line" is not null);
ALTER TABLE "rhn_command_queue_commands" ADD CONSTRAINT "rhn_cqcmd_description_nn" CHECK ("description" is not null);

CREATE TABLE "rhn_sat_node_probe" (
	"probe_id" bigint NOT NULL,
	"probe_type" varchar(12) DEFAULT 'satnode'
        ,
	"sat_node_id" bigint NOT NULL
);
ALTER TABLE "rhn_sat_node_probe" ADD PRIMARY KEY ("probe_id");
ALTER TABLE "rhn_sat_node_probe" ADD CONSTRAINT "rhn_sndpb_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_sat_node_probe" ADD CONSTRAINT "rhn_sndpb_sat_node_id_nn" CHECK ("sat_node_id" is not null);
ALTER TABLE "rhn_sat_node_probe" ADD CONSTRAINT "rhn_sndpb_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_sat_node_probe" ADD CONSTRAINT "rhn_sndpb_probe_type_ck" CHECK (probe_type='satnode');
CREATE INDEX rhn_sndpb_sat_node_id_idx ON "rhn_sat_node_probe" ("sat_node_id");
CREATE INDEX rhn_sndpb_pid_ptype_idx ON "rhn_sat_node_probe" ("probe_id","probe_type");

CREATE TABLE "rhnorgentitlementtype" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnorgentitlementtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnorgentitlementtype" ADD CONSTRAINT "rhn_org_ent_type_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnorgentitlementtype" ADD CONSTRAINT "rhn_org_ent_type_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnorgentitlementtype" ADD CONSTRAINT "rhn_org_ent_type_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnorgentitlementtype" ADD CONSTRAINT "rhn_org_ent_type_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnorgentitlementtype" ADD CONSTRAINT "rhn_org_ent_type_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_org_entitle_type_label_uq ON "rhnorgentitlementtype" ("label");

CREATE TABLE "rhntemplatestring" (
	"id" float NOT NULL,
	"category_id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"value" varchar(4000),
	"description" varchar(512) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhntemplatestring" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_cid_label_uq" UNIQUE ("category_id","label");
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_cid_nn" CHECK ("category_id" is not null);
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_key_nn" CHECK ("label" is not null);
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_template_str_cid_label_idx ON "rhntemplatestring" ("category_id","label");
CREATE INDEX rhn_template_str_icl_idx ON "rhntemplatestring" ("id","category_id","label");

CREATE TABLE "rhnactionvirtreboot" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtreboot" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtreboot" ADD CONSTRAINT "rhn_avreboot_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtreboot" ADD CONSTRAINT "rhn_avreboot_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtreboot" ADD CONSTRAINT "rhn_avreboot_uuid_nn" CHECK ("uuid" is not null);
ALTER TABLE "rhnactionvirtreboot" ADD CONSTRAINT "rhn_avreboot_creat_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_avreboot_aid_uq ON "rhnactionvirtreboot" ("action_id");

CREATE TABLE "rhn_snmp_alert" (
	"recid" float NOT NULL,
	"sender_cluster_id" bigint NOT NULL,
	"dest_ip" varchar(255) NOT NULL,
	"dest_port" integer NOT NULL,
	"date_generated" timestamp,
	"date_submitted" timestamp,
	"command_name" varchar(255),
	"notif_type" integer,
	"op_center" varchar(255),
	"notif_url" varchar(255),
	"os_name" varchar(128),
	"message" varchar(2000),
	"probe_id" bigint,
	"host_ip" varchar(255),
	"severity" integer,
	"command_id" bigint,
	"probe_class" integer,
	"host_name" varchar(255),
	"support_center" varchar(255)
);
ALTER TABLE "rhn_snmp_alert" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_snmp_alert" ADD CONSTRAINT "rhn_snmpa_dest_ip_nn" CHECK ("dest_ip" is not null);
ALTER TABLE "rhn_snmp_alert" ADD CONSTRAINT "rhn_snmpa_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_snmp_alert" ADD CONSTRAINT "rhn_snmpa_send_clust_id_nn" CHECK ("sender_cluster_id" is not null);
ALTER TABLE "rhn_snmp_alert" ADD CONSTRAINT "rhn_snmpa_dest_port_nn" CHECK ("dest_port" is not null);
CREATE INDEX rhn_snmp_alrt_scid_idx ON "rhn_snmp_alert" ("sender_cluster_id");

CREATE TABLE "rhnexception" (
	"id" float NOT NULL,
	"label" varchar(128) NOT NULL,
	"message" varchar(2000) NOT NULL
);
ALTER TABLE "rhnexception" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnexception" ADD CONSTRAINT "rhn_exc_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnexception" ADD CONSTRAINT "rhn_exc_msg_nn" CHECK ("message" is not null);
ALTER TABLE "rhnexception" ADD CONSTRAINT "rhn_exc_label_nn" CHECK ("label" is not null);
CREATE UNIQUE INDEX rhn_exc_label_uq ON "rhnexception" ("label");

CREATE TABLE "rhnpackagedelta" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagedelta" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagedelta" ADD CONSTRAINT "rhn_packagedelta_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagedelta" ADD CONSTRAINT "rhn_packagedelta_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnpackagedelta" ADD CONSTRAINT "rhn_packagedelta_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagedelta" ADD CONSTRAINT "rhn_packagedelta_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_packagedelta_label_id_idx ON "rhnpackagedelta" ("label","id");

CREATE TABLE "rhnservergrouptypefeature" (
	"server_group_type_id" float NOT NULL,
	"feature_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                                 ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                                 
);
ALTER TABLE "rhnservergrouptypefeature" ADD CONSTRAINT "rhn_sgt_feat_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservergrouptypefeature" ADD CONSTRAINT "rhn_sgt_feat_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservergrouptypefeature" ADD CONSTRAINT "rhn_sgt_sgtid_nn" CHECK ("server_group_type_id" is not null);
ALTER TABLE "rhnservergrouptypefeature" ADD CONSTRAINT "rhn_sgt_fid_nn" CHECK ("feature_id" is not null);
CREATE UNIQUE INDEX rhn_sgt_feat_sgtid_fid_uq_idx ON "rhnservergrouptypefeature" ("server_group_type_id","feature_id");

CREATE TABLE "rhnchannelproduct" (
	"id" float NOT NULL,
	"product" varchar(256) NOT NULL,
	"version" varchar(64) NOT NULL,
	"beta" char(1) DEFAULT 'N'
                        ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelproduct" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnchannelproduct" ADD CONSTRAINT "rhn_channelprod_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnchannelproduct" ADD CONSTRAINT "rhn_channelprod_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelproduct" ADD CONSTRAINT "rhn_channelprod_product_nn" CHECK ("product" is not null);
ALTER TABLE "rhnchannelproduct" ADD CONSTRAINT "rhn_channelprod_beta_nn" CHECK ("beta" is not null);
ALTER TABLE "rhnchannelproduct" ADD CONSTRAINT "rhn_channelprod_beta_ck" CHECK (beta in ('Y', 'N'));
ALTER TABLE "rhnchannelproduct" ADD CONSTRAINT "rhn_channelprod_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelproduct" ADD CONSTRAINT "rhn_channelprod_version_nn" CHECK ("version" is not null);
CREATE UNIQUE INDEX rhn_channelprod_p_v_b_uq ON "rhnchannelproduct" ("product","version","beta");

CREATE TABLE "rhncustomdatakey" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"description" varchar(4000) NOT NULL,
	"created_by" float,
	"last_modified_by" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhncustomdatakey" ADD PRIMARY KEY ("id");
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_oid_label_uq" UNIQUE ("org_id","label");
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_cdatakey_oid_label_id_idx ON "rhncustomdatakey" ("org_id","label","id");

CREATE TABLE "rhn_service_probe_origins" (
	"service_probe_id" bigint NOT NULL,
	"origin_probe_id" bigint,
	"decoupled" char(1) DEFAULT '0'
        
);
ALTER TABLE "rhn_service_probe_origins" ADD CONSTRAINT "rhn_srvpo_serv_pr_id_orig_uq" UNIQUE ("service_probe_id","origin_probe_id");
ALTER TABLE "rhn_service_probe_origins" ADD CONSTRAINT "rhn_srvpo_decoupled_nn" CHECK ("decoupled" is not null);
ALTER TABLE "rhn_service_probe_origins" ADD CONSTRAINT "rhn_srvpo_serv_p_id_nn" CHECK ("service_probe_id" is not null);
CREATE UNIQUE INDEX rhn_srvpo_serv_orig_pr_id_uq ON "rhn_service_probe_origins" ("origin_probe_id","service_probe_id");

CREATE TABLE "rhnerratakeywordtmp" (
	"errata_id" float NOT NULL,
	"keyword" varchar(64),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratakeywordtmp" ADD CONSTRAINT "rhn_err_keywordtmp_eid_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratakeywordtmp" ADD CONSTRAINT "rhn_err_keywordtmp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratakeywordtmp" ADD CONSTRAINT "rhn_err_keywordtmp_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_errkwtmp_eid_idx ON "rhnerratakeywordtmp" ("errata_id");
CREATE UNIQUE INDEX rhn_err_keywordtmp_eid_uq ON "rhnerratakeywordtmp" ("keyword","errata_id");

CREATE TABLE "rhnconfigfilename" (
	"id" float NOT NULL,
	"path" varchar(1024) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnconfigfilename" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigfilename" ADD CONSTRAINT "rhn_cfname_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigfilename" ADD CONSTRAINT "rhn_cfname_path_nn" CHECK ("path" is not null);
ALTER TABLE "rhnconfigfilename" ADD CONSTRAINT "rhn_cfname_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnconfigfilename" ADD CONSTRAINT "rhn_cfname_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_cfname_path_uq ON "rhnconfigfilename" ("path");

CREATE TABLE "rhnconfigfilefailure" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(256) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnconfigfilefailure" ADD CONSTRAINT "rhn_conffile_fail_label_uq" UNIQUE ("label");
ALTER TABLE "rhnconfigfilefailure" ADD CONSTRAINT "rhn_conffile_fail_name_uq" UNIQUE ("name");
ALTER TABLE "rhnconfigfilefailure" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigfilefailure" ADD CONSTRAINT "rhn_conffile_fail_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnconfigfilefailure" ADD CONSTRAINT "rhn_conffile_fail_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnconfigfilefailure" ADD CONSTRAINT "rhn_conffile_fail_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigfilefailure" ADD CONSTRAINT "rhn_conffile_fail_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnconfigfilefailure" ADD CONSTRAINT "rhn_conffile_fail_creat_nn" CHECK ("created" is not null);

CREATE TABLE "rhnpushclientstate" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(256) NOT NULL,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
			,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
			
);
ALTER TABLE "rhnpushclientstate" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpushclientstate" ADD CONSTRAINT "rhn_pclient_state_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnpushclientstate" ADD CONSTRAINT "rhn_pclient_state_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnpushclientstate" ADD CONSTRAINT "rhn_pclient_state_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpushclientstate" ADD CONSTRAINT "rhn_pclient_state_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpushclientstate" ADD CONSTRAINT "rhn_pclient_state_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_pclient_state_label_uq ON "rhnpushclientstate" ("label");
CREATE UNIQUE INDEX rhn_pclient_state_name_uq ON "rhnpushclientstate" ("name");

CREATE TABLE "rhnserverinfo" (
	"server_id" float NOT NULL,
	"checkin" timestamp DEFAULT (CURRENT_TIMESTAMP),
	"checkin_counter" float DEFAULT (0)

);
ALTER TABLE "rhnserverinfo" ADD CONSTRAINT "rhn_server_info_sid_nn" CHECK ("server_id" is not null);
CREATE UNIQUE INDEX rhn_server_info_sid_unq ON "rhnserverinfo" ("server_id");

CREATE TABLE "rhnserverpath" (
	"server_id" float NOT NULL,
	"proxy_server_id" float NOT NULL,
	"position" float NOT NULL,
	"hostname" varchar(256) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_psid_nn" CHECK ("proxy_server_id" is not null);
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_hostname_nn" CHECK ("hostname" is not null);
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_pos_nn" CHECK ("position" is not null);
CREATE UNIQUE INDEX rhn_serverpath_sid_pos_uq ON "rhnserverpath" ("server_id","position");
CREATE UNIQUE INDEX rhn_serverpath_psid_sid_uq ON "rhnserverpath" ("proxy_server_id","server_id");

CREATE TABLE "rhnchannelparent" (
	"channel" float NOT NULL,
	"parent_channel" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnchannelparent" ADD CONSTRAINT "rhn_cp_parent_ch_nn" CHECK ("parent_channel" is not null);
ALTER TABLE "rhnchannelparent" ADD CONSTRAINT "rhn_chp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelparent" ADD CONSTRAINT "rhn_chp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelparent" ADD CONSTRAINT "rhn_cp_ch_nn" CHECK ("channel" is not null);
CREATE UNIQUE INDEX rhn_cp_c_uq ON "rhnchannelparent" ("channel","parent_channel");

CREATE TABLE "wm$hint_table" (
	"hint_id" float,
	"owner" varchar(30),
	"table_name" varchar(30),
	"hint_text" varchar(4000),
	"isdefault" float
);
ALTER TABLE "wm$hint_table" ADD CONSTRAINT "hint_table_unq1" UNIQUE ("hint_id","owner","table_name","isdefault");

CREATE TABLE "rhnpackagegroup" (
	"id" float NOT NULL,
	"name" varchar(100) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagegroup" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagegroup" ADD CONSTRAINT "rhn_package_group_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagegroup" ADD CONSTRAINT "rhn_package_group_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagegroup" ADD CONSTRAINT "rhn_package_group_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnpackagegroup" ADD CONSTRAINT "rhn_package_group_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_package_group_name_uq ON "rhnpackagegroup" ("name");

CREATE TABLE "rhnerrataclonedtmp" (
	"original_id" float NOT NULL,
	"id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnerrataclonedtmp" ADD CONSTRAINT "rhn_eclonedtmp_feid_teid_uq" UNIQUE ("original_id","id");
ALTER TABLE "rhnerrataclonedtmp" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerrataclonedtmp" ADD CONSTRAINT "rhn_eclonedtmp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerrataclonedtmp" ADD CONSTRAINT "rhn_eclonedtmp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerrataclonedtmp" ADD CONSTRAINT "rhn_eclonedtmp_teid_nn" CHECK ("id" is not null);
ALTER TABLE "rhnerrataclonedtmp" ADD CONSTRAINT "rhn_eclonedtmp_feid_nn" CHECK ("original_id" is not null);
CREATE INDEX rhn_eclonedtmp_teid_feid_idx ON "rhnerrataclonedtmp" ("id","original_id");
CREATE INDEX rhn_eclonedtmp_feid_teid_idx ON "rhnerrataclonedtmp" ("original_id","id");

CREATE TABLE "rhnset" (
	"user_id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"element" float NOT NULL,
	"element_two" float
);
ALTER TABLE "rhnset" ADD CONSTRAINT "rhn_set_user_label_elem_unq" UNIQUE ("user_id","label","element","element_two");
ALTER TABLE "rhnset" ADD CONSTRAINT "rhn_set_user_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnset" ADD CONSTRAINT "rhn_set_elem_nn" CHECK ("element" is not null);
ALTER TABLE "rhnset" ADD CONSTRAINT "rhn_set_label_nn" CHECK ("label" is not null);

CREATE TABLE "rhnactionkickstart" (
	"id" float NOT NULL,
	"action_id" float NOT NULL,
	"append_string" varchar(1024),
	"kstree_id" float NOT NULL,
	"static_device" varchar(32),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionkickstart" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnactionkickstart" ADD CONSTRAINT "rhn_actionks_kstid_nn" CHECK ("kstree_id" is not null);
ALTER TABLE "rhnactionkickstart" ADD CONSTRAINT "rhn_actionks_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionkickstart" ADD CONSTRAINT "rhn_actionks_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionkickstart" ADD CONSTRAINT "rhn_actionks_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionkickstart" ADD CONSTRAINT "rhn_actionks_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_actionks_id_idx ON "rhnactionkickstart" ("id");
CREATE UNIQUE INDEX rhn_actionks_aid_uq ON "rhnactionkickstart" ("action_id");

CREATE TABLE "rhnpackagename" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL
);
ALTER TABLE "rhnpackagename" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagename" ADD CONSTRAINT "rhn_pn_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagename" ADD CONSTRAINT "rhn_pn_name_nn" CHECK ("name" is not null);
CREATE UNIQUE INDEX rhn_pn_name_uq ON "rhnpackagename" ("name");

CREATE TABLE "rhnkickstartsession" (
	"id" float NOT NULL,
	"kickstart_id" float,
	"kickstart_mode" varchar(32),
	"kstree_id" float,
	"org_id" float NOT NULL,
	"scheduler" float,
	"old_server_id" float,
	"new_server_id" float,
	"host_server_id" float,
	"action_id" float,
	"state_id" float NOT NULL,
	"server_profile_id" float,
	"last_action" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"package_fetch_count" float DEFAULT 0
				,
	"last_file_request" varchar(2048),
	"system_rhn_host" varchar(256),
	"kickstart_from_host" varchar(256),
	"deploy_configs" char(1) DEFAULT ('N')
				,
	"virtualization_type" float NOT NULL,
	"client_ip" varchar(15),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartsession" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_ksssid_nn" CHECK ("state_id" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_last_action_nn" CHECK ("last_action" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_kss_kvt_nn" CHECK ("virtualization_type" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_dc_nn" CHECK ("deploy_configs" is not null);
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_pfc_nn" CHECK ("package_fetch_count" is not null);
CREATE INDEX rhn_ks_session_osid_aid_idx ON "rhnkickstartsession" ("old_server_id","action_id");
CREATE INDEX rhn_ks_session_hsid_idx ON "rhnkickstartsession" ("host_server_id");
CREATE INDEX rhn_ks_session_oid_idx ON "rhnkickstartsession" ("org_id");
CREATE INDEX rhn_ks_session_nsid_idx ON "rhnkickstartsession" ("new_server_id");

CREATE TABLE "rhnactionpackageorder" (
	"action_package_id" float NOT NULL,
	"package_order" float NOT NULL
);
ALTER TABLE "rhnactionpackageorder" ADD CONSTRAINT "rhn_act_pkg_apid_nn" CHECK ("action_package_id" is not null);
ALTER TABLE "rhnactionpackageorder" ADD CONSTRAINT "rhn_act_pkg_order_nn" CHECK ("package_order" is not null);
CREATE INDEX rhn_act_pkg_apid_idx ON "rhnactionpackageorder" ("action_package_id");

CREATE TABLE "rhnusergroup" (
	"id" float NOT NULL,
	"name" varchar(64) NOT NULL,
	"description" varchar(1024) NOT NULL,
	"max_members" float,
	"current_members" float DEFAULT (0)
                        ,
	"group_type" float NOT NULL,
	"org_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnusergroup" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_ug_oid_gt_uq" UNIQUE ("org_id","group_type");
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_user_group_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_user_group_cm_nn" CHECK ("current_members" is not null);
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_user_group_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_user_group_org_id_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_usergroup_type_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_usergroup_type_nn" CHECK ("group_type" is not null);
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_user_group_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_usergroup_type_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_ug_org_id_name_idx ON "rhnusergroup" ("org_id","id","name");
CREATE INDEX rhn_ug_org_id_gtype_idx ON "rhnusergroup" ("org_id","group_type","id");
CREATE UNIQUE INDEX rhn_ug_oid_name_uq ON "rhnusergroup" ("org_id","name");
CREATE INDEX rhn_ug_org_id_type_idx ON "rhnusergroup" ("group_type","id");
CREATE INDEX rhn_ug_id_name_org ON "rhnusergroup" ("id","name","org_id");

CREATE TABLE "rhnkstreefile" (
	"kstree_id" float NOT NULL,
	"relative_filename" varchar(256) NOT NULL,
	"md5sum" varchar(64) NOT NULL,
	"file_size" float NOT NULL,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_rfn_nn" CHECK ("relative_filename" is not null);
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_md5sum_nn" CHECK ("md5sum" is not null);
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_file_size_nn" CHECK ("file_size" is not null);
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_lastmod_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_kid_nn" CHECK ("kstree_id" is not null);
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_kstreefile_kid_rfn_uq ON "rhnkstreefile" ("kstree_id","relative_filename");

CREATE TABLE "rhnorgerratacachequeue" (
	"org_id" float NOT NULL,
	"server_count" float NOT NULL,
	"processed" float DEFAULT (0)
                        
);
ALTER TABLE "rhnorgerratacachequeue" ADD CONSTRAINT "rhn_oecq_sc_nn" CHECK ("server_count" is not null);
ALTER TABLE "rhnorgerratacachequeue" ADD CONSTRAINT "rhn_oecq_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnorgerratacachequeue" ADD CONSTRAINT "rhn_oecq_oid_processed_nn" CHECK ("processed" is not null);
CREATE UNIQUE INDEX rhn_oecq_oid_uq ON "rhnorgerratacachequeue" ("org_id");

CREATE TABLE "rhnerratabuglisttmp" (
	"errata_id" float NOT NULL,
	"bug_id" float NOT NULL,
	"summary" varchar(4000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratabuglisttmp" ADD CONSTRAINT "rhn_errata_buglisttmp_m_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratabuglisttmp" ADD CONSTRAINT "rhn_errata_buglisttmp_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "rhnerratabuglisttmp" ADD CONSTRAINT "rhn_errata_buglisttmp_eid_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratabuglisttmp" ADD CONSTRAINT "rhn_errata_buglisttmp_c_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_err_buglisttmp_uq ON "rhnerratabuglisttmp" ("errata_id","bug_id");

CREATE TABLE "rhnerratakeyword" (
	"errata_id" float NOT NULL,
	"keyword" varchar(64),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratakeyword" ADD CONSTRAINT "rhn_err_keyword_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratakeyword" ADD CONSTRAINT "rhn_err_keyword_eid_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratakeyword" ADD CONSTRAINT "rhn_err_keyword_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_err_keyword_eid_uq ON "rhnerratakeyword" ("keyword","errata_id");
CREATE INDEX rhn_errkw_eid_idx ON "rhnerratakeyword" ("errata_id");

CREATE TABLE "rhngrailcomponents" (
	"id" float NOT NULL,
	"component_pkg" varchar(64) NOT NULL,
	"component_mode" varchar(64) NOT NULL,
	"config_mode" varchar(64),
	"component_label" varchar(128),
	"role_required" float
);
ALTER TABLE "rhngrailcomponents" ADD PRIMARY KEY ("id");
ALTER TABLE "rhngrailcomponents" ADD CONSTRAINT "rhn_grail_comp_mode_nn" CHECK ("component_mode" is not null);
ALTER TABLE "rhngrailcomponents" ADD CONSTRAINT "rhn_grail_comp_pkg_nn" CHECK ("component_pkg" is not null);
CREATE UNIQUE INDEX rhn_grail_comp_pkg_mode_uq ON "rhngrailcomponents" ("component_pkg","component_mode");
CREATE UNIQUE INDEX rhn_grail_comp_label_uq ON "rhngrailcomponents" ("component_label");

CREATE TABLE "rhnpushdispatcher" (
	"id" float NOT NULL,
	"jabber_id" varchar(128) NOT NULL,
	"last_checkin" timestamp DEFAULT CURRENT_TIMESTAMP
				,
	"hostname" varchar(256) NOT NULL,
	"port" float NOT NULL,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
				,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
				
);
ALTER TABLE "rhnpushdispatcher" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_jid_uq" UNIQUE ("jabber_id");
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_hn_nn" CHECK ("hostname" is not null);
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_lc_nn" CHECK ("last_checkin" is not null);
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_jid_nn" CHECK ("jabber_id" is not null);
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_port_nn" CHECK ("port" is not null);
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpushdispatcher" ADD CONSTRAINT "rhn_pushdispatch_creat_nn" CHECK ("created" is not null);
CREATE INDEX rhn_pushdispatch_jid_id_idx ON "rhnpushdispatcher" ("jabber_id","id");

CREATE TABLE "rhnserveraction" (
	"server_id" float NOT NULL,
	"action_id" float NOT NULL,
	"status" float NOT NULL,
	"result_code" float,
	"result_msg" varchar(1024),
	"pickup_time" timestamp,
	"remaining_tries" float DEFAULT (5)
			,
	"completion_time" timestamp,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_sid_aid_uq" UNIQUE ("server_id","action_id");
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_remaining_nn" CHECK ("remaining_tries" is not null);
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_status_nn" CHECK ("status" is not null);
CREATE INDEX rhn_ser_act_aid_sid_s_idx ON "rhnserveraction" ("action_id","server_id","status");
CREATE INDEX rhn_ser_act_sid_aid_s_idx ON "rhnserveraction" ("server_id","action_id","status");

CREATE TABLE "rhn_contact_group_members" (
	"contact_group_id" float NOT NULL,
	"order_number" float NOT NULL,
	"member_contact_method_id" float,
	"member_contact_group_id" float,
	"last_update_user" varchar(40) NOT NULL,
	"last_update_date" timestamp NOT NULL
);
ALTER TABLE "rhn_contact_group_members" ADD PRIMARY KEY ("contact_group_id","order_number");
ALTER TABLE "rhn_contact_group_members" ADD CONSTRAINT "rhn_cntgm_on_nn" CHECK ("order_number" is not null);
ALTER TABLE "rhn_contact_group_members" ADD CONSTRAINT "rhn_cntgm_last_user_nn" CHECK ("last_update_user" is not null);
ALTER TABLE "rhn_contact_group_members" ADD CONSTRAINT "rhn_cntgm_last_date_nn" CHECK ("last_update_date" is not null);
ALTER TABLE "rhn_contact_group_members" ADD CONSTRAINT "rhn_cntgm_cgid_nn" CHECK ("contact_group_id" is not null);
CREATE INDEX rhn_cntgm_mcmid_idx ON "rhn_contact_group_members" ("member_contact_method_id");
CREATE INDEX rhn_cntgm_mcgid_idx ON "rhn_contact_group_members" ("member_contact_group_id");
CREATE INDEX rhn_cntgm_cgid_order_idx ON "rhn_contact_group_members" ("contact_group_id","order_number");

CREATE TABLE "wm$version_hierarchy_table" (
	"version" float NOT NULL,
	"parent_version" float,
	"workspace" varchar(30)
);
ALTER TABLE "wm$version_hierarchy_table" ADD PRIMARY KEY ("version");
CREATE INDEX wm$vht_idx ON "wm$version_hierarchy_table" ("workspace","version");

CREATE TABLE "rhnserverchannelarchcompat" (
	"server_arch_id" float NOT NULL,
	"channel_arch_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverchannelarchcompat" ADD CONSTRAINT "rhn_sc_ac_said_nn" CHECK ("server_arch_id" is not null);
ALTER TABLE "rhnserverchannelarchcompat" ADD CONSTRAINT "rhn_sc_ac_caid_nn" CHECK ("channel_arch_id" is not null);
ALTER TABLE "rhnserverchannelarchcompat" ADD CONSTRAINT "rhn_sc_ac_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverchannelarchcompat" ADD CONSTRAINT "rhn_sc_ac_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_sc_ac_caid_paid ON "rhnserverchannelarchcompat" ("server_arch_id","channel_arch_id");
CREATE INDEX rhn_sc_ac_paid_caid ON "rhnserverchannelarchcompat" ("channel_arch_id","server_arch_id");

CREATE TABLE "rhn_sat_node" (
	"recid" float NOT NULL,
	"server_id" float,
	"target_type" varchar(10) DEFAULT 'node'
				,
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"mac_address" varchar(17) NOT NULL,
	"max_concurrent_checks" smallint,
	"sat_cluster_id" bigint NOT NULL,
	"ip" varchar(15),
	"sched_log_level" smallint DEFAULT (0)
				,
	"sput_log_level" smallint DEFAULT (0)
				,
	"dq_log_level" smallint DEFAULT (0)
				,
	"scout_shared_key" varchar(64) NOT NULL
);
ALTER TABLE "rhn_sat_node" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_mac_address_nn" CHECK ("mac_address" is not null);
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_target_type_ck" CHECK (target_type in ('node'));
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_dq_log_level_nn" CHECK ("dq_log_level" is not null);
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_ssk_nn" CHECK ("scout_shared_key" is not null);
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_sat_cluster_id_nn" CHECK ("sat_cluster_id" is not null);
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_sched_log_level_nn" CHECK ("sched_log_level" is not null);
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_target_type_nn" CHECK ("target_type" is not null);
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_sput_log_level_nn" CHECK ("sput_log_level" is not null);
CREATE INDEX rhn_sat_node_sid_idx ON "rhn_sat_node" ("server_id");
CREATE INDEX rhn_sat_node_scid_idx ON "rhn_sat_node" ("sat_cluster_id");

CREATE TABLE "rhn_multi_scout_threshold" (
	"probe_id" bigint NOT NULL,
	"scout_warning_threshold_is_all" char(1) DEFAULT '1'
        ,
	"scout_crit_threshold_is_all" char(1) DEFAULT '1'
        ,
	"scout_warning_threshold" bigint,
	"scout_critical_threshold" bigint
);
ALTER TABLE "rhn_multi_scout_threshold" ADD PRIMARY KEY ("probe_id");
ALTER TABLE "rhn_multi_scout_threshold" ADD CONSTRAINT "rhn_msthr_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_multi_scout_threshold" ADD CONSTRAINT "rhn_msthr_warn_thres_nn" CHECK ("scout_warning_threshold_is_all" is not null);
ALTER TABLE "rhn_multi_scout_threshold" ADD CONSTRAINT "rhn_msthr_crit_thres_nn" CHECK ("scout_crit_threshold_is_all" is not null);

CREATE TABLE "rhnactionpackageremovalfailure" (
	"server_id" float NOT NULL,
	"action_id" float NOT NULL,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"capability_id" float NOT NULL,
	"flags" float NOT NULL,
	"suggested" float,
	"sense" float NOT NULL
);
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_sense_nn" CHECK ("sense" is not null);
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_flags_nn" CHECK ("flags" is not null);
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_capid_nn" CHECK ("capability_id" is not null);
CREATE INDEX rhn_apr_failure_aid_sid_idx ON "rhnactionpackageremovalfailure" ("action_id","server_id");
CREATE INDEX rhn_apr_failure_sid_idx ON "rhnactionpackageremovalfailure" ("server_id");

CREATE TABLE "rhnconfigfile" (
	"id" float NOT NULL,
	"config_channel_id" float NOT NULL,
	"config_file_name_id" float NOT NULL,
	"latest_config_revision_id" float,
	"state_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnconfigfile" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_ccid_cfnid_uq" UNIQUE ("config_channel_id","config_file_name_id");
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_sid_nn" CHECK ("state_id" is not null);
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_cfnid_nn" CHECK ("config_file_name_id" is not null);
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_ccid_nn" CHECK ("config_channel_id" is not null);
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_creat_nn" CHECK ("created" is not null);
CREATE INDEX rhn_cnf_fl_lcrid_idx ON "rhnconfigfile" ("latest_config_revision_id");
CREATE INDEX rhn_conffile_cc_cfn_s_idx ON "rhnconfigfile" ("config_channel_id","config_file_name_id","state_id");

CREATE TABLE "rhnkickstartcommand" (
	"id" float NOT NULL,
	"kickstart_id" float NOT NULL,
	"ks_command_name_id" float NOT NULL,
	"arguments" varchar(2048),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartcommand" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartcommand" ADD CONSTRAINT "rhn_kscommand_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartcommand" ADD CONSTRAINT "rhn_kscommand_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartcommand" ADD CONSTRAINT "rhn_kscommand_kcnid_nn" CHECK ("ks_command_name_id" is not null);
ALTER TABLE "rhnkickstartcommand" ADD CONSTRAINT "rhn_kscommand_ksid_nn" CHECK ("kickstart_id" is not null);
CREATE INDEX rhn_kscommand_ksid_idx ON "rhnkickstartcommand" ("kickstart_id");

CREATE TABLE "rhnkickstartvirtualizationtype" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"label" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartvirtualizationtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartvirtualizationtype" ADD CONSTRAINT "rhn_kvt_label_unq" UNIQUE ("label");
ALTER TABLE "rhnkickstartvirtualizationtype" ADD CONSTRAINT "rhn_kvt_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnkickstartvirtualizationtype" ADD CONSTRAINT "rhn_kvt_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnkickstartvirtualizationtype" ADD CONSTRAINT "rhn_kvt_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartvirtualizationtype" ADD CONSTRAINT "rhn_kvt_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartvirtualizationtype" ADD CONSTRAINT "rhn_kvt_id_nn" CHECK ("id" is not null);

CREATE TABLE "rhnchannelfamilylicenseconsent" (
	"channel_family_id" float NOT NULL,
	"user_id" float NOT NULL,
	"server_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_cfid_nn" CHECK ("channel_family_id" is not null);
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_uid_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_cfl_consent_uid_idx ON "rhnchannelfamilylicenseconsent" ("user_id");
CREATE UNIQUE INDEX rhn_cfl_consent_cf_s_uq ON "rhnchannelfamilylicenseconsent" ("channel_family_id","server_id");
CREATE INDEX rhn_cfl_consent_sid_idx ON "rhnchannelfamilylicenseconsent" ("server_id");

CREATE TABLE "wm$resolve_workspaces_table" (
	"workspace" varchar(30) NOT NULL,
	"resolve_user" varchar(30),
	"undo_sp_name" varchar(30),
	"undo_sp_ver" float,
	"oldfreezemode" varchar(30),
	"oldfreezewriter" varchar(30)
);
ALTER TABLE "wm$resolve_workspaces_table" ADD PRIMARY KEY ("workspace");

CREATE TABLE "rhnvirtualinstancestate" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"label" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnvirtualinstancestate" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnvirtualinstancestate" ADD CONSTRAINT "rhn_vis_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnvirtualinstancestate" ADD CONSTRAINT "rhn_vis_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnvirtualinstancestate" ADD CONSTRAINT "rhn_vis_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnvirtualinstancestate" ADD CONSTRAINT "rhn_vis_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnvirtualinstancestate" ADD CONSTRAINT "rhn_vis_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_vis_lbl_id_idx ON "rhnvirtualinstancestate" ("label","id");

CREATE TABLE "rhnpackagechangelog" (
	"package_id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"text" varchar(3000) NOT NULL,
	"time" timestamp NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagechangelog" ADD CONSTRAINT "rhn_pkg_changelog_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackagechangelog" ADD CONSTRAINT "rhn_pkg_changelog_name" CHECK ("name" is not null);
ALTER TABLE "rhnpackagechangelog" ADD CONSTRAINT "rhn_pkg_changelog_text" CHECK ("text" is not null);
ALTER TABLE "rhnpackagechangelog" ADD CONSTRAINT "rhn_pkg_changelog_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagechangelog" ADD CONSTRAINT "rhn_pkg_changelog_time" CHECK ("time" is not null);
ALTER TABLE "rhnpackagechangelog" ADD CONSTRAINT "rhn_pkg_changelog_pid_nn" CHECK ("package_id" is not null);
CREATE UNIQUE INDEX rhn_pkg_cl_pid_n_txt_time_uq ON "rhnpackagechangelog" ("package_id","name","text","time");

CREATE TABLE "wm$ric_table" (
	"ct_owner" varchar(40) NOT NULL,
	"ct_name" varchar(40),
	"pt_owner" varchar(40),
	"pt_name" varchar(40),
	"ric_name" varchar(40) NOT NULL,
	"ct_cols" varchar(4000),
	"pt_cols" varchar(4000),
	"pt_unique_const_name" varchar(40),
	"my_mode" varchar(2),
	"status" varchar(8)
);
ALTER TABLE "wm$ric_table" ADD PRIMARY KEY ("ct_owner","ric_name");
CREATE INDEX wm$ric_table_ct_idx ON "wm$ric_table" ("ct_owner","ct_name");
CREATE INDEX wm$ric_table_pt_idx ON "wm$ric_table" ("pt_owner","pt_name");

CREATE TABLE "rhnusergrouptype" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnusergrouptype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnusergrouptype" ADD CONSTRAINT "rhn_usergrouptype_label_uq" UNIQUE ("label");
ALTER TABLE "rhnusergrouptype" ADD CONSTRAINT "rhn_usergrouptype_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnusergrouptype" ADD CONSTRAINT "rhn_usergrouptype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnusergrouptype" ADD CONSTRAINT "rhn_usergrouptype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnusergrouptype" ADD CONSTRAINT "rhn_usergrouptype_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnusergrouptype" ADD CONSTRAINT "rhn_usergrouptype_name_nn" CHECK ("name" is not null);
CREATE INDEX rhn_usergrouptype_label_id_idx ON "rhnusergrouptype" ("label","id");

CREATE TABLE "rhnserverdmi" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"vendor" varchar(256),
	"system" varchar(256),
	"product" varchar(256),
	"bios_vendor" varchar(256),
	"bios_version" varchar(256),
	"bios_release" varchar(256),
	"asset" varchar(256),
	"board" varchar(256),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverdmi" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverdmi" ADD CONSTRAINT "rhn_server_dmi_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverdmi" ADD CONSTRAINT "rhn_server_dmi_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverdmi" ADD CONSTRAINT "rhn_server_dmi_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnserverdmi" ADD CONSTRAINT "rhn_server_dmi_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_server_dmi_sid_idx ON "rhnserverdmi" ("server_id");

CREATE TABLE "rhnrelationshiptype" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"description" varchar(256),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnrelationshiptype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnrelationshiptype" ADD CONSTRAINT "rhn_reltype_label_uq" UNIQUE ("label");
ALTER TABLE "rhnrelationshiptype" ADD CONSTRAINT "rhn_reltype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnrelationshiptype" ADD CONSTRAINT "rhn_reltype_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnrelationshiptype" ADD CONSTRAINT "rhn_reltype_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnrelationshiptype" ADD CONSTRAINT "rhn_reltype_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_reltype_id_label_idx ON "rhnrelationshiptype" ("id","label");
CREATE INDEX rhn_reltype_label_id_idx ON "rhnrelationshiptype" ("label","id");

CREATE TABLE "rhnproductline" (
	"id" float NOT NULL,
	"label" varchar(128) NOT NULL,
	"name" varchar(128) NOT NULL,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnproductline" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_label_uq" UNIQUE ("label");
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_name_uq" UNIQUE ("name");
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_lm_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnproductline" ADD CONSTRAINT "rhn_prod_line_name_nn" CHECK ("name" is not null);
CREATE INDEX rhn_prod_line_label_idx ON "rhnproductline" ("label");
CREATE INDEX rhn_prod_line_id_idx ON "rhnproductline" ("id");
CREATE INDEX rhn_prod_line_name_idx ON "rhnproductline" ("name");

CREATE TABLE "rhn_widget" (
	"name" varchar(20) NOT NULL,
	"description" varchar(80) NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_widget" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_widget" ADD CONSTRAINT "rhn_wdget_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhn_widget" ADD CONSTRAINT "rhn_wdget_name_nn" CHECK ("name" is not null);

CREATE TABLE "wm$nextver_table" (
	"version" float,
	"next_vers" varchar(500),
	"workspace" varchar(30),
	"split" float
);
CREATE INDEX wm$nextver_table_indx ON "wm$nextver_table" ("version","next_vers");
CREATE UNIQUE INDEX wm$nextver_table_nv_indx ON "wm$nextver_table" ("next_vers","version","workspace");

CREATE TABLE "rhnuserinfo" (
	"user_id" float NOT NULL,
	"no_clear_sets" float DEFAULT (0)
			,
	"page_size" float DEFAULT (20)
			,
	"email_notify" float DEFAULT (1)
			,
	"bad_email" float DEFAULT (0)
			,
	"tz_offset" float DEFAULT (-5)
	    	    	,
	"timezone_id" float,
	"show_applied_errata" char(1) DEFAULT ('N')
			,
	"show_system_group_list" char(1) DEFAULT ('N')
			,
	"agreed_to_terms" char(1) DEFAULT ('N')
			,
	"use_pam_authentication" char(1) DEFAULT ('N')
			,
	"last_logged_in" timestamp,
	"agreed_to_ws_terms" char(1),
	"agreed_to_es_terms" char(1),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"preferred_locale" varchar(8)
);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_uid_uq" UNIQUE ("user_id");
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_ssgl_nn" CHECK ("show_system_group_list" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_pagesize_nn" CHECK ("page_size" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_pam_nn" CHECK ("use_pam_authentication" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_tzoffset_ck" CHECK (tz_offset >= -11 and tz_offset <= 13);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_es_ck" CHECK (agreed_to_es_terms is null or agreed_to_es_terms in ('Y','N'));
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_agreed_ck" CHECK (agreed_to_terms in ('Y','N'));
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_agreed_nn" CHECK ("agreed_to_terms" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_tzoffset_nn" CHECK ("tz_offset" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_pam_ck" CHECK (use_pam_authentication in ('Y','N'));
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_ws_ck" CHECK (agreed_to_ws_terms is null or agreed_to_ws_terms in ('Y','N'));
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_sea_ck" CHECK (show_applied_errata in ('Y','N'));
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_clearsets_nn" CHECK ("no_clear_sets" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_user_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_ssgl_ck" CHECK (show_system_group_list in ('Y','N'));
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_notify_nn" CHECK ("email_notify" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_bademail_nn" CHECK ("bad_email" is not null);
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_sea_nn" CHECK ("show_applied_errata" is not null);
CREATE INDEX rhn_user_info_uid_email_idx ON "rhnuserinfo" ("user_id","email_notify");

CREATE TABLE "rhnpackagesource" (
	"id" float NOT NULL,
	"org_id" float,
	"source_rpm_id" float NOT NULL,
	"package_group" float NOT NULL,
	"rpm_version" varchar(16) NOT NULL,
	"payload_size" float NOT NULL,
	"build_host" varchar(256) NOT NULL,
	"build_time" timestamp NOT NULL,
	"sigmd5" varchar(64) NOT NULL,
	"vendor" varchar(64) NOT NULL,
	"cookie" varchar(128) NOT NULL,
	"path" varchar(1000),
	"md5sum" varchar(64) NOT NULL,
	"package_size" float NOT NULL,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagesource" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_bt_nn" CHECK ("build_time" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_lm_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_vendor_nn" CHECK ("vendor" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_srid_nn" CHECK ("source_rpm_id" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_rpm_ver_nn" CHECK ("rpm_version" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_bh_nn" CHECK ("build_host" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_group_nn" CHECK ("package_group" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_cookie_nn" CHECK ("cookie" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_package_sigmd5_nn" CHECK ("sigmd5" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_md5sum_nn" CHECK ("md5sum" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_paysize_nn" CHECK ("payload_size" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_ps_nn" CHECK ("package_size" is not null);
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_pkgsrc_srid_oid_uq ON "rhnpackagesource" ("source_rpm_id","org_id");

CREATE TABLE "rhngrailcomponentchoices" (
	"user_id" float NOT NULL,
	"ordering" float NOT NULL,
	"component_pkg" varchar(64) NOT NULL,
	"component_mode" varchar(64) NOT NULL
);
ALTER TABLE "rhngrailcomponentchoices" ADD CONSTRAINT "rhn_grail_comp_ch_pkg_nn" CHECK ("component_pkg" is not null);
ALTER TABLE "rhngrailcomponentchoices" ADD CONSTRAINT "rhn_grail_comp_ch_mode_nn" CHECK ("component_mode" is not null);
ALTER TABLE "rhngrailcomponentchoices" ADD CONSTRAINT "rhn_grail_comp_ch_order_nn" CHECK ("ordering" is not null);
ALTER TABLE "rhngrailcomponentchoices" ADD CONSTRAINT "rhn_grail_comp_ch_nn" CHECK ("user_id" is not null);
CREATE INDEX rhn_grail_cmp_ch_user ON "rhngrailcomponentchoices" ("user_id");
CREATE UNIQUE INDEX rhn_grail_comp_ch_user_ord_uq ON "rhngrailcomponentchoices" ("user_id","ordering");

CREATE TABLE "plan_table" (
	"statement_id" varchar(30),
	"plan_id" float,
	"timestamp" timestamp,
	"remarks" varchar(4000),
	"operation" varchar(30),
	"options" varchar(255),
	"object_node" varchar(128),
	"object_owner" varchar(30),
	"object_name" varchar(30),
	"object_alias" varchar(65),
	"object_instance" float,
	"object_type" varchar(30),
	"optimizer" varchar(255),
	"search_columns" float,
	"id" float,
	"parent_id" float,
	"depth" float,
	"position" float,
	"cost" float,
	"cardinality" float,
	"bytes" float,
	"other_tag" varchar(255),
	"partition_start" varchar(255),
	"partition_stop" varchar(255),
	"partition_id" float,
	"other" text,
	"distribution" varchar(30),
	"cpu_cost" float,
	"io_cost" float,
	"temp_space" float,
	"access_predicates" varchar(4000),
	"filter_predicates" varchar(4000),
	"projection" varchar(4000),
	"time" float,
	"qblock_name" varchar(30),
	"other_xml" text
);

CREATE TABLE "rhnserverpreservefilelist" (
	"server_id" float NOT NULL,
	"file_list_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverpreservefilelist" ADD CONSTRAINT "rhn_serverpfl_ksid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverpreservefilelist" ADD CONSTRAINT "rhn_serverpfl_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverpreservefilelist" ADD CONSTRAINT "rhn_serverpfl_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverpreservefilelist" ADD CONSTRAINT "rhn_serverpfl_flid_nn" CHECK ("file_list_id" is not null);
CREATE INDEX rhn_serverpfl_flid_ksid_idx ON "rhnserverpreservefilelist" ("file_list_id","server_id");
CREATE UNIQUE INDEX rhn_serverpfl_ksid_flid_uq ON "rhnserverpreservefilelist" ("server_id","file_list_id");

CREATE TABLE "rhnserveractionpackageresult" (
	"server_id" float NOT NULL,
	"action_package_id" float NOT NULL,
	"result_code" float NOT NULL,
	"stdout" bytea,
	"stderr" bytea,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnserveractionpackageresult" ADD CONSTRAINT "rhn_sap_result_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserveractionpackageresult" ADD CONSTRAINT "rhn_sap_result_rc_nn" CHECK ("result_code" is not null);
ALTER TABLE "rhnserveractionpackageresult" ADD CONSTRAINT "rhn_sap_result_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserveractionpackageresult" ADD CONSTRAINT "rhn_sap_result_apid_nn" CHECK ("action_package_id" is not null);
ALTER TABLE "rhnserveractionpackageresult" ADD CONSTRAINT "rhn_sap_result_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_sap_result_sid_apid_uq ON "rhnserveractionpackageresult" ("server_id","action_package_id");

CREATE TABLE "rhntextmessage" (
	"message_id" float NOT NULL,
	"message_body" varchar(4000) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhntextmessage" ADD CONSTRAINT "rhn_tm_message_id_nn" CHECK ("message_id" is not null);
ALTER TABLE "rhntextmessage" ADD CONSTRAINT "rhn_tm_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhntextmessage" ADD CONSTRAINT "rhn_tm_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhntextmessage" ADD CONSTRAINT "rhn_tm_message_body_nn" CHECK ("message_body" is not null);

CREATE TABLE "rhnerratafiletmp" (
	"id" float NOT NULL,
	"errata_id" float NOT NULL,
	"type" float NOT NULL,
	"md5sum" varchar(64) NOT NULL,
	"filename" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratafiletmp" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_eid_file_uq" UNIQUE ("errata_id","filename");
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_errata_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_type_nn" CHECK ("type" is not null);
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_name_nn" CHECK ("filename" is not null);
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_md5_nn" CHECK ("md5sum" is not null);
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_erratafiletmp_id_idx ON "rhnerratafiletmp" ("id");
CREATE INDEX rhn_erratafiletmp_eid_file_idx ON "rhnerratafiletmp" ("errata_id","filename");

CREATE TABLE "rhnvirtsublevel" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(128) NOT NULL,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
            ,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
             
);
ALTER TABLE "rhnvirtsublevel" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnvirtsublevel" ADD CONSTRAINT "rhn_vsl_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnvirtsublevel" ADD CONSTRAINT "rhn_vsl_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnvirtsublevel" ADD CONSTRAINT "rhn_vsl_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnvirtsublevel" ADD CONSTRAINT "rhn_vsl_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_vsl_label_id_name_idx ON "rhnvirtsublevel" ("label","id","name");

CREATE TABLE "rhntimezone" (
	"id" float NOT NULL,
	"olson_name" varchar(128) NOT NULL,
	"display_name" varchar(128) NOT NULL
);
ALTER TABLE "rhntimezone" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntimezone" ADD CONSTRAINT "rhn_timezone_olson_nn" CHECK ("olson_name" is not null);
ALTER TABLE "rhntimezone" ADD CONSTRAINT "rhn_timezone_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhntimezone" ADD CONSTRAINT "rhn_timezone_display_nn" CHECK ("display_name" is not null);
CREATE INDEX rhn_timezone_id_idx ON "rhntimezone" ("id");
CREATE UNIQUE INDEX rhn_timezone_display_uq ON "rhntimezone" ("display_name");
CREATE UNIQUE INDEX rhn_timezone_olson_uq ON "rhntimezone" ("olson_name");

CREATE TABLE "rhnksinstalltype" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnksinstalltype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnksinstalltype" ADD CONSTRAINT "rhn_ksinstalltype_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnksinstalltype" ADD CONSTRAINT "rhn_ksinstalltype_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnksinstalltype" ADD CONSTRAINT "rhn_ksinstalltype_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnksinstalltype" ADD CONSTRAINT "rhn_ksinstalltype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnksinstalltype" ADD CONSTRAINT "rhn_ksinstalltype_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_ksinstalltype_label_uq ON "rhnksinstalltype" ("label");

CREATE TABLE "rhn_schedules" (
	"recid" float NOT NULL,
	"schedule_type_id" bigint NOT NULL,
	"description" varchar(40) DEFAULT 'unknown'
        ,
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"customer_id" bigint
);
ALTER TABLE "rhn_schedules" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_schedules" ADD CONSTRAINT "rhn_sched_recid_ck" CHECK (recid > 0);
ALTER TABLE "rhn_schedules" ADD CONSTRAINT "rhn_sched_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhn_schedules" ADD CONSTRAINT "rhn_sched_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_schedules" ADD CONSTRAINT "rhn_sched_type_id_nn" CHECK ("schedule_type_id" is not null);
CREATE UNIQUE INDEX rhn_cust_cust_id_desc_uq ON "rhn_schedules" ("customer_id","description");
CREATE INDEX rhn_sched_schedule_type_id_idx ON "rhn_schedules" ("schedule_type_id");

CREATE TABLE "rhn_environment" (
	"name" varchar(255) NOT NULL,
	"description" varchar(255)
);
ALTER TABLE "rhn_environment" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_environment" ADD CONSTRAINT "rhn_envir_name_nn" CHECK ("name" is not null);

CREATE TABLE "rhnuserdefaultsystemgroups" (
	"user_id" float NOT NULL,
	"system_group_id" float NOT NULL
);
ALTER TABLE "rhnuserdefaultsystemgroups" ADD CONSTRAINT "rhn_udsg_cid_nn" CHECK ("system_group_id" is not null);
ALTER TABLE "rhnuserdefaultsystemgroups" ADD CONSTRAINT "rhn_udsg_uid_nn" CHECK ("user_id" is not null);
CREATE INDEX rhn_udsg_sgid_uid_idx ON "rhnuserdefaultsystemgroups" ("system_group_id","user_id");
CREATE UNIQUE INDEX rhn_udsg_uid_sgid_idx ON "rhnuserdefaultsystemgroups" ("user_id","system_group_id");

CREATE TABLE "rhnsnperrataqueue" (
	"errata_id" float NOT NULL,
	"processed" float DEFAULT (0) -- this should get a check as well?
			
);
ALTER TABLE "rhnsnperrataqueue" ADD CONSTRAINT "rhn_snperrqueue_eid_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnsnperrataqueue" ADD CONSTRAINT "rhn_snperrqueue_processed_nn" CHECK ("processed" is not null);
CREATE UNIQUE INDEX rhn_snperrqueue_eid_uq ON "rhnsnperrataqueue" ("errata_id");

CREATE TABLE "rhnsnapshotchannel" (
	"snapshot_id" float NOT NULL,
	"channel_id" float NOT NULL
);
ALTER TABLE "rhnsnapshotchannel" ADD CONSTRAINT "rhn_snapchan_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnsnapshotchannel" ADD CONSTRAINT "rhn_snapchan_sid_nn" CHECK ("snapshot_id" is not null);
CREATE INDEX rhn_snapshot_cid_idx ON "rhnsnapshotchannel" ("channel_id");
CREATE UNIQUE INDEX rhn_snapchan_sid_cid_uq ON "rhnsnapshotchannel" ("snapshot_id","channel_id");

CREATE TABLE "rhnkickstartdefaultregtoken" (
	"kickstart_id" float NOT NULL,
	"regtoken_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartdefaultregtoken" ADD CONSTRAINT "rhn_ksdrt_ksid_nn" CHECK ("kickstart_id" is not null);
ALTER TABLE "rhnkickstartdefaultregtoken" ADD CONSTRAINT "rhn_ksdrt_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartdefaultregtoken" ADD CONSTRAINT "rhn_ksdrt_rtid_nn" CHECK ("regtoken_id" is not null);
ALTER TABLE "rhnkickstartdefaultregtoken" ADD CONSTRAINT "rhn_ksdrt_creat_nn" CHECK ("created" is not null);
CREATE INDEX rhn_ksdrt_rtid_idx ON "rhnkickstartdefaultregtoken" ("regtoken_id");
CREATE INDEX rhn_ksdrt_ksid_rtid_idx ON "rhnkickstartdefaultregtoken" ("kickstart_id","regtoken_id");

CREATE TABLE "rhnactionvirtresume" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtresume" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtresume" ADD CONSTRAINT "rhn_avresume_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtresume" ADD CONSTRAINT "rhn_avresume_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionvirtresume" ADD CONSTRAINT "rhn_avresume_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtresume" ADD CONSTRAINT "rhn_avresume_uuid_nn" CHECK ("uuid" is not null);
CREATE UNIQUE INDEX rhn_avresume_aid_uq ON "rhnactionvirtresume" ("action_id");

CREATE TABLE "rhnpackagesigtype" (
	"id" float NOT NULL,
	"name" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagesigtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagesigtype" ADD CONSTRAINT "rhn_pkg_sigtype_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnpackagesigtype" ADD CONSTRAINT "rhn_pkg_sigtype_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackagesigtype" ADD CONSTRAINT "rhn_pkg_sigtype_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagesigtype" ADD CONSTRAINT "rhn_pkg_sigtype_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_pkg_sigtype_name_uq ON "rhnpackagesigtype" ("name");

CREATE TABLE "rhnserverevent" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"details" varchar(4000) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverevent" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverevent" ADD CONSTRAINT "rhn_se_details_nn" CHECK ("details" is not null);
ALTER TABLE "rhnserverevent" ADD CONSTRAINT "rhn_se_server_id_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverevent" ADD CONSTRAINT "rhn_se_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverevent" ADD CONSTRAINT "rhn_se_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverevent" ADD CONSTRAINT "rhn_se_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_se_idx ON "rhnserverevent" ("server_id");

CREATE TABLE "web_user_contact_permission" (
	"web_user_id" float NOT NULL,
	"email" char(1) DEFAULT ('N')
				,
	"mail" char(1) DEFAULT ('N')
				,
	"call" char(1) DEFAULT ('N')
				,
	"fax" char(1) DEFAULT ('N')
				,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "wucp_fax_ck" CHECK (fax in ('Y','N'));
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "wucp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "wucp_wuid_nn" CHECK ("web_user_id" is not null);
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "wucp_email_ck" CHECK (email in ('Y','N'));
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "wucp_call_ck" CHECK (call in ('Y','N'));
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "wucp_mail_ck" CHECK (mail in ('Y','N'));
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "wucp_created_nn" CHECK ("created" is not null);

CREATE TABLE "rhnserverinstallinfo" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"install_method" varchar(32) NOT NULL,
	"iso_status" float,
	"mediasum" varchar(64),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverinstallinfo" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverinstallinfo" ADD CONSTRAINT "rhn_server_install_info_cr_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverinstallinfo" ADD CONSTRAINT "rhn_server_install_info_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverinstallinfo" ADD CONSTRAINT "rhn_server_install_info_md_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverinstallinfo" ADD CONSTRAINT "rhn_server_install_info_im_nn" CHECK ("install_method" is not null);
ALTER TABLE "rhnserverinstallinfo" ADD CONSTRAINT "rhn_server_install_info_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_server_install_info_sid_uq ON "rhnserverinstallinfo" ("server_id");
CREATE INDEX rhn_s_inst_info_sid_im_idx ON "rhnserverinstallinfo" ("server_id","install_method");

CREATE TABLE "rhn_command_target" (
	"recid" float NOT NULL,
	"target_type" varchar(10) NOT NULL,
	"customer_id" bigint NOT NULL
);
ALTER TABLE "rhn_command_target" ADD PRIMARY KEY ("recid","target_type");
ALTER TABLE "rhn_command_target" ADD CONSTRAINT "rhn_cmdtg_target_ty_nn" CHECK ("target_type" is not null);
ALTER TABLE "rhn_command_target" ADD CONSTRAINT "cmdtg_target_type_ck" CHECK (target_type in ('cluster','node'));
ALTER TABLE "rhn_command_target" ADD CONSTRAINT "rhn_cmdtg_cust_id_nn" CHECK ("customer_id" is not null);
ALTER TABLE "rhn_command_target" ADD CONSTRAINT "rhn_cmdtg_recid_nn" CHECK ("recid" is not null);
CREATE UNIQUE INDEX rhn_cmdtg_recid_pk ON "rhn_command_target" ("recid","target_type");
CREATE INDEX rhn_cmdtg_cid_idx ON "rhn_command_target" ("customer_id");

CREATE TABLE "rhn_strategies" (
	"recid" float NOT NULL,
	"name" varchar(80),
	"comp_crit" varchar(80),
	"esc_crit" varchar(80),
	"contact_strategy" varchar(32),
	"ack_completed" varchar(32)
);
ALTER TABLE "rhn_strategies" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_strategies" ADD CONSTRAINT "rhn_strat_ack_comp_ck" CHECK (ack_completed in ( 'All', 'One','No' ));
ALTER TABLE "rhn_strategies" ADD CONSTRAINT "rhn_strat_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_strategies" ADD CONSTRAINT "rhn_strat_cont_strat_ck" CHECK (contact_strategy in ('Broadcast','Escalate'));
ALTER TABLE "rhn_strategies" ADD CONSTRAINT "rhn_strat_recid_ck" CHECK (recid > 0);

CREATE TABLE "rhninfopane" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"acl" varchar(4000)
);
ALTER TABLE "rhninfopane" ADD PRIMARY KEY ("id");
ALTER TABLE "rhninfopane" ADD CONSTRAINT "rhn_info_pane_labl_nn" CHECK ("label" is not null);
CREATE UNIQUE INDEX rhn_info_pane_labl_uq ON "rhninfopane" ("label");

CREATE TABLE "rhnactionpackagedelta" (
	"action_id" float NOT NULL,
	"package_delta_id" float NOT NULL
);
ALTER TABLE "rhnactionpackagedelta" ADD CONSTRAINT "rhn_act_pd_pdid_nn" CHECK ("package_delta_id" is not null);
ALTER TABLE "rhnactionpackagedelta" ADD CONSTRAINT "rhn_act_pd_aid_nn" CHECK ("action_id" is not null);
CREATE UNIQUE INDEX rhn_act_pd_aid_pdid_idx ON "rhnactionpackagedelta" ("action_id","package_delta_id");

CREATE TABLE "rhncpu" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"cpu_arch_id" float NOT NULL,
	"bogomips" varchar(16),
	"cache" varchar(16),
	"family" varchar(32),
	"mhz" varchar(16),
	"stepping" varchar(16),
	"flags" varchar(2048),
	"model" varchar(64),
	"version" varchar(32),
	"vendor" varchar(32),
	"nrcpu" float DEFAULT 1,
	"acpiversion" varchar(64),
	"apic" varchar(32),
	"apmversion" varchar(32),
	"chipset" varchar(64),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhncpu" ADD PRIMARY KEY ("id");
ALTER TABLE "rhncpu" ADD CONSTRAINT "rhn_cpu_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhncpu" ADD CONSTRAINT "rhn_cpu_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhncpu" ADD CONSTRAINT "rhn_cpu_caid_nn" CHECK ("cpu_arch_id" is not null);
ALTER TABLE "rhncpu" ADD CONSTRAINT "rhn_cpu_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhncpu" ADD CONSTRAINT "rhn_cpu_server_nn" CHECK ("server_id" is not null);
CREATE INDEX rhn_cpu_server_id_idx ON "rhncpu" ("server_id");

CREATE TABLE "rhndistchannelmap" (
	"os" varchar(64) NOT NULL,
	"release" varchar(64) NOT NULL,
	"channel_arch_id" float NOT NULL,
	"channel_id" float NOT NULL
);
ALTER TABLE "rhndistchannelmap" ADD CONSTRAINT "rhn_dcm_os_release_caid_uq" UNIQUE ("os","release","channel_arch_id");
ALTER TABLE "rhndistchannelmap" ADD CONSTRAINT "rhn_dcm_release_nn" CHECK ("release" is not null);
ALTER TABLE "rhndistchannelmap" ADD CONSTRAINT "rhn_dcm_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhndistchannelmap" ADD CONSTRAINT "rhn_dcm_caid_nn" CHECK ("channel_arch_id" is not null);
ALTER TABLE "rhndistchannelmap" ADD CONSTRAINT "rhn_dcm_os_nn" CHECK ("os" is not null);
CREATE INDEX rhn_dcm_os_release_caid_idx ON "rhndistchannelmap" ("os","release","channel_arch_id");

CREATE TABLE "valid_countries" (
	"code" varchar(2) NOT NULL,
	"short_name" varchar(80) NOT NULL,
	"name" varchar(240)
);
ALTER TABLE "valid_countries" ADD PRIMARY KEY ("code");

CREATE TABLE "rhn_check_suites" (
	"recid" float NOT NULL,
	"customer_id" bigint NOT NULL,
	"suite_name" varchar(40) NOT NULL,
	"description" varchar(255),
	"last_update_user" varchar(40) NOT NULL,
	"last_update_date" timestamp NOT NULL
);
ALTER TABLE "rhn_check_suites" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_check_suites" ADD CONSTRAINT "rhn_cksut_custid_nn" CHECK ("customer_id" is not null);
ALTER TABLE "rhn_check_suites" ADD CONSTRAINT "rhn_cksut_last_user_nn" CHECK ("last_update_user" is not null);
ALTER TABLE "rhn_check_suites" ADD CONSTRAINT "rhn_cksut_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_check_suites" ADD CONSTRAINT "rhn_cksut_suite_name_nn" CHECK ("suite_name" is not null);
ALTER TABLE "rhn_check_suites" ADD CONSTRAINT "rhn_cksut_last_date_nn" CHECK ("last_update_date" is not null);
CREATE INDEX rhn_cksut_cid_idx ON "rhn_check_suites" ("customer_id");

CREATE TABLE "rhnserverneedederratacache" (
	"org_id" float NOT NULL,
	"server_id" float NOT NULL,
	"errata_id" float
);
ALTER TABLE "rhnserverneedederratacache" ADD CONSTRAINT "rhn_snec_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverneedederratacache" ADD CONSTRAINT "rhn_snec_oid_nn" CHECK ("org_id" is not null);
CREATE INDEX rhn_snec_sid_eid_idx ON "rhnserverneedederratacache" ("server_id","errata_id");
CREATE INDEX rhn_snec_oid_eid_sid_idx ON "rhnserverneedederratacache" ("org_id","errata_id","server_id");
CREATE INDEX rhn_snec_eid_sid_idx ON "rhnserverneedederratacache" ("errata_id","server_id");

CREATE TABLE "rhnsatellitecert" (
	"label" varchar(64) NOT NULL,
	"version" float,
	"cert" bytea NOT NULL,
	"issued" timestamp DEFAULT (CURRENT_TIMESTAMP),
	"expires" timestamp DEFAULT (CURRENT_TIMESTAMP),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnsatellitecert" ADD CONSTRAINT "rhn_satcert_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsatellitecert" ADD CONSTRAINT "rhn_satcert_cert_nn" CHECK ("cert" is not null);
ALTER TABLE "rhnsatellitecert" ADD CONSTRAINT "rhn_satcert_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnsatellitecert" ADD CONSTRAINT "rhn_satcert_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_satcert_label_version_uq ON "rhnsatellitecert" ("label","version");

CREATE TABLE "rhndownloadtype" (
	"id" float NOT NULL,
	"label" varchar(48) NOT NULL,
	"name" varchar(96) NOT NULL
);
ALTER TABLE "rhndownloadtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhndownloadtype" ADD CONSTRAINT "rhn_download_type_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhndownloadtype" ADD CONSTRAINT "rhn_download_type_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhndownloadtype" ADD CONSTRAINT "rhn_download_type_name_nn" CHECK ("name" is not null);
CREATE UNIQUE INDEX rhn_download_type_name_uq ON "rhndownloadtype" ("name");
CREATE UNIQUE INDEX rhn_download_type_label_uq ON "rhndownloadtype" ("label");

CREATE TABLE "rhn_command_param_threshold" (
	"command_id" bigint NOT NULL,
	"param_name" varchar(40) NOT NULL,
	"param_type" varchar(10) NOT NULL,
	"threshold_type_name" varchar(10) NOT NULL,
	"threshold_metric_id" varchar(40) NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"command_class" varchar(255) NOT NULL
);
ALTER TABLE "rhn_command_param_threshold" ADD PRIMARY KEY ("command_id","param_name","param_type");
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_param_type_ck" CHECK (param_type='threshold');
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_command_class_nn" CHECK ("command_class" is not null);
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_param_type_nn" CHECK ("param_type" is not null);
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_thres_name_nn" CHECK ("threshold_type_name" is not null);
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_param_name_nn" CHECK ("param_name" is not null);
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_thres_met_id_nn" CHECK ("threshold_metric_id" is not null);
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_command_id_nn" CHECK ("command_id" is not null);

CREATE TABLE "rhnerratapackage" (
	"errata_id" float NOT NULL,
	"package_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratapackage" ADD CONSTRAINT "rhn_err_pkg_eid_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratapackage" ADD CONSTRAINT "rhn_err_pkg_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratapackage" ADD CONSTRAINT "rhn_err_pkg_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratapackage" ADD CONSTRAINT "rhn_err_pkg_pid_nn" CHECK ("package_id" is not null);
CREATE INDEX rhn_err_pkg_pid_eid_idx ON "rhnerratapackage" ("package_id","errata_id");
CREATE UNIQUE INDEX rhn_err_pkg_eid_pid_uq ON "rhnerratapackage" ("errata_id","package_id");

CREATE TABLE "rhndownloads" (
	"id" float NOT NULL,
	"channel_family_id" float NOT NULL,
	"file_id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"category" varchar(128) NOT NULL,
	"ordering" float NOT NULL,
	"download_type" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"release_notes_url" varchar(512)
);
ALTER TABLE "rhndownloads" ADD PRIMARY KEY ("id");
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_ord_nn" CHECK ("ordering" is not null);
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_cat_nn" CHECK ("category" is not null);
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_fid_nn" CHECK ("file_id" is not null);
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_cfid_nn" CHECK ("channel_family_id" is not null);

CREATE TABLE "rhn_check_probe" (
	"probe_id" bigint NOT NULL,
	"probe_type" varchar(12) DEFAULT 'check'
        ,
	"host_id" bigint NOT NULL,
	"sat_cluster_id" bigint NOT NULL
);
ALTER TABLE "rhn_check_probe" ADD PRIMARY KEY ("probe_id");
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "rhn_chk_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "rhn_chkpb_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "chkpb_probe_type_ck" CHECK (probe_type='check');
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "rhn_chk_host_id_nn" CHECK ("host_id" is not null);
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "rhn_chk_sat_cluster_id_nn" CHECK ("sat_cluster_id" is not null);
CREATE UNIQUE INDEX rhn_chkpb_pid_ptype_uq_idx ON "rhn_check_probe" ("probe_id","probe_type");
CREATE INDEX rhn_chkpb_sat_cluster_id_idx ON "rhn_check_probe" ("sat_cluster_id");
CREATE INDEX rhn_chkpb_host_id_idx ON "rhn_check_probe" ("host_id");

CREATE TABLE "rhnserveractionscriptresult" (
	"server_id" float NOT NULL,
	"action_script_id" float NOT NULL,
	"output" bytea,
	"start_date" timestamp NOT NULL,
	"stop_date" timestamp NOT NULL,
	"return_code" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_return_nn" CHECK ("return_code" is not null);
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_asid_nn" CHECK ("action_script_id" is not null);
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_start_nn" CHECK ("start_date" is not null);
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_stop_nn" CHECK ("stop_date" is not null);
CREATE INDEX rhn_serveras_result_asid_idx ON "rhnserveractionscriptresult" ("action_script_id");
CREATE UNIQUE INDEX rhn_serveras_result_sas_uq ON "rhnserveractionscriptresult" ("server_id","action_script_id");

CREATE TABLE "rhnpackageobsoletes" (
	"package_id" float NOT NULL,
	"capability_id" float NOT NULL,
	"sense" float DEFAULT (0) -- comes from RPMSENSE_*
                        ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnpackageobsoletes" ADD CONSTRAINT "rhn_pkg_obsoletes_mtime_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackageobsoletes" ADD CONSTRAINT "rhn_pkg_obsoletes_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnpackageobsoletes" ADD CONSTRAINT "rhn_pkg_obsoletes_cid_nn" CHECK ("capability_id" is not null);
ALTER TABLE "rhnpackageobsoletes" ADD CONSTRAINT "rhn_pkg_obsoletes_ctime_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackageobsoletes" ADD CONSTRAINT "rhn_pkg_obsoletes_sense_nn" CHECK ("sense" is not null);
CREATE UNIQUE INDEX rhn_pkg_obsol_pid_cid_s_uq ON "rhnpackageobsoletes" ("package_id","capability_id","sense");
CREATE INDEX rhn_pkg_obsoletes_cid_idx ON "rhnpackageobsoletes" ("capability_id");

CREATE TABLE "rhnchanneldownloads" (
	"channel_id" float NOT NULL,
	"downloads_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchanneldownloads" ADD CONSTRAINT "rhn_cd_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchanneldownloads" ADD CONSTRAINT "rhn_cd_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnchanneldownloads" ADD CONSTRAINT "rhn_cd_did_nn" CHECK ("downloads_id" is not null);
ALTER TABLE "rhnchanneldownloads" ADD CONSTRAINT "rhn_cd_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_cd_did_cid_idx ON "rhnchanneldownloads" ("downloads_id","channel_id");
CREATE UNIQUE INDEX rhn_cd_ce_uq ON "rhnchanneldownloads" ("channel_id","downloads_id");

CREATE TABLE "rhnconfigcontent" (
	"id" float NOT NULL,
	"contents" bytea,
	"file_size" float,
	"md5sum" varchar(64) NOT NULL,
	"is_binary" char(1) DEFAULT ('N')
				,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnconfigcontent" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigcontent" ADD CONSTRAINT "rhn_confcontent_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnconfigcontent" ADD CONSTRAINT "rhn_confcontent_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnconfigcontent" ADD CONSTRAINT "rhn_confcontent_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigcontent" ADD CONSTRAINT "rhn_confcontent_isbin_nn" CHECK ("is_binary" is not null);
ALTER TABLE "rhnconfigcontent" ADD CONSTRAINT "rhn_confcontent_isbin_ck" CHECK (is_binary in ('Y','N'));
ALTER TABLE "rhnconfigcontent" ADD CONSTRAINT "rhn_confcontent_md5_nn" CHECK ("md5sum" is not null);
CREATE INDEX rhn_confcontent_md5_uq ON "rhnconfigcontent" ("md5sum");

CREATE TABLE "wm$log_table" (
	"group#" float NOT NULL,
	"order#" float NOT NULL,
	"owner" varchar(30),
	"sql_str" text
);
ALTER TABLE "wm$log_table" ADD PRIMARY KEY ("group#","order#");

CREATE TABLE "rhnerrataqueue" (
	"errata_id" float NOT NULL,
	"next_action" timestamp,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnerrataqueue" ADD CONSTRAINT "rhn_equeue_eoid_uq" UNIQUE ("errata_id");
ALTER TABLE "rhnerrataqueue" ADD CONSTRAINT "rhn_equeue_eid_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerrataqueue" ADD CONSTRAINT "rhn_equeue_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerrataqueue" ADD CONSTRAINT "rhn_equeue_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_equeue_eid_idx ON "rhnerrataqueue" ("errata_id");
CREATE INDEX rhn_equeue_na_eid_idx ON "rhnerrataqueue" ("next_action","errata_id");

CREATE TABLE "rhnactionconfigdate" (
	"action_id" float NOT NULL,
	"start_date" timestamp NOT NULL,
	"end_date" timestamp,
	"import_contents" char(1) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionconfigdate" ADD CONSTRAINT "rhn_actioncd_start_nn" CHECK ("start_date" is not null);
ALTER TABLE "rhnactionconfigdate" ADD CONSTRAINT "rhn_actioncd_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionconfigdate" ADD CONSTRAINT "rhn_actioncd_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionconfigdate" ADD CONSTRAINT "rhn_actioncd_file_ic_ck" CHECK (import_contents in ('Y','N'));
ALTER TABLE "rhnactionconfigdate" ADD CONSTRAINT "rhn_actioncd_file_ic_nn" CHECK ("import_contents" is not null);
ALTER TABLE "rhnactionconfigdate" ADD CONSTRAINT "rhn_actioncd_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_actioncd_aid_uq ON "rhnactionconfigdate" ("action_id");

CREATE TABLE "wm$removed_workspaces_table" (
	"owner" varchar(30),
	"workspace_name" varchar(30),
	"workspace_id" float NOT NULL,
	"parent_workspace_name" varchar(30),
	"parent_workspace_id" float,
	"createtime" timestamp,
	"retiretime" timestamp,
	"description" varchar(1000),
	"mp_root_id" float,
	"isrefreshed" float
);
ALTER TABLE "wm$removed_workspaces_table" ADD PRIMARY KEY ("workspace_id");

CREATE TABLE "rhnorgentitlements" (
	"org_id" float NOT NULL,
	"entitlement_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnorgentitlements" ADD CONSTRAINT "rhn_org_ent_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnorgentitlements" ADD CONSTRAINT "rhn_org_ent_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnorgentitlements" ADD CONSTRAINT "rhn_org_ent_eid_nn" CHECK ("entitlement_id" is not null);
ALTER TABLE "rhnorgentitlements" ADD CONSTRAINT "rhn_org_ent_cre_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_org_ent_org_eid_uq ON "rhnorgentitlements" ("org_id","entitlement_id");

CREATE TABLE "db_change_resource_changes" (
	"change_type" varchar(10) NOT NULL
);
ALTER TABLE "db_change_resource_changes" ADD PRIMARY KEY ("change_type");
ALTER TABLE "db_change_resource_changes" ADD CONSTRAINT "dc_resourcechange_type_nn" CHECK ("change_type" is not null);
CREATE INDEX dc_resourcechange_type_idx ON "db_change_resource_changes" ("change_type");

CREATE TABLE "wm$tmp_dba_constraints" (
	"owner" varchar(30),
	"table_name" varchar(30),
	"constraint_name" varchar(30),
	"constraint_type" varchar(30),
	"r_constraint_name" varchar(30),
	"r_owner" varchar(30)
);
CREATE INDEX wm$tmp_dba_cons_ind ON "wm$tmp_dba_constraints" ("owner","table_name");

CREATE TABLE "rhn_redirect_match_types" (
	"name" varchar(255) NOT NULL
);
ALTER TABLE "rhn_redirect_match_types" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_redirect_match_types" ADD CONSTRAINT "rhn_rdrmt_name_nn" CHECK ("name" is not null);

CREATE TABLE "rhntransactionpackage" (
	"id" float NOT NULL,
	"operation" float NOT NULL,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"package_arch_id" float
);
ALTER TABLE "rhntransactionpackage" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_op_nn" CHECK ("operation" is not null);
CREATE UNIQUE INDEX rhn_transpack_onea_uq ON "rhntransactionpackage" ("operation","name_id","evr_id","package_arch_id");

CREATE TABLE "rhnpackagesyncblacklist" (
	"package_name_id" float NOT NULL,
	"org_id" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnpackagesyncblacklist" ADD CONSTRAINT "rhn_packagesyncbl_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagesyncblacklist" ADD CONSTRAINT "rhn_packagesyncbl_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackagesyncblacklist" ADD CONSTRAINT "rhn_packagesyncbl_pnid_nn" CHECK ("package_name_id" is not null);
CREATE UNIQUE INDEX rhn_packagesyncbl_pnid_oid_uq ON "rhnpackagesyncblacklist" ("package_name_id","org_id");
CREATE INDEX rhn_packagesyncbl_oid_idx ON "rhnpackagesyncblacklist" ("org_id");

CREATE TABLE "rhnconfigfiletype" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(256) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnconfigfiletype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigfiletype" ADD CONSTRAINT "rhn_conffiletype_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnconfigfiletype" ADD CONSTRAINT "rhn_conffiletype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigfiletype" ADD CONSTRAINT "rhn_conffiletype_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnconfigfiletype" ADD CONSTRAINT "rhn_conffiletype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnconfigfiletype" ADD CONSTRAINT "rhn_conffiletype_creat_nn" CHECK ("created" is not null);

CREATE TABLE "rhnconfigfilestate" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(256) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnconfigfilestate" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigfilestate" ADD CONSTRAINT "rhn_cfstate_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnconfigfilestate" ADD CONSTRAINT "rhn_cfstate_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnconfigfilestate" ADD CONSTRAINT "rhn_cfstate_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigfilestate" ADD CONSTRAINT "rhn_cfstate_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnconfigfilestate" ADD CONSTRAINT "rhn_cfstate_name_nn" CHECK ("name" is not null);
CREATE UNIQUE INDEX rhn_cfstate_label_id_uq ON "rhnconfigfilestate" ("label","id");

CREATE TABLE "rhnserverservergrouparchcompat" (
	"server_arch_id" float NOT NULL,
	"server_group_type" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverservergrouparchcompat" ADD CONSTRAINT "rhn_ssg_ac_said_nn" CHECK ("server_arch_id" is not null);
ALTER TABLE "rhnserverservergrouparchcompat" ADD CONSTRAINT "rhn_ssg_ac_sgt_nn" CHECK ("server_group_type" is not null);
ALTER TABLE "rhnserverservergrouparchcompat" ADD CONSTRAINT "rhn_ssg_ac_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverservergrouparchcompat" ADD CONSTRAINT "rhn_ssg_ac_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_ssg_ac_said_sgt_uq ON "rhnserverservergrouparchcompat" ("server_arch_id","server_group_type");
CREATE INDEX rhn_ssg_ac_sgt_said_idx ON "rhnserverservergrouparchcompat" ("server_group_type","server_arch_id");

CREATE TABLE "rhnactiontype" (
	"id" float NOT NULL,
	"label" varchar(48) NOT NULL,
	"name" varchar(96) NOT NULL,
	"trigger_snapshot" char(1) DEFAULT ('N')
				,
	"unlocked_only" char(1) DEFAULT ('N')
				
);
ALTER TABLE "rhnactiontype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnactiontype" ADD CONSTRAINT "rhn_action_type_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnactiontype" ADD CONSTRAINT "rhn_action_type_unlck_ck" CHECK (unlocked_only in ('Y','N'));
ALTER TABLE "rhnactiontype" ADD CONSTRAINT "rhn_action_type_trigsnap_nn" CHECK ("trigger_snapshot" is not null);
ALTER TABLE "rhnactiontype" ADD CONSTRAINT "rhn_action_type_trigsnap_ck" CHECK (trigger_snapshot in ('Y','N'));
ALTER TABLE "rhnactiontype" ADD CONSTRAINT "rhn_action_type_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnactiontype" ADD CONSTRAINT "rhn_action_type_unlck_nn" CHECK ("unlocked_only" is not null);
ALTER TABLE "rhnactiontype" ADD CONSTRAINT "rhn_action_type_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_action_type_name_uq ON "rhnactiontype" ("name");
CREATE UNIQUE INDEX rhn_action_type_label_uq ON "rhnactiontype" ("label");

CREATE TABLE "rhnservertokenregs" (
	"token_id" float NOT NULL,
	"server_id" float NOT NULL
);
ALTER TABLE "rhnservertokenregs" ADD CONSTRAINT "rhn_srv_reg_tok_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnservertokenregs" ADD CONSTRAINT "rhn_srv_reg_tok_tid_nn" CHECK ("token_id" is not null);
CREATE INDEX rhn_srvr_tkn_rgs_sid_tid_idx ON "rhnservertokenregs" ("server_id","token_id");
CREATE INDEX rhn_srv_reg_tok_ts_idx ON "rhnservertokenregs" ("token_id","server_id");

CREATE TABLE "rhnactiondaemonconfig" (
	"action_id" float NOT NULL,
	"interval" float NOT NULL,
	"restart" char(1) DEFAULT 'Y'
                                ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactiondaemonconfig" ADD CONSTRAINT "rhn_actiondc_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactiondaemonconfig" ADD CONSTRAINT "rhn_actiondc_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactiondaemonconfig" ADD CONSTRAINT "rhn_actiondc_rest_ck" CHECK (restart in ('Y','N'));
ALTER TABLE "rhnactiondaemonconfig" ADD CONSTRAINT "rhn_actiondc_int_nn" CHECK ("interval" is not null);
ALTER TABLE "rhnactiondaemonconfig" ADD CONSTRAINT "rhn_actiondc_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactiondaemonconfig" ADD CONSTRAINT "rhn_actiondc_rest_nn" CHECK ("restart" is not null);
CREATE UNIQUE INDEX rhn_actiondc_aid_uq ON "rhnactiondaemonconfig" ("action_id");

CREATE TABLE "rhnserverneededpackagecache" (
	"org_id" float NOT NULL,
	"server_id" float NOT NULL,
	"errata_id" float,
	"package_id" float NOT NULL
);
ALTER TABLE "rhnserverneededpackagecache" ADD CONSTRAINT "rhn_sncp_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnserverneededpackagecache" ADD CONSTRAINT "rhn_sncp_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnserverneededpackagecache" ADD CONSTRAINT "rhn_sncp_sid_nn" CHECK ("server_id" is not null);
CREATE INDEX rhn_snpc_pid_idx ON "rhnserverneededpackagecache" ("package_id");
CREATE INDEX rhn_snpc_sid_idx ON "rhnserverneededpackagecache" ("server_id");
CREATE INDEX rhn_snpc_eid_idx ON "rhnserverneededpackagecache" ("errata_id");
CREATE INDEX rhn_snpc_oid_idx ON "rhnserverneededpackagecache" ("org_id");

CREATE TABLE "rhncryptokeykickstart" (
	"crypto_key_id" float NOT NULL,
	"ksdata_id" float NOT NULL
);
ALTER TABLE "rhncryptokeykickstart" ADD CONSTRAINT "rhn_ckey_ks_ksd_nn" CHECK ("ksdata_id" is not null);
ALTER TABLE "rhncryptokeykickstart" ADD CONSTRAINT "rhn_ckey_ks_ckid_nn" CHECK ("crypto_key_id" is not null);
CREATE UNIQUE INDEX rhn_ckey_ks_uq ON "rhncryptokeykickstart" ("crypto_key_id","ksdata_id");
CREATE INDEX rhn_ckey_ks__ckuq ON "rhncryptokeykickstart" ("ksdata_id","crypto_key_id");

CREATE TABLE "wm$nested_columns_table" (
	"owner" varchar(30) NOT NULL,
	"table_name" varchar(30) NOT NULL,
	"column_name" varchar(30) NOT NULL,
	"position" float,
	"type_owner" varchar(30),
	"type_name" varchar(30),
	"nt_owner" varchar(30),
	"nt_name" varchar(30),
	"nt_store" varchar(30)
);
ALTER TABLE "wm$nested_columns_table" ADD PRIMARY KEY ("owner","table_name","column_name");

CREATE TABLE "rhndailysummaryqueue" (
	"org_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhndailysummaryqueue" ADD CONSTRAINT "rhn_dsqueue_oid_uq" UNIQUE ("org_id");
ALTER TABLE "rhndailysummaryqueue" ADD CONSTRAINT "rhn_dsqueue_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhndailysummaryqueue" ADD CONSTRAINT "rhn_dsqueue_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhndailysummaryqueue" ADD CONSTRAINT "rhn_dsqueue_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_dsqueue_oid_idx ON "rhndailysummaryqueue" ("org_id");

CREATE TABLE "rhn_os_commands_xref" (
	"os_id" bigint NOT NULL,
	"commands_id" bigint NOT NULL
);
ALTER TABLE "rhn_os_commands_xref" ADD PRIMARY KEY ("os_id","commands_id");
ALTER TABLE "rhn_os_commands_xref" ADD CONSTRAINT "rhn_oscxr_os_id_nn" CHECK ("os_id" is not null);
ALTER TABLE "rhn_os_commands_xref" ADD CONSTRAINT "rhn_oscxr_commands_id_nn" CHECK ("commands_id" is not null);

CREATE TABLE "rhnfilelistmembers" (
	"file_list_id" float NOT NULL,
	"config_file_name_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnfilelistmembers" ADD CONSTRAINT "rhn_flmembers_flid_nn" CHECK ("file_list_id" is not null);
ALTER TABLE "rhnfilelistmembers" ADD CONSTRAINT "rhn_flmembers_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnfilelistmembers" ADD CONSTRAINT "rhn_flmembers_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnfilelistmembers" ADD CONSTRAINT "rhn_flmembers_cfnid_nn" CHECK ("config_file_name_id" is not null);
CREATE UNIQUE INDEX rhn_flmembers_flid_cfnid_uq ON "rhnfilelistmembers" ("file_list_id","config_file_name_id");

CREATE TABLE "rhnchannelcloned" (
	"original_id" float NOT NULL,
	"id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnchannelcloned" ADD CONSTRAINT "rhn_channelclone_fcid_tcid_uq" UNIQUE ("original_id","id");
ALTER TABLE "rhnchannelcloned" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnchannelcloned" ADD CONSTRAINT "rhn_channelclone_tcid_nn" CHECK ("id" is not null);
ALTER TABLE "rhnchannelcloned" ADD CONSTRAINT "rhn_channelclone_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelcloned" ADD CONSTRAINT "rhn_channelclone_fcid_nn" CHECK ("original_id" is not null);
ALTER TABLE "rhnchannelcloned" ADD CONSTRAINT "rhn_channelclone_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_channelclone_tcid_fcid_idx ON "rhnchannelcloned" ("id","original_id");
CREATE INDEX rhn_channelclone_fcid_tcid_idx ON "rhnchannelcloned" ("original_id","id");

CREATE TABLE "rhnvisibleobjects" (
	"pxt_session_id" float NOT NULL,
	"object_id" float NOT NULL,
	"object_type" varchar(40) NOT NULL
);
CREATE UNIQUE INDEX rhn_vis_objs_sess_obj_type_idx ON "rhnvisibleobjects" ("pxt_session_id","object_id","object_type");

CREATE TABLE "wm$constraints_table" (
	"owner" varchar(30) NOT NULL,
	"constraint_name" varchar(30) NOT NULL,
	"constraint_type" varchar(2),
	"table_name" varchar(30),
	"search_condition" text,
	"status" varchar(8),
	"index_owner" varchar(30),
	"index_name" varchar(30),
	"index_type" varchar(40),
	"aliasedcolumns" text,
	"numindexcols" float
);
ALTER TABLE "wm$constraints_table" ADD PRIMARY KEY ("owner","constraint_name");
CREATE INDEX wm$constraints_table_tab_idx ON "wm$constraints_table" ("owner","table_name");

CREATE TABLE "rhnactivationkey" (
	"token" varchar(48) NOT NULL,
	"reg_token_id" float NOT NULL,
	"ks_session_id" float,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
			,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
			
);
ALTER TABLE "rhnactivationkey" ADD CONSTRAINT "rhn_act_key_token_uq" UNIQUE ("token");
ALTER TABLE "rhnactivationkey" ADD CONSTRAINT "rhn_act_key_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactivationkey" ADD CONSTRAINT "rhn_act_key_token_nn" CHECK ("token" is not null);
ALTER TABLE "rhnactivationkey" ADD CONSTRAINT "rhn_act_key_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactivationkey" ADD CONSTRAINT "rhn_act_key_reg_tid_nn" CHECK ("reg_token_id" is not null);
CREATE INDEX rhn_act_key_rtid_idx ON "rhnactivationkey" ("reg_token_id");
CREATE INDEX rhn_act_key_kssid_rtid_idx ON "rhnactivationkey" ("ks_session_id","reg_token_id");

CREATE TABLE "rhnpackagesignature" (
	"id" float NOT NULL,
	"package_id" float NOT NULL,
	"type_id" float NOT NULL,
	"signature" varchar(3000) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagesignature" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_tid_nn" CHECK ("type_id" is not null);
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_signature_nn" CHECK ("signature" is not null);
CREATE UNIQUE INDEX rhn_pkg_sig_pid_tid_sig_uq ON "rhnpackagesignature" ("package_id","type_id","signature");
CREATE INDEX rhn_pkg_sig_pid_idx ON "rhnpackagesignature" ("package_id");

CREATE TABLE "rhnsatelliteinfo" (
	"server_id" float NOT NULL,
	"evr_id" float,
	"cert" bytea NOT NULL,
	"product" varchar(256) NOT NULL,
	"owner" varchar(256) NOT NULL,
	"issued_string" varchar(256),
	"expiration_string" varchar(256),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_sid_uq" UNIQUE ("server_id");
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_cert_nn" CHECK ("cert" is not null);
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_owner_nn" CHECK ("owner" is not null);
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_product_nn" CHECK ("product" is not null);
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_satellite_info_sid_idx ON "rhnsatelliteinfo" ("server_id");

CREATE TABLE "rhnsnapshotconfigrevision" (
	"snapshot_id" float NOT NULL,
	"config_revision_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnsnapshotconfigrevision" ADD CONSTRAINT "rhn_snapshotcr_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsnapshotconfigrevision" ADD CONSTRAINT "rhn_snapshotcr_sid_nn" CHECK ("snapshot_id" is not null);
ALTER TABLE "rhnsnapshotconfigrevision" ADD CONSTRAINT "rhn_snapshotcr_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsnapshotconfigrevision" ADD CONSTRAINT "rhn_snapshotcr_crid_nn" CHECK ("config_revision_id" is not null);
CREATE UNIQUE INDEX rhn_snapshotcr_sid_crid_uq ON "rhnsnapshotconfigrevision" ("snapshot_id","config_revision_id");
CREATE INDEX rhn_sscr_crid_sid_idx ON "rhnsnapshotconfigrevision" ("config_revision_id","snapshot_id");

CREATE TABLE "rhn_units" (
	"unit_id" varchar(10) NOT NULL,
	"quantum_id" varchar(10) NOT NULL,
	"unit_label" varchar(20),
	"description" varchar(200),
	"to_base_unit_fn" varchar(2000),
	"from_base_unit_fn" varchar(2000),
	"validate_fn" varchar(2000),
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_units" ADD PRIMARY KEY ("unit_id");
ALTER TABLE "rhn_units" ADD CONSTRAINT "rhn_units_unit_id_nn" CHECK ("unit_id" is not null);
ALTER TABLE "rhn_units" ADD CONSTRAINT "rhn_units_quantum_id_nn" CHECK ("quantum_id" is not null);
CREATE INDEX rhn_units_quantum_id_idx ON "rhn_units" ("quantum_id");

CREATE TABLE "rhnactionvirtstart" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtstart" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtstart" ADD CONSTRAINT "rhn_avstart_uuid_nn" CHECK ("uuid" is not null);
ALTER TABLE "rhnactionvirtstart" ADD CONSTRAINT "rhn_avstart_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtstart" ADD CONSTRAINT "rhn_avstart_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionvirtstart" ADD CONSTRAINT "rhn_avstart_aid_nn" CHECK ("action_id" is not null);
CREATE UNIQUE INDEX rhn_avstart_aid_uq ON "rhnactionvirtstart" ("action_id");

CREATE TABLE "rhnactiontransactions" (
	"action_id" float NOT NULL,
	"from_trans_id" float NOT NULL,
	"to_trans_id" float NOT NULL
);
ALTER TABLE "rhnactiontransactions" ADD CONSTRAINT "rhn_at_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactiontransactions" ADD CONSTRAINT "rhn_at_ftid_nn" CHECK ("from_trans_id" is not null);
ALTER TABLE "rhnactiontransactions" ADD CONSTRAINT "rhn_at_ttid_nn" CHECK ("to_trans_id" is not null);
CREATE INDEX rhn_act_trans_to_from_idx ON "rhnactiontransactions" ("to_trans_id","from_trans_id","action_id");
CREATE INDEX rhn_act_trans_from_to_idx ON "rhnactiontransactions" ("from_trans_id","to_trans_id","action_id");
CREATE UNIQUE INDEX rhn_at_aid_ftid_ttid_uq ON "rhnactiontransactions" ("action_id","from_trans_id","to_trans_id");

CREATE TABLE "rhn_quanta" (
	"quantum_id" varchar(10) NOT NULL,
	"basic_unit_id" varchar(20),
	"description" varchar(200),
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_quanta" ADD PRIMARY KEY ("quantum_id");
ALTER TABLE "rhn_quanta" ADD CONSTRAINT "rhn_qnta0_quantum_id_nn" CHECK ("quantum_id" is not null);

CREATE TABLE "rhnfile" (
	"id" float NOT NULL,
	"org_id" float,
	"file_size" float NOT NULL,
	"md5sum" varchar(64) NOT NULL,
	"path" varchar(1000) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnfile" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnfile" ADD CONSTRAINT "rhn_file_path_nn" CHECK ("path" is not null);
ALTER TABLE "rhnfile" ADD CONSTRAINT "rhn_file_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnfile" ADD CONSTRAINT "rhn_file_md5sum_nn" CHECK ("md5sum" is not null);
ALTER TABLE "rhnfile" ADD CONSTRAINT "rhn_file_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnfile" ADD CONSTRAINT "rhn_file_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnfile" ADD CONSTRAINT "rhn_file_fs_nn" CHECK ("file_size" is not null);
CREATE UNIQUE INDEX rhn_file_path_uq ON "rhnfile" ("path");

CREATE TABLE "rhn_redirect_method_targets" (
	"redirect_id" bigint NOT NULL,
	"contact_method_id" bigint NOT NULL
);
ALTER TABLE "rhn_redirect_method_targets" ADD PRIMARY KEY ("redirect_id","contact_method_id");
ALTER TABLE "rhn_redirect_method_targets" ADD CONSTRAINT "rhn_rdrme_redirect_id" CHECK ("redirect_id" is not null);
ALTER TABLE "rhn_redirect_method_targets" ADD CONSTRAINT "rhn_rdrme_method_id" CHECK ("contact_method_id" is not null);
CREATE INDEX rhn_rdrme_cmid_idx ON "rhn_redirect_method_targets" ("contact_method_id");
CREATE INDEX rhn_rdrme_redirect_id_idx ON "rhn_redirect_method_targets" ("redirect_id");

CREATE TABLE "rhnvirtualinstanceinstalllog" (
	"id" float NOT NULL,
	"log_message" varchar(4000) NOT NULL,
	"ks_session_id" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                           ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                           
);
ALTER TABLE "rhnvirtualinstanceinstalllog" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnvirtualinstanceinstalllog" ADD CONSTRAINT "rhn_viil_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnvirtualinstanceinstalllog" ADD CONSTRAINT "rhn_viil_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnvirtualinstanceinstalllog" ADD CONSTRAINT "rhn_viil_lm_nn" CHECK ("log_message" is not null);
ALTER TABLE "rhnvirtualinstanceinstalllog" ADD CONSTRAINT "rhn_viil_id_nn" CHECK ("id" is not null);

CREATE TABLE "rhnserverlocation" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"machine" varchar(64),
	"rack" varchar(64),
	"room" varchar(32),
	"building" varchar(128),
	"address1" varchar(128),
	"address2" varchar(128),
	"city" varchar(128),
	"state" varchar(60),
	"country" char(2),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverlocation" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverlocation" ADD CONSTRAINT "rhn_serverlocation_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnserverlocation" ADD CONSTRAINT "rhn_serverlocation_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverlocation" ADD CONSTRAINT "rhn_serverlocation_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverlocation" ADD CONSTRAINT "rhn_serverlocation_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_serverlocation_sid_uq ON "rhnserverlocation" ("server_id");

CREATE TABLE "rhnorgchannelsettingstype" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnorgchannelsettingstype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnorgchannelsettingstype" ADD CONSTRAINT "rhn_ocstngs_type_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnorgchannelsettingstype" ADD CONSTRAINT "rhn_ocstngs_type_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnorgchannelsettingstype" ADD CONSTRAINT "rhn_ocstngs_type_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnorgchannelsettingstype" ADD CONSTRAINT "rhn_ocstngs_type_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_ocstngs_type_l_id_idx ON "rhnorgchannelsettingstype" ("label","id");

CREATE TABLE "rhnfeature" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnfeature" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnfeature" ADD CONSTRAINT "rhn_feature_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnfeature" ADD CONSTRAINT "rhn_feature_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnfeature" ADD CONSTRAINT "rhn_feature_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnfeature" ADD CONSTRAINT "rhn_feature_label_nn" CHECK ("label" is not null);
CREATE UNIQUE INDEX rhn_feature_label_uq_idx ON "rhnfeature" ("label");

CREATE TABLE "rhn_db_environment" (
	"db_name" varchar(20) NOT NULL,
	"environment" varchar(255)
);
ALTER TABLE "rhn_db_environment" ADD PRIMARY KEY ("db_name");
ALTER TABLE "rhn_db_environment" ADD CONSTRAINT "rhn_dbenv_db_name_nn" CHECK ("db_name" is not null);

CREATE TABLE "rhnservergrouptype" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"permanent" char(1) DEFAULT ('Y')
                        ,
	"is_base" char(1) DEFAULT ('Y')
                        
);
ALTER TABLE "rhnservergrouptype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_isbase_ck" CHECK (is_base in ('Y','N'));
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_perm_ck" CHECK (permanent in ('Y','N'));
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_perm_nn" CHECK ("permanent" is not null);
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnservergrouptype" ADD CONSTRAINT "rhn_servergrouptype_isbase_nn" CHECK ("is_base" is not null);
CREATE UNIQUE INDEX rhn_servergrouptype_label_uq ON "rhnservergrouptype" ("label");

CREATE TABLE "rhnkickstartchildchannel" (
	"channel_id" float NOT NULL,
	"ksdata_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnkickstartchildchannel" ADD CONSTRAINT "rhn_ks_cc_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnkickstartchildchannel" ADD CONSTRAINT "rhn_ks_cc_cre_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartchildchannel" ADD CONSTRAINT "rhn_ks_cc_ksd_nn" CHECK ("ksdata_id" is not null);
ALTER TABLE "rhnkickstartchildchannel" ADD CONSTRAINT "rhn_ks_cc_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_ks_cc_uq ON "rhnkickstartchildchannel" ("channel_id","ksdata_id");

CREATE TABLE "rhnusermessage" (
	"user_id" float NOT NULL,
	"message_id" float NOT NULL,
	"status" float NOT NULL
);
ALTER TABLE "rhnusermessage" ADD CONSTRAINT "rhn_um_user_id_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnusermessage" ADD CONSTRAINT "rhn_um_status_nn" CHECK ("status" is not null);
ALTER TABLE "rhnusermessage" ADD CONSTRAINT "rhn_um_message_id_nn" CHECK ("message_id" is not null);
CREATE UNIQUE INDEX rhn_um_uid_mid_uq ON "rhnusermessage" ("user_id","message_id");

CREATE TABLE "db_change_resources" (
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"resource_type" varchar(255) NOT NULL,
	"resource_name" varchar(255) NOT NULL,
	"change_type" varchar(255) NOT NULL
);
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_rn_nn" CHECK ("resource_name" is not null);
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_rt_nn" CHECK ("resource_type" is not null);
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_ct_nn" CHECK ("change_type" is not null);
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_sn_nn" CHECK ("seq_no" is not null);
CREATE INDEX dc_resources_ct_idx ON "db_change_resources" ("change_type");
CREATE INDEX dc_resources_bid_sn_idx ON "db_change_resources" ("bug_id","seq_no");
CREATE INDEX dc_resources_rt_rn_idx ON "db_change_resources" ("resource_type","resource_name");

CREATE TABLE "rhnactionscript" (
	"id" float NOT NULL,
	"action_id" float NOT NULL,
	"username" varchar(32) NOT NULL,
	"groupname" varchar(32) NOT NULL,
	"script" bytea,
	"timeout" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnactionscript" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnactionscript" ADD CONSTRAINT "rhn_actscript_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionscript" ADD CONSTRAINT "rhn_actscript_group_nn" CHECK ("groupname" is not null);
ALTER TABLE "rhnactionscript" ADD CONSTRAINT "rhn_actscript_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnactionscript" ADD CONSTRAINT "rhn_actscript_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionscript" ADD CONSTRAINT "rhn_actscript_user_nn" CHECK ("username" is not null);
ALTER TABLE "rhnactionscript" ADD CONSTRAINT "rhn_actscript_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_actscript_aid_uq_idx ON "rhnactionscript" ("action_id");

CREATE TABLE "rhnerratafilepackage" (
	"package_id" float NOT NULL,
	"errata_file_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratafilepackage" ADD CONSTRAINT "rhn_efilep_efid_uq" UNIQUE ("errata_file_id");
ALTER TABLE "rhnerratafilepackage" ADD CONSTRAINT "rhn_efilep_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratafilepackage" ADD CONSTRAINT "rhn_efilep_fileid_nn" CHECK ("errata_file_id" is not null);
ALTER TABLE "rhnerratafilepackage" ADD CONSTRAINT "rhn_efilep_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnerratafilepackage" ADD CONSTRAINT "rhn_efilep_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_efilep_pid_idx ON "rhnerratafilepackage" ("package_id");
CREATE INDEX rhn_efilep_efid_pid_idx ON "rhnerratafilepackage" ("errata_file_id","package_id");

CREATE TABLE "rhn_deployed_probe" (
	"recid" float NOT NULL,
	"probe_type" varchar(15) NOT NULL,
	"description" varchar(255),
	"customer_id" bigint NOT NULL,
	"command_id" bigint NOT NULL,
	"contact_group_id" bigint,
	"os_id" bigint,
	"notify_critical" char(1),
	"notify_warning" char(1),
	"notify_recovery" char(1),
	"notify_unknown" char(1),
	"notification_interval_minutes" bigint NOT NULL,
	"check_interval_minutes" bigint NOT NULL,
	"retry_interval_minutes" bigint NOT NULL,
	"max_attempts" bigint,
	"sat_cluster_id" bigint,
	"parent_probe_id" bigint,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_deployed_probe" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "dprob_recid_probe_type_uq" UNIQUE ("recid","probe_type");
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "rhn_dprob_retry_int_nn" CHECK ("retry_interval_minutes" is not null);
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "rhn_dprob_cust_id_nn" CHECK ("customer_id" is not null);
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "rhn_dprob_command_id_nn" CHECK ("command_id" is not null);
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "rhn_dprob_check_int_nn" CHECK ("check_interval_minutes" is not null);
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "rhn_dprob_notif_int_nn" CHECK ("notification_interval_minutes" is not null);
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "rhn_dprob_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_deployed_probe" ADD CONSTRAINT "rhn_dprob_recid_nn" CHECK ("recid" is not null);
CREATE UNIQUE INDEX rhn_dprob_recid_probe_type_uq ON "rhn_deployed_probe" ("recid","probe_type");
CREATE INDEX rhn_dprob_customer_id_idx ON "rhn_deployed_probe" ("customer_id");
CREATE INDEX rhn_dprob_sat_cluster_id_idx ON "rhn_deployed_probe" ("sat_cluster_id");
CREATE INDEX rhn_dprob_check_command_id_idx ON "rhn_deployed_probe" ("command_id");

CREATE TABLE "rhnchannelpackage" (
	"channel_id" float NOT NULL,
	"package_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelpackage" ADD CONSTRAINT "rhn_cp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelpackage" ADD CONSTRAINT "rhn_cp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelpackage" ADD CONSTRAINT "rhn_cp_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnchannelpackage" ADD CONSTRAINT "rhn_cp_pid_nn" CHECK ("package_id" is not null);
CREATE INDEX rhn_cp_pc_idx ON "rhnchannelpackage" ("package_id","channel_id");
CREATE UNIQUE INDEX rhn_cp_cp_uq ON "rhnchannelpackage" ("channel_id","package_id");

CREATE TABLE "rhnservernotes" (
	"id" float NOT NULL,
	"creator" float,
	"server_id" float NOT NULL,
	"subject" varchar(80) NOT NULL,
	"note" varchar(4000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnservernotes" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnservernotes" ADD CONSTRAINT "rhn_servernotes_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnservernotes" ADD CONSTRAINT "rhn_servernotes_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnservernotes" ADD CONSTRAINT "rhn_servernotes_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservernotes" ADD CONSTRAINT "rhn_servernotes_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservernotes" ADD CONSTRAINT "rhn_servernotes_subject_nn" CHECK ("subject" is not null);
CREATE INDEX rhn_servernotes_creator_idx ON "rhnservernotes" ("creator");
CREATE INDEX rhn_servernotes_sid_idx ON "rhnservernotes" ("server_id");

CREATE TABLE "db_change_history" (
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"date_applied" timestamp NOT NULL,
	"failed" char(1) NOT NULL,
	"elapsed_seconds" float DEFAULT 0

);
ALTER TABLE "db_change_history" ADD CONSTRAINT "dc_history_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_history" ADD CONSTRAINT "dc_history_f_nn" CHECK ("failed" is not null);
ALTER TABLE "db_change_history" ADD CONSTRAINT "dc_history_da_nn" CHECK ("date_applied" is not null);
ALTER TABLE "db_change_history" ADD CONSTRAINT "dc_history_sn_nn" CHECK ("seq_no" is not null);
CREATE INDEX dc_history_bid_sn_idx ON "db_change_history" ("bug_id","seq_no");

CREATE TABLE "rhnsatellitechannelfamily" (
	"server_id" float NOT NULL,
	"channel_family_id" float NOT NULL,
	"quantity" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnsatellitechannelfamily" ADD CONSTRAINT "rhn_sat_cf_sid_cfid_uq" UNIQUE ("server_id","channel_family_id");
ALTER TABLE "rhnsatellitechannelfamily" ADD CONSTRAINT "rhn_sat_cf_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnsatellitechannelfamily" ADD CONSTRAINT "rhn_sat_cf_cfid_nn" CHECK ("channel_family_id" is not null);
ALTER TABLE "rhnsatellitechannelfamily" ADD CONSTRAINT "rhn_sat_cf_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsatellitechannelfamily" ADD CONSTRAINT "rhn_sat_cf_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_sat_cf_sid_cfid_idx ON "rhnsatellitechannelfamily" ("server_id","channel_family_id");
CREATE INDEX rhn_sat_cf_cfid_sid_idx ON "rhnsatellitechannelfamily" ("channel_family_id","server_id");

CREATE TABLE "rhn_current_alerts" (
	"recid" float NOT NULL,
	"date_submitted" timestamp,
	"last_server_change" timestamp,
	"date_completed" timestamp DEFAULT to_date('31-12-9999', 'dd-mm-yyyy'),
	"original_server" bigint,
	"current_server" bigint,
	"tel_args" varchar(2200),
	"message" varchar(2000),
	"ticket_id" varchar(80),
	"destination_name" varchar(50),
	"escalation_level" smallint DEFAULT 0,
	"host_probe_id" bigint,
	"host_state" varchar(255),
	"service_probe_id" bigint,
	"service_state" varchar(255),
	"customer_id" bigint NOT NULL,
	"netsaint_id" bigint,
	"probe_type" varchar(20) DEFAULT 'none',
	"in_progress" char(1) DEFAULT 1
        ,
	"last_update_date" timestamp,
	"event_timestamp" timestamp
);
ALTER TABLE "rhn_current_alerts" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_current_alerts" ADD CONSTRAINT "rhn_alrts_in_prog_nn" CHECK ("in_progress" is not null);
ALTER TABLE "rhn_current_alerts" ADD CONSTRAINT "rhn_alrts_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_current_alerts" ADD CONSTRAINT "rhn_alrts_cust_id_nn" CHECK ("customer_id" is not null);
CREATE INDEX rhn_alrts_service_probe_id_idx ON "rhn_current_alerts" ("service_probe_id");
CREATE INDEX rhn_alrts_original_server_idx ON "rhn_current_alerts" ("original_server");
CREATE INDEX rhn_alrts_customer_id_idx ON "rhn_current_alerts" ("customer_id");
CREATE INDEX rhn_alrts_in_progress_idx ON "rhn_current_alerts" ("in_progress");
CREATE INDEX rhn_alrts_netsaint_id_idx ON "rhn_current_alerts" ("netsaint_id");
CREATE INDEX rhn_alrts_current_server_idx ON "rhn_current_alerts" ("current_server");
CREATE INDEX rhn_alrts_ticket_id_idx ON "rhn_current_alerts" ("ticket_id");
CREATE INDEX rhn_alrts_probe_type_idx ON "rhn_current_alerts" ("probe_type");
CREATE INDEX rhn_alrts_host_probe_id_idx ON "rhn_current_alerts" ("host_probe_id");

CREATE TABLE "db_change_resource_types" (
	"resource_type" varchar(255) NOT NULL
);
ALTER TABLE "db_change_resource_types" ADD PRIMARY KEY ("resource_type");
ALTER TABLE "db_change_resource_types" ADD CONSTRAINT "dc_resourcetype_rt_nn" CHECK ("resource_type" is not null);

CREATE TABLE "rhnsolarispatchedpackage" (
	"server_id" float NOT NULL,
	"patch_id" float NOT NULL,
	"package_nevra_id" float NOT NULL
);
ALTER TABLE "rhnsolarispatchedpackage" ADD CONSTRAINT "rhn_solaris_patchedp_pnid_nn" CHECK ("package_nevra_id" is not null);
ALTER TABLE "rhnsolarispatchedpackage" ADD CONSTRAINT "rhn_solaris_patchedp_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnsolarispatchedpackage" ADD CONSTRAINT "rhn_solaris_patchedp_pid_nn" CHECK ("patch_id" is not null);
CREATE INDEX rhn_solaris_patchedp_sid_idx ON "rhnsolarispatchedpackage" ("server_id");

CREATE TABLE "wm$log_table_errors" (
	"group#" float NOT NULL,
	"order#" float,
	"status" varchar(100),
	"error_msg" varchar(200)
);
ALTER TABLE "wm$log_table_errors" ADD PRIMARY KEY ("group#");

CREATE TABLE "rhnproxyinfo" (
	"server_id" float NOT NULL,
	"proxy_evr_id" float
);
ALTER TABLE "rhnproxyinfo" ADD CONSTRAINT "rhn_proxy_info_sid_nn" CHECK ("server_id" is not null);
CREATE UNIQUE INDEX rhn_proxy_info_sid_unq ON "rhnproxyinfo" ("server_id");

CREATE TABLE "rhnservergroupnotes" (
	"id" float NOT NULL,
	"creator" float,
	"server_group_id" float NOT NULL,
	"subject" varchar(80) NOT NULL,
	"note" varchar(4000) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnservergroupnotes" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_nn" CHECK ("server_group_id" is not null);
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_note_nn" CHECK ("note" is not null);
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_subject_nn" CHECK ("subject" is not null);
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_servergrp_note_srvr_id_idx ON "rhnservergroupnotes" ("server_group_id");
CREATE INDEX rhn_servergrp_note_creator_idx ON "rhnservergroupnotes" ("creator");

CREATE TABLE "rhnsnapshotservergroup" (
	"snapshot_id" float NOT NULL,
	"server_group_id" float NOT NULL
);
ALTER TABLE "rhnsnapshotservergroup" ADD CONSTRAINT "rhn_snapshotsg_sgid_nn" CHECK ("server_group_id" is not null);
ALTER TABLE "rhnsnapshotservergroup" ADD CONSTRAINT "rhn_snapshotsg_sid_nn" CHECK ("snapshot_id" is not null);
CREATE INDEX rhn_snapshotsg_sgid_idx ON "rhnsnapshotservergroup" ("server_group_id");
CREATE UNIQUE INDEX rhn_snapshotsg_sid_sgid_uq ON "rhnsnapshotservergroup" ("snapshot_id","server_group_id");

CREATE TABLE "rhnactionpackageanswerfile" (
	"action_package_id" float NOT NULL,
	"answerfile" bytea,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnactionpackageanswerfile" ADD CONSTRAINT "rhn_act_p_af_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionpackageanswerfile" ADD CONSTRAINT "rhn_act_p_af_apid_nn" CHECK ("action_package_id" is not null);
ALTER TABLE "rhnactionpackageanswerfile" ADD CONSTRAINT "rhn_act_p_af_mod_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_act_p_af_aid_idx ON "rhnactionpackageanswerfile" ("action_package_id");

CREATE TABLE "rhnpublicchannelfamily" (
	"channel_family_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnpublicchannelfamily" ADD CONSTRAINT "rhn_pubcf_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpublicchannelfamily" ADD CONSTRAINT "rhn_pubcf_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpublicchannelfamily" ADD CONSTRAINT "rhn_pubcf_cfid_nn" CHECK ("channel_family_id" is not null);
CREATE UNIQUE INDEX rhn_pubcf_co_uq ON "rhnpublicchannelfamily" ("channel_family_id");

CREATE TABLE "rhnsnapshotpackage" (
	"snapshot_id" float NOT NULL,
	"nevra_id" float NOT NULL
);
ALTER TABLE "rhnsnapshotpackage" ADD CONSTRAINT "rhn_snapshotpkg_sid_nn" CHECK ("snapshot_id" is not null);
ALTER TABLE "rhnsnapshotpackage" ADD CONSTRAINT "rhn_snapshotpkg_nid_nn" CHECK ("nevra_id" is not null);
CREATE INDEX rhn_snapshotpkg_sid ON "rhnsnapshotpackage" ("snapshot_id");
CREATE UNIQUE INDEX rhn_snapshotpkg_sid_nid_uq ON "rhnsnapshotpackage" ("snapshot_id","nevra_id");

CREATE TABLE "wm$insteadof_trigs_table" (
	"table_owner" varchar(40) NOT NULL,
	"table_name" varchar(40) NOT NULL,
	"insert_trig_name" varchar(40),
	"update_trig_name" varchar(40),
	"delete_trig_name" varchar(40)
);
ALTER TABLE "wm$insteadof_trigs_table" ADD PRIMARY KEY ("table_owner","table_name");

CREATE TABLE "wm$replication_details_table" (
	"name" varchar(100),
	"value" varchar(500)
);

CREATE TABLE "rhnindexerwork" (
	"object_type" varchar(40) NOT NULL,
	"last_id" float NOT NULL
);

CREATE TABLE "rhn_server_monitoring_info" (
	"recid" float NOT NULL,
	"os_id" bigint
);
ALTER TABLE "rhn_server_monitoring_info" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_server_monitoring_info" ADD CONSTRAINT "rhn_host_recid_nn" CHECK ("recid" is not null);

CREATE TABLE "rhnchannelfamilyvirtsublevel" (
	"channel_family_id" float NOT NULL,
	"virt_sub_level_id" float NOT NULL,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
                      ,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
                      
);
ALTER TABLE "rhnchannelfamilyvirtsublevel" ADD CONSTRAINT "rhn_cfvsl_vslid_nn" CHECK ("virt_sub_level_id" is not null);
ALTER TABLE "rhnchannelfamilyvirtsublevel" ADD CONSTRAINT "rhn_cfvsl_cfid_nn" CHECK ("channel_family_id" is not null);
ALTER TABLE "rhnchannelfamilyvirtsublevel" ADD CONSTRAINT "rhn_cfvsl_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelfamilyvirtsublevel" ADD CONSTRAINT "rhn_cfvsl_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_cfvsl_cfid_vslid_idx ON "rhnchannelfamilyvirtsublevel" ("channel_family_id","virt_sub_level_id");
CREATE INDEX rhn_cfvsl_vslid_cfid_idx ON "rhnchannelfamilyvirtsublevel" ("virt_sub_level_id","channel_family_id");

CREATE TABLE "rhnregtokenconfigchannels" (
	"token_id" float NOT NULL,
	"config_channel_id" float NOT NULL,
	"position" float NOT NULL
);
ALTER TABLE "rhnregtokenconfigchannels" ADD CONSTRAINT "rhn_regtok_confchan_ccid_nn" CHECK ("config_channel_id" is not null);
ALTER TABLE "rhnregtokenconfigchannels" ADD CONSTRAINT "rhn_regtok_confchan_pos_nn" CHECK ("position" is not null);
ALTER TABLE "rhnregtokenconfigchannels" ADD CONSTRAINT "rhn_regtok_confchan_tid_nn" CHECK ("token_id" is not null);
CREATE INDEX rhn_regtok_confchan_ccid_idx ON "rhnregtokenconfigchannels" ("config_channel_id");
CREATE UNIQUE INDEX rhn_regtok_confchan_t_cc_uq ON "rhnregtokenconfigchannels" ("token_id","config_channel_id");

CREATE TABLE "rhnactionvirtrefresh" (
	"action_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtrefresh" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtrefresh" ADD CONSTRAINT "rhn_avrefresh_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtrefresh" ADD CONSTRAINT "rhn_avrefresh_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtrefresh" ADD CONSTRAINT "rhn_avrefresh_creat_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_avrefresh_aid_uq ON "rhnactionvirtrefresh" ("action_id");

CREATE TABLE "rhnuserreserved" (
	"login" varchar(64) NOT NULL,
	"login_uc" varchar(64) NOT NULL,
	"password" varchar(38) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnuserreserved" ADD CONSTRAINT "rhn_user_res_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnuserreserved" ADD CONSTRAINT "rhn_user_res_pwd_nn" CHECK ("password" is not null);
ALTER TABLE "rhnuserreserved" ADD CONSTRAINT "rhn_user_res_login_nn" CHECK ("login" is not null);
ALTER TABLE "rhnuserreserved" ADD CONSTRAINT "rhn_user_res_login_uc_nn" CHECK ("login_uc" is not null);
ALTER TABLE "rhnuserreserved" ADD CONSTRAINT "rhn_user_res_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_user_res_login_uc_uq ON "rhnuserreserved" ("login_uc");

CREATE TABLE "rhnconfiginfo" (
	"id" float NOT NULL,
	"username" varchar(32) NOT NULL,
	"groupname" varchar(32) NOT NULL,
	"filemode" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnconfiginfo" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfiginfo" ADD CONSTRAINT "rhn_confinfo_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnconfiginfo" ADD CONSTRAINT "rhn_confinfo_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnconfiginfo" ADD CONSTRAINT "rhn_confinfo_filemode_nn" CHECK ("filemode" is not null);
ALTER TABLE "rhnconfiginfo" ADD CONSTRAINT "rhn_confinfo_username_nn" CHECK ("username" is not null);
ALTER TABLE "rhnconfiginfo" ADD CONSTRAINT "rhn_confinfo_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfiginfo" ADD CONSTRAINT "rhn_confinfo_groupname_nn" CHECK ("groupname" is not null);
CREATE UNIQUE INDEX rhn_confinfo_ugf_uq ON "rhnconfiginfo" ("username","groupname","filemode");

CREATE TABLE "rhnappinstallsessiondata" (
	"id" float NOT NULL,
	"session_id" float NOT NULL,
	"key" varchar(64) NOT NULL,
	"value" varchar(2048),
	"extra_data" bytea,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnappinstallsessiondata" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnappinstallsessiondata" ADD CONSTRAINT "rhn_appinst_sdata_sid_k_uq" UNIQUE ("session_id","key");
ALTER TABLE "rhnappinstallsessiondata" ADD CONSTRAINT "rhn_appinst_sdata_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnappinstallsessiondata" ADD CONSTRAINT "rhn_appinst_sdata_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnappinstallsessiondata" ADD CONSTRAINT "rhn_appinst_sdata_sid_nn" CHECK ("session_id" is not null);
ALTER TABLE "rhnappinstallsessiondata" ADD CONSTRAINT "rhn_appinst_sdata_k_nn" CHECK ("key" is not null);
ALTER TABLE "rhnappinstallsessiondata" ADD CONSTRAINT "rhn_appinst_sdata_mod_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_appinst_sdata_id_idx ON "rhnappinstallsessiondata" ("id");
CREATE INDEX rhn_appinst_sdata_sid_k_id_idx ON "rhnappinstallsessiondata" ("session_id","key","id");

CREATE TABLE "rhn_command_queue_sessions" (
	"contact_id" bigint NOT NULL,
	"session_id" varchar(255),
	"expiration_date" timestamp,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_command_queue_sessions" ADD CONSTRAINT "rhn_cqses_contact_id_nn" CHECK ("contact_id" is not null);
CREATE UNIQUE INDEX rhn_cqses_cid_uq ON "rhn_command_queue_sessions" ("contact_id");

CREATE TABLE "rhnprivatechannelfamily" (
	"channel_family_id" float NOT NULL,
	"org_id" float NOT NULL,
	"max_members" float,
	"current_members" float DEFAULT (0)
				,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnprivatechannelfamily" ADD CONSTRAINT "rhn_privcf_curmembers_nn" CHECK ("current_members" is not null);
ALTER TABLE "rhnprivatechannelfamily" ADD CONSTRAINT "rhn_privcf_cfid_nn" CHECK ("channel_family_id" is not null);
ALTER TABLE "rhnprivatechannelfamily" ADD CONSTRAINT "rhn_privcf_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnprivatechannelfamily" ADD CONSTRAINT "rhn_privcf_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnprivatechannelfamily" ADD CONSTRAINT "rhn_privcf_oid_nn" CHECK ("org_id" is not null);
CREATE UNIQUE INDEX rhn_privcf_oid_cfid_uq ON "rhnprivatechannelfamily" ("org_id","channel_family_id");
CREATE INDEX rhn_cfperm_cfid_oid_idx ON "rhnprivatechannelfamily" ("channel_family_id","org_id");

CREATE TABLE "rhn_notifservers" (
	"recid" float NOT NULL,
	"name" varchar(255)
);
ALTER TABLE "rhn_notifservers" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_notifservers" ADD CONSTRAINT "rhn_notsv_recid_nn" CHECK ("recid" is not null);

CREATE TABLE "rhnregtokenorgdefault" (
	"org_id" float NOT NULL,
	"reg_token_id" float
);
ALTER TABLE "rhnregtokenorgdefault" ADD CONSTRAINT "rhn_reg_token_def_oid_nn" CHECK ("org_id" is not null);
CREATE UNIQUE INDEX rhn_reg_token_def_org_id_idx ON "rhnregtokenorgdefault" ("org_id");
CREATE INDEX rhn_reg_token_def_uid_idx ON "rhnregtokenorgdefault" ("reg_token_id","org_id");

CREATE TABLE "rhnactionpackage" (
	"id" float NOT NULL,
	"action_id" float NOT NULL,
	"parameter" varchar(128) DEFAULT 'upgrade'
			,
	"name_id" float NOT NULL,
	"evr_id" float,
	"package_arch_id" float
);
ALTER TABLE "rhnactionpackage" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_name_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_param_ck" CHECK (parameter IN ('upgrade', 'install', 'remove', 'downgrade'));
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_param_nn" CHECK ("parameter" is not null);
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_act_nn" CHECK ("action_id" is not null);
CREATE INDEX rhn_act_p_aid_idx ON "rhnactionpackage" ("action_id");

CREATE TABLE "rhnsolarispatchsetmembers" (
	"patch_id" float NOT NULL,
	"patch_set_id" float NOT NULL,
	"patch_order" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                     ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                     
);
ALTER TABLE "rhnsolarispatchsetmembers" ADD CONSTRAINT "rhn_solaris_psm_pid_nn" CHECK ("patch_id" is not null);
ALTER TABLE "rhnsolarispatchsetmembers" ADD CONSTRAINT "rhn_solaris_psm_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsolarispatchsetmembers" ADD CONSTRAINT "rhn_solaris_psm_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsolarispatchsetmembers" ADD CONSTRAINT "rhn_solaris_psm_psid_nn" CHECK ("patch_set_id" is not null);
CREATE INDEX rhn_solaris_psm_psid_pid_idx ON "rhnsolarispatchsetmembers" ("patch_set_id","patch_id");
CREATE INDEX rhn_solaris_psm_pid_psid_idx ON "rhnsolarispatchsetmembers" ("patch_id","patch_set_id");

CREATE TABLE "rhnservercacheinfo" (
	"server_id" float NOT NULL,
	"update_time" timestamp
);
ALTER TABLE "rhnservercacheinfo" ADD CONSTRAINT "rhn_server_cache_info_sid_nn" CHECK ("server_id" is not null);
CREATE UNIQUE INDEX rhn_server_cache_info_sid_idx ON "rhnservercacheinfo" ("server_id");

CREATE TABLE "wm$ric_triggers_table" (
	"pt_owner" varchar(40) NOT NULL,
	"pt_name" varchar(40) NOT NULL,
	"ct_owner" varchar(40) NOT NULL,
	"ct_name" varchar(40) NOT NULL,
	"update_trigger_name" varchar(40),
	"delete_trigger_name" varchar(40)
);
ALTER TABLE "wm$ric_triggers_table" ADD PRIMARY KEY ("pt_owner","pt_name","ct_owner","ct_name");

CREATE TABLE "rhnuserserverprefs" (
	"user_id" float NOT NULL,
	"server_id" float NOT NULL,
	"name" varchar(64) NOT NULL,
	"value" varchar(1) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_uid_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_value_nn" CHECK ("value" is not null);
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_usprefs_n_sid_uid_idx ON "rhnuserserverprefs" ("name","server_id","user_id");
CREATE UNIQUE INDEX rhn_usprefs_uid_sid_n_uq ON "rhnuserserverprefs" ("user_id","server_id","name");
CREATE INDEX rhn_usprefs_sid_uid_n_idx ON "rhnuserserverprefs" ("server_id","user_id","name");

CREATE TABLE "demo_log" (
	"org_id" float,
	"server_id" float
);
CREATE INDEX dl_oid_sid_idx ON "demo_log" ("org_id","server_id");

CREATE TABLE "rhnconfigchannel" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"confchan_type_id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"label" varchar(64) NOT NULL,
	"description" varchar(1024) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnconfigchannel" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_ctid_nn" CHECK ("confchan_type_id" is not null);
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_confchan_oid_label_type_uq ON "rhnconfigchannel" ("org_id","label","confchan_type_id");

CREATE TABLE "rhn_redirect_criteria" (
	"recid" float NOT NULL,
	"redirect_id" bigint NOT NULL,
	"match_param" varchar(255) NOT NULL,
	"match_value" varchar(255),
	"inverted" char(1) DEFAULT 0
        
);
ALTER TABLE "rhn_redirect_criteria" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_redirect_criteria" ADD CONSTRAINT "rhn_rdrcr_inverted_nn" CHECK ("inverted" is not null);
ALTER TABLE "rhn_redirect_criteria" ADD CONSTRAINT "rhn_rdrcr_match_param_nn" CHECK ("match_param" is not null);
ALTER TABLE "rhn_redirect_criteria" ADD CONSTRAINT "rhn_rdrcr_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_redirect_criteria" ADD CONSTRAINT "rhn_rdrcr_redirect_id_nn" CHECK ("redirect_id" is not null);
CREATE INDEX rhn_rdrcr_redirect_id_idx ON "rhn_redirect_criteria" ("redirect_id");

CREATE TABLE "rhnerratafilechannel" (
	"channel_id" float NOT NULL,
	"errata_file_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratafilechannel" ADD CONSTRAINT "rhn_efilec_efid_cid_uq" UNIQUE ("errata_file_id","channel_id");
ALTER TABLE "rhnerratafilechannel" ADD CONSTRAINT "rhn_efilec_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratafilechannel" ADD CONSTRAINT "rhn_efilec_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratafilechannel" ADD CONSTRAINT "rhn_efilec_eid_nn" CHECK ("errata_file_id" is not null);
ALTER TABLE "rhnerratafilechannel" ADD CONSTRAINT "rhn_efilec_cid_nn" CHECK ("channel_id" is not null);
CREATE INDEX rhn_efilec_efid_cid_idx ON "rhnerratafilechannel" ("errata_file_id","channel_id");
CREATE INDEX rhn_efilec_cid_efid_idx ON "rhnerratafilechannel" ("channel_id","errata_file_id");

CREATE TABLE "rhnfilelocation" (
	"file_id" float NOT NULL,
	"location" varchar(128) NOT NULL
);
ALTER TABLE "rhnfilelocation" ADD CONSTRAINT "rhn_fileloc_fid_nn" CHECK ("file_id" is not null);
ALTER TABLE "rhnfilelocation" ADD CONSTRAINT "rhn_fileloc_loc_nn" CHECK ("location" is not null);
CREATE UNIQUE INDEX rhn_fileloc_file_loc_uq ON "rhnfilelocation" ("file_id","location");

CREATE TABLE "web_user_prefix" (
	"text" varchar(12) NOT NULL
);
ALTER TABLE "web_user_prefix" ADD PRIMARY KEY ("text");
ALTER TABLE "web_user_prefix" ADD CONSTRAINT "wup_text_nn" CHECK ("text" is not null);

CREATE TABLE "web_customer" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"oracle_customer_id" float,
	"oracle_customer_number" float,
	"customer_type" char(1) DEFAULT ('P')
			,
	"credit_application_completed" varchar(1),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "web_customer" ADD PRIMARY KEY ("id");
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_ocn_unq" UNIQUE ("oracle_customer_number");
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_ocid_unq" UNIQUE ("oracle_customer_id");
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_type_nn" CHECK ("customer_type" is not null);
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_name_nn" CHECK ("name" is not null);
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_created_nn" CHECK ("created" is not null);
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_id_nn" CHECK ("id" is not null);
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_type_list" CHECK (customer_type in ('B', 'P'));
ALTER TABLE "web_customer" ADD CONSTRAINT "web_customer_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX web_customer_name_uq_idx ON "web_customer" ("name");

CREATE TABLE "rhnservercustomdatavalue" (
	"server_id" float NOT NULL,
	"key_id" float NOT NULL,
	"value" varchar(4000),
	"created_by" float,
	"last_modified_by" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_kid_nn" CHECK ("key_id" is not null);
CREATE UNIQUE INDEX rhn_scdv_sid_kid_uq ON "rhnservercustomdatavalue" ("server_id","key_id");
CREATE INDEX rhn_scdv_kid_sid_idx ON "rhnservercustomdatavalue" ("key_id","server_id");

CREATE TABLE "rhn_metrics" (
	"metric_id" varchar(40) NOT NULL,
	"storage_unit_id" varchar(10) NOT NULL,
	"description" varchar(200),
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"label" varchar(40),
	"command_class" varchar(255) DEFAULT 'nothing'
        
);
ALTER TABLE "rhn_metrics" ADD PRIMARY KEY ("command_class","metric_id");
ALTER TABLE "rhn_metrics" ADD CONSTRAINT "rhn_metric_storage_id_nn" CHECK ("storage_unit_id" is not null);
ALTER TABLE "rhn_metrics" ADD CONSTRAINT "rhn_metric_cmd_class_nn" CHECK ("command_class" is not null);
ALTER TABLE "rhn_metrics" ADD CONSTRAINT "rhn_metric_metric_id_nn" CHECK ("metric_id" is not null);
CREATE INDEX rhn_metrc_storage_unit_id_idx ON "rhn_metrics" ("storage_unit_id");
CREATE UNIQUE INDEX rhn_metrc_cmd_cl_met_id_pk ON "rhn_metrics" ("command_class","metric_id");

CREATE TABLE "rhnkickstartpreservefilelist" (
	"kickstart_id" float NOT NULL,
	"file_list_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnkickstartpreservefilelist" ADD CONSTRAINT "rhn_kspreservefl_ksid_nn" CHECK ("kickstart_id" is not null);
ALTER TABLE "rhnkickstartpreservefilelist" ADD CONSTRAINT "rhn_kspreservefl_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartpreservefilelist" ADD CONSTRAINT "rhn_kspreservefl_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartpreservefilelist" ADD CONSTRAINT "rhn_kspreservefl_flid_nn" CHECK ("file_list_id" is not null);
CREATE INDEX rhn_kspreservefl_flid_ksid_idx ON "rhnkickstartpreservefilelist" ("file_list_id","kickstart_id");
CREATE UNIQUE INDEX rhn_kspreservefl_ksid_flid_uq ON "rhnkickstartpreservefilelist" ("kickstart_id","file_list_id");

CREATE TABLE "rhnkickstartsessionstate" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(128) NOT NULL,
	"description" varchar(1024) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartsessionstate" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartsessionstate" ADD CONSTRAINT "rhn_ks_session_state_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartsessionstate" ADD CONSTRAINT "rhn_ks_session_state_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkickstartsessionstate" ADD CONSTRAINT "rhn_ks_session_state_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnkickstartsessionstate" ADD CONSTRAINT "rhn_ks_session_state_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartsessionstate" ADD CONSTRAINT "rhn_ks_session_state_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhnkickstartsessionstate" ADD CONSTRAINT "rhn_ks_session_state_name_nn" CHECK ("name" is not null);
CREATE UNIQUE INDEX rhn_ks_session_state_label_uq ON "rhnkickstartsessionstate" ("label");

CREATE TABLE "rhn_pager_types" (
	"recid" float NOT NULL,
	"pager_type_name" varchar(50)
);
ALTER TABLE "rhn_pager_types" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_pager_types" ADD CONSTRAINT "rhn_pgrtp_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_pager_types" ADD CONSTRAINT "rhn_pgrtp_recid_ck" CHECK (recid > 0);

CREATE TABLE "rhntinyurl" (
	"token" varchar(64) NOT NULL,
	"url" varchar(512) NOT NULL,
	"enabled" varchar(1) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"expires" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhntinyurl" ADD CONSTRAINT "rhn_tu_token_nn" CHECK ("token" is not null);
ALTER TABLE "rhntinyurl" ADD CONSTRAINT "rhn_tu_enabled_ck" CHECK (enabled in ('Y','N'));
ALTER TABLE "rhntinyurl" ADD CONSTRAINT "rhn_tu_enabled_nn" CHECK ("enabled" is not null);
ALTER TABLE "rhntinyurl" ADD CONSTRAINT "rhn_tu_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhntinyurl" ADD CONSTRAINT "rhn_tu_url_nn" CHECK ("url" is not null);
ALTER TABLE "rhntinyurl" ADD CONSTRAINT "rhn_tu_expires_nn" CHECK ("expires" is not null);
CREATE UNIQUE INDEX rhn_tu_token_uq ON "rhntinyurl" ("token");

CREATE TABLE "rhnusermessagetype" (
	"id" float NOT NULL,
	"label" varchar(48) NOT NULL,
	"name" varchar(96) NOT NULL
);
ALTER TABLE "rhnusermessagetype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnusermessagetype" ADD CONSTRAINT "rhn_um_type_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnusermessagetype" ADD CONSTRAINT "rhn_um_type_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnusermessagetype" ADD CONSTRAINT "rhn_um_type_label_nn" CHECK ("label" is not null);
CREATE UNIQUE INDEX rhn_um_type_name_uq ON "rhnusermessagetype" ("name");
CREATE UNIQUE INDEX rhn_um_type_label_uq ON "rhnusermessagetype" ("label");

CREATE TABLE "rhnsolarispatchpackages" (
	"patch_id" float NOT NULL,
	"package_nevra_id" float NOT NULL
);
ALTER TABLE "rhnsolarispatchpackages" ADD CONSTRAINT "rhn_solaris_pnid_nn" CHECK ("package_nevra_id" is not null);
ALTER TABLE "rhnsolarispatchpackages" ADD CONSTRAINT "rhn_solaris_pp_nn" CHECK ("patch_id" is not null);
CREATE INDEX rhn_solaris_pp_pid_pnid_idx ON "rhnsolarispatchpackages" ("patch_id","package_nevra_id");
CREATE INDEX rhn_solaris_pp_pnid_pid_idx ON "rhnsolarispatchpackages" ("package_nevra_id","patch_id");

CREATE TABLE "db_change_script" (
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"owner" varchar(255) NOT NULL,
	"description" varchar(4000),
	"release" varchar(255),
	"run_as" varchar(255),
	"expect_fail" char(1) DEFAULT 0

);
ALTER TABLE "db_change_script" ADD PRIMARY KEY ("bug_id","seq_no");
ALTER TABLE "db_change_script" ADD CONSTRAINT "dc_script_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_script" ADD CONSTRAINT "dc_script_owner_nn" CHECK ("owner" is not null);
ALTER TABLE "db_change_script" ADD CONSTRAINT "dc_script_sn_nn" CHECK ("seq_no" is not null);
CREATE INDEX dc_script_bid_sn_idx ON "db_change_script" ("bug_id","seq_no");

CREATE TABLE "rhnregtoken" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"user_id" float,
	"server_id" float,
	"note" varchar(2048) NOT NULL,
	"usage_limit" float DEFAULT 0,
	"disabled" float DEFAULT 0
	    	    	,
	"deploy_configs" char(1) DEFAULT ('Y')
			
);
ALTER TABLE "rhnregtoken" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_def_nn" CHECK ("disabled" is not null);
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_deployconfs_nn" CHECK ("deploy_configs" is not null);
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_deployconfs_ck" CHECK (deploy_configs in ('Y','N'));
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_note_nn" CHECK ("note" is not null);
CREATE INDEX rhn_reg_token_org_id_idx ON "rhnregtoken" ("org_id","id");
CREATE INDEX rhn_reg_token_uid_idx ON "rhnregtoken" ("user_id");
CREATE INDEX rhn_reg_token_sid_idx ON "rhnregtoken" ("server_id");

CREATE TABLE "rhntagname" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhntagname" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntagname" ADD CONSTRAINT "rhn_tn_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhntagname" ADD CONSTRAINT "rhn_tn_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhntagname" ADD CONSTRAINT "rhn_tn_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhntagname" ADD CONSTRAINT "rhn_tn_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_tn_name_uq ON "rhntagname" ("name");

CREATE TABLE "rhn_command_requirements" (
	"name" varchar(40) NOT NULL,
	"description" varchar(4000) NOT NULL
);
ALTER TABLE "rhn_command_requirements" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_command_requirements" ADD CONSTRAINT "rhn_creqs_description_nn" CHECK ("description" is not null);
ALTER TABLE "rhn_command_requirements" ADD CONSTRAINT "rhn_creqs_name_nn" CHECK ("name" is not null);

CREATE TABLE "web_user_personal_info" (
	"web_user_id" float NOT NULL,
	"prefix" varchar(12) DEFAULT ' '
				,
	"first_names" varchar(128) NOT NULL,
	"last_name" varchar(128) NOT NULL,
	"genqual" varchar(12),
	"parent_company" varchar(128),
	"company" varchar(128),
	"title" varchar(128),
	"phone" varchar(128),
	"fax" varchar(128),
	"email" varchar(128),
	"email_uc" varchar(128),
	"pin" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"first_names_ol" varchar(128),
	"last_name_ol" varchar(128),
	"genqual_ol" varchar(12),
	"parent_company_ol" varchar(128),
	"company_ol" varchar(128),
	"title_ol" varchar(128)
);
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "wupi_wuid_nn" CHECK ("web_user_id" is not null);
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "wupi_ln_nn" CHECK ("last_name" is not null);
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "wupi_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "wupi_fn_nn" CHECK ("first_names" is not null);
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "wupi_prefix_nn" CHECK ("prefix" is not null);
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "wupi_created_nn" CHECK ("created" is not null);
CREATE INDEX wupi_email_uc_idx ON "web_user_personal_info" ("email_uc");

CREATE TABLE "rhnpaiderratatempcache" (
	"errata_id" float,
	"user_id" float,
	"server_id" float
);
CREATE INDEX rhnpec_u_idx ON "rhnpaiderratatempcache" ("user_id");

CREATE TABLE "rhnerratafiletype" (
	"id" float NOT NULL,
	"label" varchar(128) NOT NULL
);
ALTER TABLE "rhnerratafiletype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerratafiletype" ADD CONSTRAINT "rhn_erratafile_type_label_uq" UNIQUE ("label");
ALTER TABLE "rhnerratafiletype" ADD CONSTRAINT "rhn_erratafile_type_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnerratafiletype" ADD CONSTRAINT "rhn_erratafile_type_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_erratafile_type_label_idx ON "rhnerratafiletype" ("label");
CREATE INDEX rhn_erratafile_type_id_idx ON "rhnerratafiletype" ("id");

CREATE TABLE "rhnserver" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"digital_server_id" varchar(64) NOT NULL,
	"server_arch_id" float NOT NULL,
	"os" varchar(64) NOT NULL,
	"release" varchar(64) NOT NULL,
	"name" varchar(128),
	"description" varchar(256),
	"info" varchar(128),
	"secret" varchar(32) NOT NULL,
	"creator_id" float,
	"auto_deliver" char(1) DEFAULT 'N'
	    	    	,
	"auto_update" char(1) DEFAULT 'N'
	    	    	,
	"running_kernel" varchar(64),
	"last_boot" float DEFAULT 0
			,
	"provision_state_id" float,
	"channels_changed" timestamp,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserver" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_dsi_nn" CHECK ("digital_server_id" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_secret_nn" CHECK ("secret" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_said_nn" CHECK ("server_arch_id" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_auto_update_nn" CHECK ("auto_update" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_release_nn" CHECK ("release" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_deliver_ck" CHECK (auto_deliver in ('Y', 'N'));
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_update_ck" CHECK (auto_update in ('Y', 'N'));
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_lb_nn" CHECK ("last_boot" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_os_nn" CHECK ("os" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_auto_deliver_nn" CHECK ("auto_deliver" is not null);
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_server_created_id_idx ON "rhnserver" ("created","id");
CREATE INDEX rhn_server_oid_id_idx ON "rhnserver" ("org_id","id");
CREATE INDEX rhn_server_creator_idx ON "rhnserver" ("creator_id");
CREATE UNIQUE INDEX rhn_server_dsid_uq ON "rhnserver" ("digital_server_id");

CREATE TABLE "rhnserverconfigchannel" (
	"server_id" float NOT NULL,
	"config_channel_id" float NOT NULL,
	"position" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnserverconfigchannel" ADD CONSTRAINT "rhn_servercc_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverconfigchannel" ADD CONSTRAINT "rhn_servercc_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverconfigchannel" ADD CONSTRAINT "rhn_servercc_ccid_nn" CHECK ("config_channel_id" is not null);
ALTER TABLE "rhnserverconfigchannel" ADD CONSTRAINT "rhn_servercc_creat_nn" CHECK ("created" is not null);
CREATE INDEX rhn_servercc_ccid_idx ON "rhnserverconfigchannel" ("config_channel_id");
CREATE UNIQUE INDEX rhn_servercc_sid_ccid_uq ON "rhnserverconfigchannel" ("server_id","config_channel_id");

CREATE TABLE "rhnsnapshotconfigchannel" (
	"snapshot_id" float NOT NULL,
	"config_channel_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnsnapshotconfigchannel" ADD CONSTRAINT "rhn_snapshotcc_sid_nn" CHECK ("snapshot_id" is not null);
ALTER TABLE "rhnsnapshotconfigchannel" ADD CONSTRAINT "rhn_snapshotcc_ccid_nn" CHECK ("config_channel_id" is not null);
ALTER TABLE "rhnsnapshotconfigchannel" ADD CONSTRAINT "rhn_snapshotcc_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsnapshotconfigchannel" ADD CONSTRAINT "rhn_snapshotcc_creat_nn" CHECK ("created" is not null);
CREATE INDEX rhn_snpsht_cc_ccid_sid_idx ON "rhnsnapshotconfigchannel" ("config_channel_id","snapshot_id");
CREATE UNIQUE INDEX rhn_snapshotcc_sid_ccid_uq ON "rhnsnapshotconfigchannel" ("snapshot_id","config_channel_id");

CREATE TABLE "db_change_resource_names" (
	"resource_type" varchar(255) NOT NULL,
	"resource_name" varchar(255) NOT NULL
);
ALTER TABLE "db_change_resource_names" ADD PRIMARY KEY ("resource_type","resource_name");
ALTER TABLE "db_change_resource_names" ADD CONSTRAINT "dc_resourcename_rt_nn" CHECK ("resource_type" is not null);
ALTER TABLE "db_change_resource_names" ADD CONSTRAINT "dc_resourcename_rn_nn" CHECK ("resource_name" is not null);
CREATE INDEX dc_resourcename_rt_rn_idx ON "db_change_resource_names" ("resource_type","resource_name");

CREATE TABLE "rhnclientcapability" (
	"server_id" float NOT NULL,
	"capability_name_id" float NOT NULL,
	"version" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnclientcapability" ADD CONSTRAINT "rhn_clientcap_ver_nn" CHECK ("version" is not null);
ALTER TABLE "rhnclientcapability" ADD CONSTRAINT "rhn_clientcap_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnclientcapability" ADD CONSTRAINT "rhn_clientcap_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnclientcapability" ADD CONSTRAINT "rhn_clientcap_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnclientcapability" ADD CONSTRAINT "rhn_clientcap_cap_nid_nn" CHECK ("capability_name_id" is not null);
CREATE UNIQUE INDEX rhn_clientcap_sid_cap_uq ON "rhnclientcapability" ("server_id","capability_name_id");

CREATE TABLE "rhnwebcontactchangestate" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL
);
ALTER TABLE "rhnwebcontactchangestate" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnwebcontactchangestate" ADD CONSTRAINT "rhn_cont_change_state_nn" CHECK ("label" is not null);

CREATE TABLE "rhnsnapshottag" (
	"snapshot_id" float NOT NULL,
	"tag_id" float NOT NULL,
	"server_id" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnsnapshottag" ADD CONSTRAINT "rhn_st_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsnapshottag" ADD CONSTRAINT "rhn_st_ssid_nn" CHECK ("snapshot_id" is not null);
ALTER TABLE "rhnsnapshottag" ADD CONSTRAINT "rhn_st_tid_nn" CHECK ("tag_id" is not null);
ALTER TABLE "rhnsnapshottag" ADD CONSTRAINT "rhn_st_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_ss_tag_tid_sid_idx ON "rhnsnapshottag" ("tag_id","server_id");
CREATE INDEX rhn_ss_tag_tid_ssid_idx ON "rhnsnapshottag" ("tag_id","snapshot_id");
CREATE UNIQUE INDEX rhn_ss_tag_sid_tid_uq ON "rhnsnapshottag" ("server_id","tag_id");
CREATE UNIQUE INDEX rhn_ss_tag_ssid_tid_uq ON "rhnsnapshottag" ("snapshot_id","tag_id");

CREATE TABLE "rhnsgtypevirtsublevel" (
	"server_group_type_id" float NOT NULL,
	"virt_sub_level_id" float NOT NULL,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
                      ,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
                      
);
ALTER TABLE "rhnsgtypevirtsublevel" ADD CONSTRAINT "rhn_sgtvsl_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsgtypevirtsublevel" ADD CONSTRAINT "rhn_sgtvsl_vslid_nn" CHECK ("virt_sub_level_id" is not null);
ALTER TABLE "rhnsgtypevirtsublevel" ADD CONSTRAINT "rhn_sgtvsl_sgtid_nn" CHECK ("server_group_type_id" is not null);
ALTER TABLE "rhnsgtypevirtsublevel" ADD CONSTRAINT "rhn_sgtvsl_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_sgtvsl_vslid_sgtid ON "rhnsgtypevirtsublevel" ("virt_sub_level_id","server_group_type_id");
CREATE INDEX rhn_sgtvsl_sgtid_vslid ON "rhnsgtypevirtsublevel" ("server_group_type_id","virt_sub_level_id");

CREATE TABLE "rhnfaqclass" (
	"id" float NOT NULL,
	"name" varchar(128),
	"label" varchar(32) NOT NULL,
	"ordering" float NOT NULL
);
ALTER TABLE "rhnfaqclass" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnfaqclass" ADD CONSTRAINT "rhn_faq_class_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnfaqclass" ADD CONSTRAINT "rhn_faq_class_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnfaqclass" ADD CONSTRAINT "rhn_faq_class_or_nn" CHECK ("ordering" is not null);
CREATE UNIQUE INDEX rhn_faqclass_label_uq ON "rhnfaqclass" ("label");
CREATE UNIQUE INDEX rhn_faqclass_or_uq ON "rhnfaqclass" ("ordering");

CREATE TABLE "rhnfilelist" (
	"id" float NOT NULL,
	"label" varchar(128) NOT NULL,
	"org_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnfilelist" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnfilelist" ADD CONSTRAINT "rhn_filelist_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnfilelist" ADD CONSTRAINT "rhn_filelist_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnfilelist" ADD CONSTRAINT "rhn_filelist_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnfilelist" ADD CONSTRAINT "rhn_filelist_l_nn" CHECK ("label" is not null);
ALTER TABLE "rhnfilelist" ADD CONSTRAINT "rhn_filelist_oid_nn" CHECK ("org_id" is not null);
CREATE UNIQUE INDEX rhn_filelist_oid_l_uq ON "rhnfilelist" ("org_id","label");

CREATE TABLE "rhnerratapackagetmp" (
	"errata_id" float NOT NULL,
	"package_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratapackagetmp" ADD CONSTRAINT "rhn_err_pkgtmp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratapackagetmp" ADD CONSTRAINT "rhn_err_pkgtmp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratapackagetmp" ADD CONSTRAINT "rhn_err_pkgtmp_eid_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratapackagetmp" ADD CONSTRAINT "rhn_err_pkgtmp_pid_nn" CHECK ("package_id" is not null);
CREATE UNIQUE INDEX rhn_err_pkgtmp_eid_pid_uq ON "rhnerratapackagetmp" ("errata_id","package_id");
CREATE INDEX rhn_err_pkgtmp_pid_eid_idx ON "rhnerratapackagetmp" ("package_id","errata_id");

CREATE TABLE "rhn_satellite_state" (
	"satellite_id" bigint NOT NULL,
	"last_check" timestamp,
	"probe_count" integer,
	"pct_ok" float,
	"pct_warning" float,
	"pct_critical" float,
	"pct_unknown" float,
	"pct_pending" float,
	"recent_state_changes" integer,
	"imminent_probes" integer,
	"max_exec_time" float,
	"min_exec_time" float,
	"avg_exec_time" float,
	"max_latency" float,
	"min_latency" float,
	"avg_latency" float
);
ALTER TABLE "rhn_satellite_state" ADD PRIMARY KEY ("satellite_id");
ALTER TABLE "rhn_satellite_state" ADD CONSTRAINT "rhn_satst_sat_id_nn" CHECK ("satellite_id" is not null);

CREATE TABLE "rhnsnapshot" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"invalid" float,
	"reason" varchar(4000) NOT NULL,
	"server_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnsnapshot" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_reason_nn" CHECK ("reason" is not null);
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_sid_nn" CHECK ("server_id" is not null);
CREATE INDEX rhn_snapshot_oid_idx ON "rhnsnapshot" ("org_id");
CREATE INDEX rhn_snapshot_sid_idx ON "rhnsnapshot" ("server_id");

CREATE TABLE "rhnchannelfamilylicense" (
	"channel_family_id" float NOT NULL,
	"license_path" varchar(1000) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelfamilylicense" ADD CONSTRAINT "rhn_cfl_cfid_nn" CHECK ("channel_family_id" is not null);
ALTER TABLE "rhnchannelfamilylicense" ADD CONSTRAINT "rhn_cfl_license_nn" CHECK ("license_path" is not null);
ALTER TABLE "rhnchannelfamilylicense" ADD CONSTRAINT "rhn_cfl_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelfamilylicense" ADD CONSTRAINT "rhn_cfl_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_cf_license_cfid_uq ON "rhnchannelfamilylicense" ("channel_family_id");

CREATE TABLE "rhnversioninfo" (
	"label" varchar(64) NOT NULL,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnversioninfo" ADD CONSTRAINT "rhn_versioninfo_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnversioninfo" ADD CONSTRAINT "rhn_versioninfo_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhnversioninfo" ADD CONSTRAINT "rhn_versioninfo_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnversioninfo" ADD CONSTRAINT "rhn_versioninfo_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnversioninfo" ADD CONSTRAINT "rhn_versioninfo_nid_nn" CHECK ("name_id" is not null);
CREATE INDEX rhn_vinfo_label_eid_nid_idx ON "rhnversioninfo" ("label","name_id","evr_id");
CREATE UNIQUE INDEX rhn_versioninfo_nid_eid_uq ON "rhnversioninfo" ("name_id","evr_id");
CREATE UNIQUE INDEX rhn_versioninfo_label_uq ON "rhnversioninfo" ("label");

CREATE TABLE "rhnemailaddresslog" (
	"user_id" float NOT NULL,
	"address" varchar(128) NOT NULL,
	"reason" varchar(4000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnemailaddresslog" ADD CONSTRAINT "rhn_eaddresslog_uid_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnemailaddresslog" ADD CONSTRAINT "rhn_eaddresslog_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnemailaddresslog" ADD CONSTRAINT "rhn_eaddresslog_a_nn" CHECK ("address" is not null);
CREATE INDEX rhn_eaddresslog_created_idx ON "rhnemailaddresslog" ("created");
CREATE INDEX rhn_eaddresslog_uid_idx ON "rhnemailaddresslog" ("user_id");
CREATE INDEX rhn_eaddresslog_a_idx ON "rhnemailaddresslog" ("address");

CREATE TABLE "wm$versioned_tables" (
);

CREATE TABLE "rhnaction" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"action_type" float NOT NULL,
	"name" varchar(128),
	"scheduler" float,
	"earliest_action" timestamp NOT NULL,
	"version" float DEFAULT 0
			,
	"archived" float DEFAULT 0
	    	    	,
	"prerequisite" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnaction" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_version_nn" CHECK ("version" is not null);
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_archived_ck" CHECK (archived in (0, 1));
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_ea_nn" CHECK ("earliest_action" is not null);
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_at_nn" CHECK ("action_type" is not null);
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_archived_nn" CHECK ("archived" is not null);
CREATE INDEX rhn_action_oid_idx ON "rhnaction" ("org_id");
CREATE INDEX rhn_action_scheduler_idx ON "rhnaction" ("scheduler");
CREATE INDEX rhn_action_prereq_id_idx ON "rhnaction" ("prerequisite","id");

CREATE TABLE "rhnserveractionverifyresult" (
	"server_id" float NOT NULL,
	"action_id" float NOT NULL,
	"package_name_id" float NOT NULL,
	"package_evr_id" float NOT NULL,
	"package_arch_id" float NOT NULL,
	"package_capability_id" float NOT NULL,
	"attribute" char(1),
	"size_differs" char(1) NOT NULL,
	"mode_differs" char(1) NOT NULL,
	"md5_differs" char(1) NOT NULL,
	"devnum_differs" char(1) NOT NULL,
	"readlink_differs" char(1) NOT NULL,
	"uid_differs" char(1) NOT NULL,
	"gid_differs" char(1) NOT NULL,
	"mtime_differs" char(1) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_gid_ck" CHECK (gid_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_peid_nn" CHECK ("package_evr_id" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_attr_ck" CHECK (attribute in ('c','d','g','l','r'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_gid_nn" CHECK ("gid_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_devnum_ck" CHECK (devnum_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_md5_ck" CHECK (md5_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_uid_ck" CHECK (uid_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_md5_nn" CHECK ("md5_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_pnid_nn" CHECK ("package_name_id" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_paid_nn" CHECK ("package_arch_id" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_mtime_ck" CHECK (mtime_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_mode_ck" CHECK (mode_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_size_ck" CHECK (size_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_readlink_ck" CHECK (readlink_differs in ('Y','N','?'));
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_mode_nn" CHECK ("mode_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_devnum_nn" CHECK ("devnum_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_size_nn" CHECK ("size_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_readlink_nn" CHECK ("readlink_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_uid_nn" CHECK ("uid_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_mtime_nn" CHECK ("mtime_differs" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_pcid_nn" CHECK ("package_capability_id" is not null);
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_sid_nn" CHECK ("server_id" is not null);
CREATE UNIQUE INDEX rhn_sactionvr_sanec_uq ON "rhnserveractionverifyresult" ("server_id","action_id","package_name_id","package_evr_id","package_capability_id");

CREATE TABLE "valid_countries_tl" (
	"lang" char(2) NOT NULL,
	"code" varchar(2) NOT NULL,
	"short_name_tl" varchar(80) NOT NULL
);
ALTER TABLE "valid_countries_tl" ADD CONSTRAINT "valid_countries_tl_unq" UNIQUE ("lang","code");

CREATE TABLE "rhnwebcontactchangelog" (
	"id" float NOT NULL,
	"web_contact_id" float NOT NULL,
	"web_contact_from_id" float,
	"change_state_id" float NOT NULL,
	"date_completed" timestamp DEFAULT (CURRENT_TIMESTAMP)
                           
);
ALTER TABLE "rhnwebcontactchangelog" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnwebcontactchangelog" ADD CONSTRAINT "rhn_wcon_cl_change_sid_nn" CHECK ("change_state_id" is not null);
ALTER TABLE "rhnwebcontactchangelog" ADD CONSTRAINT "rhn_wcon_cl_modified_nn" CHECK ("date_completed" is not null);
ALTER TABLE "rhnwebcontactchangelog" ADD CONSTRAINT "rhn_wcon_cl_wcon_id_nn" CHECK ("web_contact_id" is not null);
CREATE INDEX rhn_wcon_disabled_wcon_id_idx ON "rhnwebcontactchangelog" ("web_contact_id");

CREATE TABLE "rhnksdata" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"is_org_default" char(1) DEFAULT ('N')
				,
	"label" varchar(64) NOT NULL,
	"name" varchar(128) NOT NULL,
	"comments" varchar(4000),
	"active" char(1) DEFAULT ('Y')
				,
	"postlog" char(1) DEFAULT ('N')
                ,
	"pre" bytea,
	"post" bytea,
	"nochroot_post" bytea,
	"static_device" varchar(32),
	"kernel_params" varchar(128),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnksdata" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_oid_name_uq" UNIQUE ("org_id","name");
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_oid_label_uq" UNIQUE ("org_id","label");
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_active_nn" CHECK ("active" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_default_nn" CHECK ("is_org_default" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_active_ck" CHECK (active in ('Y','N'));
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_post_log_nn" CHECK ("postlog" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_post_log_ck" CHECK (postLog in ('Y','N'));
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_default_ck" CHECK (is_org_default in ('Y','N'));
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_ks_oid_label_id_idx ON "rhnksdata" ("org_id","label","id");

CREATE TABLE "rhnusergroupmembers" (
	"user_id" float NOT NULL,
	"user_group_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnusergroupmembers" ADD CONSTRAINT "rhn_ugmembers_uid_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnusergroupmembers" ADD CONSTRAINT "rhn_ugmembers_ugid_nn" CHECK ("user_group_id" is not null);
ALTER TABLE "rhnusergroupmembers" ADD CONSTRAINT "rhn_ugmembers_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnusergroupmembers" ADD CONSTRAINT "rhn_ugmembers_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_ugmembers_ugid_uid_idx ON "rhnusergroupmembers" ("user_group_id","user_id");
CREATE UNIQUE INDEX rhn_ugmembers_uid_ugid_uq ON "rhnusergroupmembers" ("user_id","user_group_id");

CREATE TABLE "rhncpuarch" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhncpuarch" ADD PRIMARY KEY ("id");
ALTER TABLE "rhncpuarch" ADD CONSTRAINT "rhn_cpuarch_label_uq" UNIQUE ("label");
ALTER TABLE "rhncpuarch" ADD CONSTRAINT "rhn_cpuarch_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhncpuarch" ADD CONSTRAINT "rhn_cpuarch_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhncpuarch" ADD CONSTRAINT "rhn_cpuarch_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhncpuarch" ADD CONSTRAINT "rhn_cpuarch_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhncpuarch" ADD CONSTRAINT "rhn_cpuarch_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_cpuarch_l_id_n_idx ON "rhncpuarch" ("label","id","name");
CREATE INDEX rhn_cpuarch_id_l_n_idx ON "rhncpuarch" ("id","label","name");

CREATE TABLE "db_change_script_source" (
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"line_no" float NOT NULL,
	"line" varchar(1000) NOT NULL
);
ALTER TABLE "db_change_script_source" ADD CONSTRAINT "dc_scriptsource_l_nn" CHECK ("line" is not null);
ALTER TABLE "db_change_script_source" ADD CONSTRAINT "dc_scriptsource_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_script_source" ADD CONSTRAINT "dc_scriptsource_ln_nn" CHECK ("line_no" is not null);
ALTER TABLE "db_change_script_source" ADD CONSTRAINT "dc_scriptsource_sn_nn" CHECK ("seq_no" is not null);
CREATE INDEX dc_scriptsource_bid_sn_idx ON "db_change_script_source" ("bug_id","seq_no");

CREATE TABLE "rhn_semantic_data_type" (
	"name" varchar(10) NOT NULL,
	"description" varchar(80) NOT NULL,
	"label_name" varchar(80),
	"converter_name" varchar(128),
	"help_file" varchar(128),
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_semantic_data_type" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_semantic_data_type" ADD CONSTRAINT "rhn_sdtyp_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhn_semantic_data_type" ADD CONSTRAINT "rhn_sdtyp_desc_nn" CHECK ("description" is not null);

CREATE TABLE "rhnproductname" (
	"id" float NOT NULL,
	"label" varchar(128) NOT NULL,
	"name" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
             ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
             
);
ALTER TABLE "rhnproductname" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnproductname" ADD CONSTRAINT "rhn_productname_lbl_nn" CHECK ("label" is not null);
ALTER TABLE "rhnproductname" ADD CONSTRAINT "product_name_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnproductname" ADD CONSTRAINT "rhn_productname_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnproductname" ADD CONSTRAINT "product_name_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnproductname" ADD CONSTRAINT "rhn_productname_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_productname_name_uq ON "rhnproductname" ("name");
CREATE UNIQUE INDEX rhn_productname_label_uq ON "rhnproductname" ("label");

CREATE TABLE "rhnsgtypebaseaddoncompat" (
	"base_id" float NOT NULL,
	"addon_id" float NOT NULL
);
ALTER TABLE "rhnsgtypebaseaddoncompat" ADD CONSTRAINT "rhn_sgt_bac_aid_nn" CHECK ("addon_id" is not null);
ALTER TABLE "rhnsgtypebaseaddoncompat" ADD CONSTRAINT "rhn_sgt_bac_bid_nn" CHECK ("base_id" is not null);

CREATE TABLE "rhnregtokenentitlement" (
	"reg_token_id" float NOT NULL,
	"server_group_type_id" float NOT NULL
);
ALTER TABLE "rhnregtokenentitlement" ADD CONSTRAINT "rhn_reg_tok_ent_rtid_nn" CHECK ("reg_token_id" is not null);
ALTER TABLE "rhnregtokenentitlement" ADD CONSTRAINT "rhn_reg_tok_ent_sgtid_nn" CHECK ("server_group_type_id" is not null);
CREATE UNIQUE INDEX rhn_rte_rtid_sgtid_uq_idx ON "rhnregtokenentitlement" ("reg_token_id","server_group_type_id");

CREATE TABLE "rhnpackageprovides" (
	"package_id" float NOT NULL,
	"capability_id" float NOT NULL,
	"sense" float DEFAULT (0) -- comes from RPMSENSE_*
                        ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnpackageprovides" ADD CONSTRAINT "rhn_pkg_provides_cid_nn" CHECK ("capability_id" is not null);
ALTER TABLE "rhnpackageprovides" ADD CONSTRAINT "rhn_pkg_provides_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnpackageprovides" ADD CONSTRAINT "rhn_pkg_provides_ctime_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackageprovides" ADD CONSTRAINT "rhn_pkg_provides_mtime_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackageprovides" ADD CONSTRAINT "rhn_pkg_provides_sense_nn" CHECK ("sense" is not null);
CREATE INDEX rhn_pkg_provides_pid_idx ON "rhnpackageprovides" ("package_id");
CREATE UNIQUE INDEX rhn_pkg_prov_cid_pid_s_uq ON "rhnpackageprovides" ("capability_id","package_id","sense");

CREATE TABLE "rhnvirtualinstancetype" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"label" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnvirtualinstancetype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnvirtualinstancetype" ADD CONSTRAINT "rhn_vit_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnvirtualinstancetype" ADD CONSTRAINT "rhn_vit_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnvirtualinstancetype" ADD CONSTRAINT "rhn_vit_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnvirtualinstancetype" ADD CONSTRAINT "rhn_vit_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnvirtualinstancetype" ADD CONSTRAINT "rhn_vit_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_vit_lbl_id_uq ON "rhnvirtualinstancetype" ("label","id");

CREATE TABLE "rhn_command_parameter" (
	"command_id" float NOT NULL,
	"param_name" varchar(40) NOT NULL,
	"param_type" varchar(10) DEFAULT 'config'
        ,
	"data_type_name" varchar(10) NOT NULL,
	"description" varchar(80) NOT NULL,
	"mandatory" char(1) DEFAULT '0'
        ,
	"default_value" varchar(1024),
	"min_value" float,
	"max_value" float,
	"field_order" float NOT NULL,
	"field_widget_name" varchar(20) NOT NULL,
	"field_visible_length" float,
	"field_maximum_length" float,
	"field_visible" char(1) DEFAULT '1'
        ,
	"default_value_visible" char(1) DEFAULT '1'
        ,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_command_parameter" ADD PRIMARY KEY ("command_id","param_name");
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_id_field_orde_uq" UNIQUE ("command_id","field_order");
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_id_p_name_p_type_uq" UNIQUE ("command_id","param_name","param_type");
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_mandatory_nn" CHECK ("mandatory" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_command_id_nn" CHECK ("command_id" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_param_name_nn" CHECK ("param_name" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_field_visible_nn" CHECK ("field_visible" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_field_widget_name_nn" CHECK ("field_widget_name" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_description_nn" CHECK ("description" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_data_type_name_nn" CHECK ("data_type_name" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_def_value_vis_nn" CHECK ("default_value_visible" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_param_type_nn" CHECK ("param_type" is not null);
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_field_order_nn" CHECK ("field_order" is not null);
CREATE UNIQUE INDEX rhn_cparm_cmd_id_field_orde_uq ON "rhn_command_parameter" ("command_id","field_order");
CREATE UNIQUE INDEX rhn_cparm_cmd_id_param_name_uq ON "rhn_command_parameter" ("command_id","param_name");

CREATE TABLE "rhnactionvirtvcpu" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"vcpu" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtvcpu" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtvcpu" ADD CONSTRAINT "rhn_avcpu_uuid_nn" CHECK ("uuid" is not null);
ALTER TABLE "rhnactionvirtvcpu" ADD CONSTRAINT "rhn_avcpu_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtvcpu" ADD CONSTRAINT "rhn_avcpu_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtvcpu" ADD CONSTRAINT "rhn_avcpu_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionvirtvcpu" ADD CONSTRAINT "rhn_avcpu_vcpus_nn" CHECK ("vcpu" is not null);
CREATE UNIQUE INDEX rhn_avcpu_aid_uq ON "rhnactionvirtvcpu" ("action_id");

CREATE TABLE "rhnpackageevr" (
	"id" float NOT NULL,
	"epoch" varchar(16),
	"version" varchar(512) NOT NULL,
	"release" varchar(512) NOT NULL
--	"evr" EVR_T, 1 NOT NULL
);
ALTER TABLE "rhnpackageevr" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackageevr" ADD CONSTRAINT "rhn_pe_version_nn" CHECK ("version" is not null);
ALTER TABLE "rhnpackageevr" ADD CONSTRAINT "rhn_pe_release_nn" CHECK ("release" is not null);
ALTER TABLE "rhnpackageevr" ADD CONSTRAINT "rhn_pe_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_pe_v_r_e_uq ON "rhnpackageevr" ("version","release","epoch");

CREATE TABLE "rhnservergroupmembers" (
	"server_id" float NOT NULL,
	"server_group_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnservergroupmembers" ADD CONSTRAINT "rhn_sg_members_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnservergroupmembers" ADD CONSTRAINT "rhn_sg_member_cre_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservergroupmembers" ADD CONSTRAINT "rhn_sg_group_nn" CHECK ("server_group_id" is not null);
ALTER TABLE "rhnservergroupmembers" ADD CONSTRAINT "rhn_sg_member_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_sgmembers_sid_sgid_uq ON "rhnservergroupmembers" ("server_id","server_group_id");
CREATE INDEX rhn_sgmembers_sgid_sid_idx ON "rhnservergroupmembers" ("server_group_id","server_id");

CREATE TABLE "rhnconfigchanneltype" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(64) NOT NULL,
	"priority" float DEFAULT (0)
	                ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnconfigchanneltype" ADD CONSTRAINT "rhn_confchantype_label_uq" UNIQUE ("label");
ALTER TABLE "rhnconfigchanneltype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigchanneltype" ADD CONSTRAINT "rhn_confchantype_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnconfigchanneltype" ADD CONSTRAINT "rhn_confchantype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnconfigchanneltype" ADD CONSTRAINT "rhn_confchantype_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnconfigchanneltype" ADD CONSTRAINT "rhn_confchantype_pri_nn" CHECK ("priority" is not null);
ALTER TABLE "rhnconfigchanneltype" ADD CONSTRAINT "rhn_confchantype_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnconfigchanneltype" ADD CONSTRAINT "rhn_confchantype_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_confchantype_label_id_idx ON "rhnconfigchanneltype" ("label","id");

CREATE TABLE "rhnsatelliteservergroup" (
	"server_id" float NOT NULL,
	"server_group_type" float NOT NULL,
	"max_members" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnsatelliteservergroup" ADD CONSTRAINT "rhn_satsg_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnsatelliteservergroup" ADD CONSTRAINT "rhn_satsg_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnsatelliteservergroup" ADD CONSTRAINT "rhn_satsg_sgtype_nn" CHECK ("server_group_type" is not null);
ALTER TABLE "rhnsatelliteservergroup" ADD CONSTRAINT "rhn_satsg_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_satsg_sid_sgt_uq ON "rhnsatelliteservergroup" ("server_id","server_group_type");

CREATE TABLE "rhnservergroup" (
	"id" float NOT NULL,
	"name" varchar(64) NOT NULL,
	"description" varchar(1024) NOT NULL,
	"max_members" float,
	"current_members" float DEFAULT 0
                        ,
	"group_type" float,
	"org_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnservergroup" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_curmembers_nn" CHECK ("current_members" is not null);
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_oid_nn" CHECK ("org_id" is not null);
CREATE INDEX rhn_sg_oid_id_name_idx ON "rhnservergroup" ("org_id","id","name");
CREATE UNIQUE INDEX rhn_servergroup_oid_name_uq ON "rhnservergroup" ("org_id","name");
CREATE INDEX rhn_sg_oid_type_id_idx ON "rhnservergroup" ("org_id","group_type","id");
CREATE INDEX rhn_sg_type_id_idx ON "rhnservergroup" ("group_type","id");
CREATE INDEX rhn_sg_id_oid_name_idx ON "rhnservergroup" ("id","org_id","name");

CREATE TABLE "time_series" (
	"o_id" varchar(64) NOT NULL,
	"entry_time" float NOT NULL,
	"data" varchar(1024)
);
ALTER TABLE "time_series" ADD CONSTRAINT "time_series_etime_nn" CHECK ("entry_time" is not null);
ALTER TABLE "time_series" ADD CONSTRAINT "time_series_o_id_nn" CHECK ("o_id" is not null);
CREATE INDEX time_series_oid_entry_idx ON "time_series" ("o_id","entry_time");

CREATE TABLE "db_change_ignore_errs" (
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"err_no" float NOT NULL
);
ALTER TABLE "db_change_ignore_errs" ADD CONSTRAINT "dc_ignoreerrs_en_nn" CHECK ("err_no" is not null);
ALTER TABLE "db_change_ignore_errs" ADD CONSTRAINT "dc_ignoreerrs_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_ignore_errs" ADD CONSTRAINT "dc_ignoreerrs_sn_nn" CHECK ("seq_no" is not null);
CREATE INDEX dc_ignoreerrs_bid_sn_idx ON "db_change_ignore_errs" ("bug_id","seq_no");

CREATE TABLE "rhnchannelfamilymembers" (
	"channel_id" float NOT NULL,
	"channel_family_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnchannelfamilymembers" ADD CONSTRAINT "rhn_cf_family_nn" CHECK ("channel_family_id" is not null);
ALTER TABLE "rhnchannelfamilymembers" ADD CONSTRAINT "rhn_cf_member_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelfamilymembers" ADD CONSTRAINT "rhn_cf_members_c_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnchannelfamilymembers" ADD CONSTRAINT "rhn_cf_member_cre_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_cf_c_uq ON "rhnchannelfamilymembers" ("channel_id");
CREATE UNIQUE INDEX rhn_cf_member_uq ON "rhnchannelfamilymembers" ("channel_id","channel_family_id");
CREATE INDEX rhn_cf_member_cf_c_idx ON "rhnchannelfamilymembers" ("channel_family_id","channel_id");

CREATE TABLE "rhnchannelnewestpackage" (
	"channel_id" float NOT NULL,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"package_arch_id" float NOT NULL,
	"package_id" float NOT NULL
);
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_cid_nid_uq" UNIQUE ("channel_id","name_id","package_arch_id");
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_paid_nn" CHECK ("package_arch_id" is not null);
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_cid_nn" CHECK ("channel_id" is not null);
CREATE INDEX rhn_cnp_pid_idx ON "rhnchannelnewestpackage" ("package_id");
CREATE INDEX rhn_cnp_necp_idx ON "rhnchannelnewestpackage" ("name_id","evr_id","channel_id","package_id");
CREATE INDEX rhn_cnp_cnep_idx ON "rhnchannelnewestpackage" ("channel_id","name_id","package_arch_id","evr_id","package_id");

CREATE TABLE "rhnactionkickstartfilelist" (
	"action_ks_id" float NOT NULL,
	"file_list_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionkickstartfilelist" ADD CONSTRAINT "rhn_actionksfl_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionkickstartfilelist" ADD CONSTRAINT "rhn_actionksfl_aksid_nn" CHECK ("action_ks_id" is not null);
ALTER TABLE "rhnactionkickstartfilelist" ADD CONSTRAINT "rhn_actionksfl_flid_nn" CHECK ("file_list_id" is not null);
ALTER TABLE "rhnactionkickstartfilelist" ADD CONSTRAINT "rhn_actionksfl_creat_nn" CHECK ("created" is not null);
CREATE INDEX rhn_actionksfl_flid_idx ON "rhnactionkickstartfilelist" ("file_list_id");
CREATE UNIQUE INDEX rhn_actionksfl_aksid_flid_uq ON "rhnactionkickstartfilelist" ("action_ks_id","file_list_id");

CREATE TABLE "rhnorgquota" (
	"org_id" float NOT NULL,
	"total" float DEFAULT (0)
			,
	"bonus" float DEFAULT (0)
			,
	"used" float DEFAULT (0)
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnorgquota" ADD CONSTRAINT "rhn_orgquota_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnorgquota" ADD CONSTRAINT "rhn_orgquota_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnorgquota" ADD CONSTRAINT "rhn_orgquota_used_nn" CHECK ("used" is not null);
ALTER TABLE "rhnorgquota" ADD CONSTRAINT "rhn_orgquota_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnorgquota" ADD CONSTRAINT "rhn_orgquota_total_nn" CHECK ("total" is not null);
ALTER TABLE "rhnorgquota" ADD CONSTRAINT "rhn_orgquota_bonus_nn" CHECK ("bonus" is not null);
CREATE UNIQUE INDEX rhn_orgquota_oid_uq ON "rhnorgquota" ("org_id");

CREATE TABLE "rhnvirtualinstanceeventtype" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"label" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnvirtualinstanceeventtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnvirtualinstanceeventtype" ADD CONSTRAINT "rhn_viet_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnvirtualinstanceeventtype" ADD CONSTRAINT "rhn_viet_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnvirtualinstanceeventtype" ADD CONSTRAINT "rhn_viet_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnvirtualinstanceeventtype" ADD CONSTRAINT "rhn_viet_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnvirtualinstanceeventtype" ADD CONSTRAINT "rhn_viet_modified_nn" CHECK ("modified" is not null);

CREATE TABLE "rhnchannelpermissionrole" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"description" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelpermissionrole" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnchannelpermissionrole" ADD CONSTRAINT "rhn_cperm_role_label_uq" UNIQUE ("label");
ALTER TABLE "rhnchannelpermissionrole" ADD CONSTRAINT "rhn_cperm_role_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelpermissionrole" ADD CONSTRAINT "rhn_cperm_role_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnchannelpermissionrole" ADD CONSTRAINT "rhn_cperm_role_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhnchannelpermissionrole" ADD CONSTRAINT "rhn_cperm_role_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelpermissionrole" ADD CONSTRAINT "rhn_cperm_role_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_cperm_role_label_id_idx ON "rhnchannelpermissionrole" ("label","id");

CREATE TABLE "rhnsnpserverqueue" (
	"server_id" float NOT NULL,
	"processed" float DEFAULT (0)
			
);
ALTER TABLE "rhnsnpserverqueue" ADD CONSTRAINT "rhn_sec_np_processed_nn" CHECK ("processed" is not null);
ALTER TABLE "rhnsnpserverqueue" ADD CONSTRAINT "rhn_sec_np_sid_nn" CHECK ("server_id" is not null);
CREATE INDEX rhn_sec_np_sid_idx ON "rhnsnpserverqueue" ("server_id");

CREATE TABLE "rhnserveractionverifymissing" (
	"server_id" float NOT NULL,
	"action_id" float NOT NULL,
	"package_name_id" float NOT NULL,
	"package_evr_id" float NOT NULL,
	"package_arch_id" float NOT NULL,
	"package_capability_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_pcid_nn" CHECK ("package_capability_id" is not null);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_paid_nn" CHECK ("package_arch_id" is not null);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_peid_nn" CHECK ("package_evr_id" is not null);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_pnid_nn" CHECK ("package_name_id" is not null);
CREATE UNIQUE INDEX rhn_sactionvm_sanec_uq ON "rhnserveractionverifymissing" ("server_id","action_id","package_name_id","package_evr_id","package_capability_id");

CREATE TABLE "rhnsolarispatchtype" (
	"id" float NOT NULL,
	"name" varchar(32) NOT NULL,
	"label" varchar(32) NOT NULL
);
ALTER TABLE "rhnsolarispatchtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnsolarispatchtype" ADD CONSTRAINT "rhn_solaris_pt_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnsolarispatchtype" ADD CONSTRAINT "rhn_solaris_pt_name_nn" CHECK ("name" is not null);

CREATE TABLE "rhnactionconfigrevisionresult" (
	"action_config_revision_id" float NOT NULL,
	"result" bytea,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionconfigrevisionresult" ADD CONSTRAINT "rhn_actioncfr_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionconfigrevisionresult" ADD CONSTRAINT "rhn_actioncfr_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionconfigrevisionresult" ADD CONSTRAINT "rhn_actioncfr_acrid_nn" CHECK ("action_config_revision_id" is not null);
CREATE UNIQUE INDEX rhn_actioncfr_acrid_uq ON "rhnactionconfigrevisionresult" ("action_config_revision_id");

CREATE TABLE "rhnserverpackagearchcompat" (
	"server_arch_id" float NOT NULL,
	"package_arch_id" float NOT NULL,
	"preference" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_said_paid_uq" UNIQUE ("server_arch_id","package_arch_id");
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_pref_said_uq" UNIQUE ("preference","server_arch_id");
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_pref_nn" CHECK ("preference" is not null);
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_paid_nn" CHECK ("package_arch_id" is not null);
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_said_nn" CHECK ("server_arch_id" is not null);
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_sp_ac_paid_said_pref ON "rhnserverpackagearchcompat" ("package_arch_id","server_arch_id","preference");
CREATE INDEX rhn_sp_ac_said_paid_pref ON "rhnserverpackagearchcompat" ("server_arch_id","package_arch_id","preference");

CREATE TABLE "rhn_probe_types" (
	"probe_type" varchar(20) NOT NULL,
	"type_description" varchar(200) NOT NULL
);
ALTER TABLE "rhn_probe_types" ADD PRIMARY KEY ("probe_type");
ALTER TABLE "rhn_probe_types" ADD CONSTRAINT "rhn_prbtp_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_probe_types" ADD CONSTRAINT "rhn_prbtp_type_desc_nn" CHECK ("type_description" is not null);

CREATE TABLE "rhn_current_state_summaries" (
	"customer_id" bigint NOT NULL,
	"template_id" varchar(10) NOT NULL,
	"state" varchar(20) NOT NULL,
	"state_count" integer,
	"last_check" timestamp
);
ALTER TABLE "rhn_current_state_summaries" ADD PRIMARY KEY ("customer_id","template_id","state");
ALTER TABLE "rhn_current_state_summaries" ADD CONSTRAINT "rhn_cursu_cust_id_nn" CHECK ("customer_id" is not null);
ALTER TABLE "rhn_current_state_summaries" ADD CONSTRAINT "rhn_cursu_template_id_nn" CHECK ("template_id" is not null);
ALTER TABLE "rhn_current_state_summaries" ADD CONSTRAINT "rhn_cursu_state_nn" CHECK ("state" is not null);

CREATE TABLE "rhnserverprofile" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"base_channel" float NOT NULL,
	"name" varchar(128),
	"description" varchar(256),
	"info" varchar(128),
	"profile_type_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverprofile" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_ptype_nn" CHECK ("profile_type_id" is not null);
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_bcid_nn" CHECK ("base_channel" is not null);
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_oid_nn" CHECK ("org_id" is not null);
CREATE UNIQUE INDEX rhn_server_profile_noid_uq ON "rhnserverprofile" ("org_id","name");
CREATE INDEX rhn_server_profile_o_id_bc_idx ON "rhnserverprofile" ("org_id","id","base_channel");
CREATE INDEX rhn_sprofile_id_oid_bc_idx ON "rhnserverprofile" ("id","org_id","base_channel");
CREATE INDEX rhn_server_profile_bc_idx ON "rhnserverprofile" ("base_channel");

CREATE TABLE "rhnfiledownload" (
	"file_id" float NOT NULL,
	"location" varchar(2000) NOT NULL,
	"token" varchar(48),
	"requestor_ip" varchar(15) NOT NULL,
	"start_time" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"user_id" float
);
ALTER TABLE "rhnfiledownload" ADD CONSTRAINT "rhn_filedl_location_nn" CHECK ("location" is not null);
ALTER TABLE "rhnfiledownload" ADD CONSTRAINT "rhn_filedl_start_nn" CHECK ("start_time" is not null);
ALTER TABLE "rhnfiledownload" ADD CONSTRAINT "rhn_filedl_fid_nn" CHECK ("file_id" is not null);
ALTER TABLE "rhnfiledownload" ADD CONSTRAINT "rhn_filedl_rip_nn" CHECK ("requestor_ip" is not null);
CREATE INDEX rhn_filedl_uid_fid_idx ON "rhnfiledownload" ("user_id","file_id");
CREATE INDEX rhn_filedl_token_idx ON "rhnfiledownload" ("token");
CREATE INDEX rhn_filedl_start_idx ON "rhnfiledownload" ("start_time");

CREATE TABLE "rhn_probe_state" (
	"probe_id" bigint NOT NULL,
	"scout_id" bigint NOT NULL,
	"state" varchar(20),
	"output" varchar(4000),
	"last_check" timestamp
);
ALTER TABLE "rhn_probe_state" ADD PRIMARY KEY ("probe_id","scout_id");
ALTER TABLE "rhn_probe_state" ADD CONSTRAINT "rhn_prbst_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_probe_state" ADD CONSTRAINT "rhn_prbst_scout_id_nn" CHECK ("scout_id" is not null);
CREATE UNIQUE INDEX rhn_prbst_probe_id_scout_id_pk ON "rhn_probe_state" ("probe_id","scout_id");

CREATE TABLE "rhnerratanotificationqueue" (
	"errata_id" float NOT NULL,
	"org_id" float NOT NULL,
	"next_action" timestamp,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnerratanotificationqueue" ADD CONSTRAINT "rhn_enqueue_eoid_uq" UNIQUE ("errata_id","org_id");
ALTER TABLE "rhnerratanotificationqueue" ADD CONSTRAINT "rhn_enqueue_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratanotificationqueue" ADD CONSTRAINT "rhn_enqueue_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnerratanotificationqueue" ADD CONSTRAINT "rhn_enqueue_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratanotificationqueue" ADD CONSTRAINT "rhn_enqueue_eid_nn" CHECK ("errata_id" is not null);
CREATE INDEX rhn_enqueue_na_eid_idx ON "rhnerratanotificationqueue" ("next_action","errata_id");
CREATE INDEX rhn_enqueue_eid_idx ON "rhnerratanotificationqueue" ("errata_id","org_id");

CREATE TABLE "rhnentitlementlog" (
	"run_time" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"bdate" timestamp NOT NULL,
	"edate" timestamp NOT NULL
);
ALTER TABLE "rhnentitlementlog" ADD CONSTRAINT "rhn_entitlement_log_bdate_nn" CHECK ("bdate" is not null);
ALTER TABLE "rhnentitlementlog" ADD CONSTRAINT "rhn_entitlement_log_edate_nn" CHECK ("edate" is not null);
ALTER TABLE "rhnentitlementlog" ADD CONSTRAINT "rhn_entitlement_log_rt_nn" CHECK ("run_time" is not null);

CREATE TABLE "rhnsavedsearch" (
	"id" float NOT NULL,
	"web_contact_id" float NOT NULL,
	"name" varchar(16) NOT NULL,
	"type" float NOT NULL,
	"search_string" varchar(4000) NOT NULL,
	"search_set" varchar(16) NOT NULL,
	"search_field" varchar(128) NOT NULL,
	"invert" char(1) DEFAULT ('N')
			
);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_name_wcid_uq" UNIQUE ("name","web_contact_id");
ALTER TABLE "rhnsavedsearch" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_sset_nn" CHECK ("search_set" is not null);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_sfield_nn" CHECK ("search_field" is not null);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_sstring_nn" CHECK ("search_string" is not null);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_sset_ck" CHECK ( search_set in ('all','system_list'));
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_invert_ck" CHECK (invert in ('Y','N'));
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_invert_nn" CHECK ("invert" is not null);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_wcid_nn" CHECK ("web_contact_id" is not null);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_type_nn" CHECK ("type" is not null);
CREATE INDEX rhn_savedsearch_id_wcid_idx ON "rhnsavedsearch" ("id","web_contact_id");
CREATE INDEX rhn_savedsearch_wcid_id_idx ON "rhnsavedsearch" ("web_contact_id","id");
CREATE INDEX rhn_savedsearch_name_wcid_idx ON "rhnsavedsearch" ("name","web_contact_id");

CREATE TABLE "rhnappinstallinstance" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL,
	"label" varchar(128) NOT NULL,
	"version" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnappinstallinstance" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnappinstallinstance" ADD CONSTRAINT "rhn_appinst_instance_lv_uq" UNIQUE ("label","version");
ALTER TABLE "rhnappinstallinstance" ADD CONSTRAINT "rhn_appinst_instance_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnappinstallinstance" ADD CONSTRAINT "rhn_appinst_instance_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnappinstallinstance" ADD CONSTRAINT "rhn_appinst_instance_vers_nn" CHECK ("version" is not null);
ALTER TABLE "rhnappinstallinstance" ADD CONSTRAINT "rhn_appinst_instance_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnappinstallinstance" ADD CONSTRAINT "rhn_appinst_instance_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnappinstallinstance" ADD CONSTRAINT "rhn_appinst_instance_mod_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_appinst_instance_id_idx ON "rhnappinstallinstance" ("id");
CREATE INDEX rhn_appinst_instance_lv_id_idx ON "rhnappinstallinstance" ("label","version","id");

CREATE TABLE "rhnregtokenchannels" (
	"token_id" float NOT NULL,
	"channel_id" float NOT NULL
);
ALTER TABLE "rhnregtokenchannels" ADD CONSTRAINT "rhn_reg_tok_chn_sg_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnregtokenchannels" ADD CONSTRAINT "rhn_reg_tok_chn_tid_nn" CHECK ("token_id" is not null);
CREATE UNIQUE INDEX rhn_reg_tok_chn_uq ON "rhnregtokenchannels" ("token_id","channel_id");

CREATE TABLE "rhnuserserverperms" (
	"user_id" float NOT NULL,
	"server_id" float NOT NULL
);
ALTER TABLE "rhnuserserverperms" ADD CONSTRAINT "rhn_usperms_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnuserserverperms" ADD CONSTRAINT "rhn_usperms_uid_nn" CHECK ("user_id" is not null);
CREATE UNIQUE INDEX rhn_usperms_uid_sid_uq ON "rhnuserserverperms" ("user_id","server_id");
CREATE INDEX rhn_usperms_sid_idx ON "rhnuserserverperms" ("server_id");

CREATE TABLE "rhnpackage" (
	"id" float NOT NULL,
	"org_id" float,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"package_arch_id" float NOT NULL,
	"package_group" float,
	"rpm_version" varchar(16),
	"description" varchar(4000),
	"summary" varchar(4000),
	"package_size" float NOT NULL,
	"payload_size" float,
	"build_host" varchar(256),
	"build_time" timestamp,
	"source_rpm_id" float,
	"md5sum" varchar(64) NOT NULL,
	"vendor" varchar(64) NOT NULL,
	"payload_format" varchar(32),
	"compat" float DEFAULT 0
                        ,
	"path" varchar(1000),
	"header_sig" varchar(64),
	"copyright" varchar(64),
	"cookie" varchar(128),
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"header_start" float DEFAULT -1
                        ,
	"header_end" float DEFAULT -1
                        
);
ALTER TABLE "rhnpackage" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_pkg_size_nn" CHECK ("package_size" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_he_nn" CHECK ("header_end" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_hs_nn" CHECK ("header_start" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_compat_check" CHECK (compat in (1,0));
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_md5_nn" CHECK ("md5sum" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_paid_nn" CHECK ("package_arch_id" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_vendor_nn" CHECK ("vendor" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_lm_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_package_md5_nid_eid_oid_uq ON "rhnpackage" ("md5sum","name_id","evr_id","org_id");
CREATE INDEX rhn_package_nid_id_idx ON "rhnpackage" ("name_id","id");
CREATE INDEX rhn_package_oid_id_idx ON "rhnpackage" ("org_id","id");
CREATE INDEX rhn_package_id_nid_paid_idx ON "rhnpackage" ("id","name_id","package_arch_id");
CREATE UNIQUE INDEX rhn_package_n_e_pa_o_uq ON "rhnpackage" ("name_id","evr_id","package_arch_id","org_id");

CREATE TABLE "wm$lockrows_info" (
	"workspace" varchar(30),
	"owner" varchar(30),
	"table_name" varchar(30),
	"where_clause" text
);
CREATE INDEX wm$lockrows_info_idx ON "wm$lockrows_info" ("workspace");

CREATE TABLE "state_change" (
	"o_id" varchar(64) NOT NULL,
	"entry_time" float NOT NULL,
	"data" varchar(4000)
);
ALTER TABLE "state_change" ADD CONSTRAINT "state_change_etime_nn" CHECK ("entry_time" is not null);
ALTER TABLE "state_change" ADD CONSTRAINT "state_change_o_id_nn" CHECK ("o_id" is not null);
CREATE INDEX state_change_oid_entry_idx ON "state_change" ("o_id","entry_time");

CREATE TABLE "rhnvirtualinstanceinfo" (
	"name" varchar(128),
	"instance_id" float NOT NULL,
	"instance_type" float NOT NULL,
	"memory_size_k" float,
	"vcpus" float,
	"state" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_it_nn" CHECK ("instance_type" is not null);
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_state_nn" CHECK ("state" is not null);
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_viid_nn" CHECK ("instance_id" is not null);
CREATE UNIQUE INDEX rhn_vii_viid_uq ON "rhnvirtualinstanceinfo" ("instance_id");

CREATE TABLE "rhnpathchannelmap" (
	"path" varchar(128) NOT NULL,
	"channel_id" float NOT NULL,
	"is_source" varchar(1),
	"created" timestamp DEFAULT CURRENT_TIMESTAMP,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP

);
ALTER TABLE "rhnpathchannelmap" ADD CONSTRAINT "rhn_path_channel_map_p_nn" CHECK ("path" is not null);
ALTER TABLE "rhnpathchannelmap" ADD CONSTRAINT "rhn_path_channel_map_cid_nn" CHECK ("channel_id" is not null);
CREATE UNIQUE INDEX rhn_path_channel_map_p_cid_uq ON "rhnpathchannelmap" ("path","channel_id");
CREATE INDEX rhn_path_channel_map_cid_p_idx ON "rhnpathchannelmap" ("channel_id","path");

CREATE TABLE "rhnsourcerpm" (
	"id" float NOT NULL,
	"name" varchar(128) NOT NULL
);
ALTER TABLE "rhnsourcerpm" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnsourcerpm" ADD CONSTRAINT "rhn_sourcerpm_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnsourcerpm" ADD CONSTRAINT "rhn_sourcerpm_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_srpm_name_uq ON "rhnsourcerpm" ("name");

CREATE TABLE "rhnproduct" (
	"id" float NOT NULL,
	"label" varchar(128) NOT NULL,
	"name" varchar(128) NOT NULL,
	"product_line_id" float NOT NULL,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_label_uq" UNIQUE ("label");
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_name_uq" UNIQUE ("name");
ALTER TABLE "rhnproduct" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_lm_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_cat_nn" CHECK ("product_line_id" is not null);
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_product_name_idx ON "rhnproduct" ("name");
CREATE INDEX rhn_product_id_idx ON "rhnproduct" ("id");
CREATE INDEX rhn_product_label_idx ON "rhnproduct" ("label");

CREATE TABLE "wm$batch_compressible_tables" (
	"workspace" varchar(30),
	"table_name" varchar(65),
	"begin_version" float,
	"end_version" float,
	"where_clause" varchar(4000)
);
CREATE INDEX wm$bct_idx ON "wm$batch_compressible_tables" ("workspace","table_name");

CREATE TABLE "rhnconfigrevision" (
	"id" float NOT NULL,
	"revision" float NOT NULL,
	"config_file_id" float NOT NULL,
	"config_content_id" float NOT NULL,
	"config_info_id" float NOT NULL,
	"delim_start" varchar(16) NOT NULL,
	"delim_end" varchar(16) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"config_file_type_id" float DEFAULT 1
                  ,
	"changed_by_id" float DEFAULT null
        
);
ALTER TABLE "rhnconfigrevision" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_conf_rev_cfti_nn" CHECK ("config_file_type_id" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_dstart_nn" CHECK ("delim_start" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_cfid_nn" CHECK ("config_file_id" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_rev_nn" CHECK ("revision" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_dend_nn" CHECK ("delim_end" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_ciid_nn" CHECK ("config_info_id" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_ccid_nn" CHECK ("config_content_id" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_confrevision_cfid_rev_uq ON "rhnconfigrevision" ("config_file_id","revision");

CREATE TABLE "rhntemplatecategory" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"description" varchar(512) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhntemplatecategory" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntemplatecategory" ADD CONSTRAINT "rhn_template_cat_label_uq" UNIQUE ("label");
ALTER TABLE "rhntemplatecategory" ADD CONSTRAINT "rhn_template_cat_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhntemplatecategory" ADD CONSTRAINT "rhn_template_cat_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhntemplatecategory" ADD CONSTRAINT "rhn_template_cat_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhntemplatecategory" ADD CONSTRAINT "rhn_template_cat_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhntemplatecategory" ADD CONSTRAINT "rhn_template_cat_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_template_cat_id_idx ON "rhntemplatecategory" ("id");
CREATE INDEX rhn_template_cat_label_id_idx ON "rhntemplatecategory" ("label","id");

CREATE TABLE "rhn_redirect_group_targets" (
	"redirect_id" bigint NOT NULL,
	"contact_group_id" bigint NOT NULL
);
ALTER TABLE "rhn_redirect_group_targets" ADD PRIMARY KEY ("redirect_id","contact_group_id");
ALTER TABLE "rhn_redirect_group_targets" ADD CONSTRAINT "rhn_rdrgt_redirect_id_nn" CHECK ("redirect_id" is not null);
ALTER TABLE "rhn_redirect_group_targets" ADD CONSTRAINT "rhn_rdrgt_group_id_nn" CHECK ("contact_group_id" is not null);
CREATE INDEX rhn_rdrgt_redirect_id_idx ON "rhn_redirect_group_targets" ("redirect_id");

CREATE TABLE "rhnchannelerrata" (
	"channel_id" float NOT NULL,
	"errata_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelerrata" ADD CONSTRAINT "rhn_ce_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelerrata" ADD CONSTRAINT "rhn_ce_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnchannelerrata" ADD CONSTRAINT "rhn_ce_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelerrata" ADD CONSTRAINT "rhn_ce_eid_nn" CHECK ("errata_id" is not null);
CREATE INDEX rhn_ce_eid_cid_idx ON "rhnchannelerrata" ("errata_id","channel_id");
CREATE UNIQUE INDEX rhn_ce_ce_uq ON "rhnchannelerrata" ("channel_id","errata_id");

CREATE TABLE "db_change_script_parsed" (
	"bug_id" bigint NOT NULL,
	"seq_no" bigint NOT NULL,
	"stmt_no" bigint NOT NULL,
	"line_no" bigint NOT NULL,
	"line" varchar(1000) NOT NULL
);
ALTER TABLE "db_change_script_parsed" ADD CONSTRAINT "db_csp_lno_nn" CHECK ("line_no" is not null);
ALTER TABLE "db_change_script_parsed" ADD CONSTRAINT "db_csp_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_script_parsed" ADD CONSTRAINT "db_csp_sno_nn" CHECK ("seq_no" is not null);
ALTER TABLE "db_change_script_parsed" ADD CONSTRAINT "db_csp_line_nn" CHECK ("line" is not null);
ALTER TABLE "db_change_script_parsed" ADD CONSTRAINT "db_csp_stno_nn" CHECK ("stmt_no" is not null);

CREATE TABLE "aq$_wm$event_queue_table_s" (
	"subscriber_id" float NOT NULL,
	"queue_name" varchar(30) NOT NULL,
	"name" varchar(30),
	"address" varchar(1024),
	"protocol" float,
	"subscriber_type" float,
	"rule_name" varchar(30),
	"trans_name" varchar(61),
	"ruleset_name" varchar(65),
	"negative_ruleset_name" varchar(65)
);
ALTER TABLE "aq$_wm$event_queue_table_s" ADD PRIMARY KEY ("subscriber_id");

CREATE TABLE "rhnactionvirtschedulepoller" (
	"action_id" float NOT NULL,
	"minute" float,
	"hour" float,
	"dom" float,
	"month" float,
	"dow" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtschedulepoller" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtschedulepoller" ADD CONSTRAINT "rhn_avsp_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtschedulepoller" ADD CONSTRAINT "rhn_avsp_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtschedulepoller" ADD CONSTRAINT "rhn_avsp_creat_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_avsp_aid_uq ON "rhnactionvirtschedulepoller" ("action_id");

CREATE TABLE "rhnactionvirtsetmemory" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"memory" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtsetmemory" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtsetmemory" ADD CONSTRAINT "rhn_avsm_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtsetmemory" ADD CONSTRAINT "rhn_avsm_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtsetmemory" ADD CONSTRAINT "rhn_avsm_uuid_nn" CHECK ("uuid" is not null);
ALTER TABLE "rhnactionvirtsetmemory" ADD CONSTRAINT "rhn_avsm_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionvirtsetmemory" ADD CONSTRAINT "rhn_avsm_mem_nn" CHECK ("memory" is not null);
CREATE UNIQUE INDEX rhn_avsm_aid_uq ON "rhnactionvirtsetmemory" ("action_id");

CREATE TABLE "rhnactionerrataupdate" (
	"action_id" float NOT NULL,
	"errata_id" float NOT NULL
);
ALTER TABLE "rhnactionerrataupdate" ADD CONSTRAINT "rhn_act_eu_err_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnactionerrataupdate" ADD CONSTRAINT "rhn_act_eu_act_nn" CHECK ("action_id" is not null);
CREATE INDEX rhn_act_eu_eid_aid_idx ON "rhnactionerrataupdate" ("errata_id","action_id");
CREATE INDEX rhn_act_eu_aid_eid_idx ON "rhnactionerrataupdate" ("action_id","errata_id");

CREATE TABLE "rhnorgchannelsettings" (
	"org_id" float NOT NULL,
	"channel_id" float NOT NULL,
	"setting_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_sid_nn" CHECK ("setting_id" is not null);
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_orgcsettings_oid_cid_uq ON "rhnorgchannelsettings" ("org_id","channel_id","setting_id");

CREATE TABLE "rhnserveruuid" (
	"server_id" float NOT NULL,
	"uuid" varchar(36) NOT NULL
);
ALTER TABLE "rhnserveruuid" ADD CONSTRAINT "rhn_server_uuid_uuid_nn" CHECK ("uuid" is not null);
ALTER TABLE "rhnserveruuid" ADD CONSTRAINT "rhn_server_uuid_sid_nn" CHECK ("server_id" is not null);
CREATE UNIQUE INDEX rhn_server_uuid_sid_unq ON "rhnserveruuid" ("server_id");
CREATE UNIQUE INDEX rhn_serveruuid_uuid_sid_unq ON "rhnserveruuid" ("uuid","server_id");

CREATE TABLE "wm$adt_func_table" (
	"func_name" varchar(30),
	"type_name" varchar(68) NOT NULL,
	"ref_count" float
);
ALTER TABLE "wm$adt_func_table" ADD PRIMARY KEY ("type_name");

CREATE TABLE "db_change_lock" (
	"locked" char(1) NOT NULL,
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"owner" varchar(255) NOT NULL,
	"lock_date" timestamp NOT NULL
);
ALTER TABLE "db_change_lock" ADD CONSTRAINT "dc_lock_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_lock" ADD CONSTRAINT "dc_lock_locked_nn" CHECK ("locked" is not null);
ALTER TABLE "db_change_lock" ADD CONSTRAINT "dc_lock_owner_nn" CHECK ("owner" is not null);
ALTER TABLE "db_change_lock" ADD CONSTRAINT "dc_lock_ld_nn" CHECK ("lock_date" is not null);
ALTER TABLE "db_change_lock" ADD CONSTRAINT "dc_lock_sn_nn" CHECK ("seq_no" is not null);
CREATE UNIQUE INDEX dc_lock_locked_uq ON "db_change_lock" ("locked");

CREATE TABLE "rhn_command_queue_execs_bk" (
	"instance_id" bigint NOT NULL,
	"netsaint_id" bigint NOT NULL,
	"date_accepted" timestamp,
	"date_executed" timestamp,
	"exit_status" integer,
	"execution_time" integer,
	"stdout" varchar(4000),
	"stderr" varchar(4000),
	"last_update_date" timestamp,
	"target_type" varchar(10) NOT NULL
);
ALTER TABLE "rhn_command_queue_execs_bk" ADD CONSTRAINT "rhn_cqcmdbk_target_type_nn" CHECK ("target_type" is not null);
ALTER TABLE "rhn_command_queue_execs_bk" ADD CONSTRAINT "rhn_cqcmdbk_instance_id_nn" CHECK ("instance_id" is not null);
ALTER TABLE "rhn_command_queue_execs_bk" ADD CONSTRAINT "rhn_cqcmdbk_netsaint_id_nn" CHECK ("netsaint_id" is not null);

CREATE TABLE "rhnpackagesense" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL
);
ALTER TABLE "rhnpackagesense" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagesense" ADD CONSTRAINT "rhn_pkg_sense_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnpackagesense" ADD CONSTRAINT "rhn_pkg_sense_id_nn" CHECK ("id" is not null);
CREATE UNIQUE INDEX rhn_pkg_sense_label_uq ON "rhnpackagesense" ("label");

CREATE TABLE "rhn_redirect_email_targets" (
	"redirect_id" bigint NOT NULL,
	"email_address" varchar(255) NOT NULL
);
ALTER TABLE "rhn_redirect_email_targets" ADD PRIMARY KEY ("redirect_id","email_address");
ALTER TABLE "rhn_redirect_email_targets" ADD CONSTRAINT "rhn_rdret_redirect_id_nn" CHECK ("redirect_id" is not null);
ALTER TABLE "rhn_redirect_email_targets" ADD CONSTRAINT "rhn_rdret_email_addr_nn" CHECK ("email_address" is not null);
CREATE INDEX rhn_rdret_redirect_id_idx ON "rhn_redirect_email_targets" ("redirect_id");

CREATE TABLE "rhndaemonstate" (
	"label" varchar(64) NOT NULL,
	"last_poll" timestamp NOT NULL
);
ALTER TABLE "rhndaemonstate" ADD PRIMARY KEY ("label");
ALTER TABLE "rhndaemonstate" ADD CONSTRAINT "rhn_daemonstate_lp_nn" CHECK ("last_poll" is not null);
ALTER TABLE "rhndaemonstate" ADD CONSTRAINT "rhn_daemonstate_label_nn" CHECK ("label" is not null);

CREATE TABLE "rhn_schedule_weeks" (
	"recid" float NOT NULL,
	"schedule_id" bigint NOT NULL,
	"component_schedule_id" bigint,
	"ord" smallint,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_schedule_weeks" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_schedule_weeks" ADD CONSTRAINT "rhn_schwk_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_schedule_weeks" ADD CONSTRAINT "rhn_schwk_sched_id_nn" CHECK ("schedule_id" is not null);
ALTER TABLE "rhn_schedule_weeks" ADD CONSTRAINT "rhn_schwk_recid_ck" CHECK (recid > 0);
CREATE INDEX rhn_schwk_schedule_id_idx ON "rhn_schedule_weeks" ("schedule_id");
CREATE INDEX rhn_schwk_comp_sched_id_idx ON "rhn_schedule_weeks" ("component_schedule_id");

CREATE TABLE "rhn_command" (
	"recid" float NOT NULL,
	"name" varchar(40) NOT NULL,
	"description" varchar(80) NOT NULL,
	"group_name" varchar(40),
	"allowed_in_suite" char(1) DEFAULT '1'
        ,
	"command_class" varchar(255) DEFAULT '/home/nocpulse/libexec/plugin'
        ,
	"enabled" char(1) DEFAULT '1'
        ,
	"for_host_probe" char(1) DEFAULT '0'
        ,
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"system_requirements" varchar(40),
	"version_support" varchar(1024),
	"help_url" varchar(1024)
);
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_name_uq" UNIQUE ("recid","command_class");
ALTER TABLE "rhn_command" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_allowed_nn" CHECK ("allowed_in_suite" is not null);
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_enabled_nn" CHECK ("enabled" is not null);
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_class_nn" CHECK ("command_class" is not null);
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_host_probe_nn" CHECK ("for_host_probe" is not null);
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_desc_nn" CHECK ("description" is not null);
CREATE UNIQUE INDEX rhn_cmmnd_recid_comm_cl_uq ON "rhn_command" ("recid","command_class");

CREATE TABLE "rhnsolarispatchset" (
	"package_id" float NOT NULL,
	"readme" bytea,
	"set_date" timestamp DEFAULT (CURRENT_TIMESTAMP)
                     ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                     ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                     
);
ALTER TABLE "rhnsolarispatchset" ADD PRIMARY KEY ("package_id");
ALTER TABLE "rhnsolarispatchset" ADD CONSTRAINT "rhn_solaris_ps_sd_nn" CHECK ("set_date" is not null);
ALTER TABLE "rhnsolarispatchset" ADD CONSTRAINT "rhn_solaris_ps_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsolarispatchset" ADD CONSTRAINT "rhn_solaris_ps_created_nn" CHECK ("created" is not null);

CREATE TABLE "rhnmonitor" (
	"batch_id" float NOT NULL,
	"server_id" float NOT NULL,
	"probe_id" float NOT NULL,
	"component" varchar(128),
	"field" varchar(128),
	"timestamp" timestamp NOT NULL,
	"granularity" float NOT NULL,
	"value" varchar(4000)
);
ALTER TABLE "rhnmonitor" ADD CONSTRAINT "rhn_monitor_granularity_nn" CHECK ("granularity" is not null);
ALTER TABLE "rhnmonitor" ADD CONSTRAINT "rhn_monitor_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnmonitor" ADD CONSTRAINT "rhn_monitor_probe_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhnmonitor" ADD CONSTRAINT "rhn_monitor_bid_nn" CHECK ("batch_id" is not null);
ALTER TABLE "rhnmonitor" ADD CONSTRAINT "rhn_monitor_ts_nn" CHECK ("timestamp" is not null);
CREATE INDEX rhn_monitor_bid_idx ON "rhnmonitor" ("batch_id");
CREATE UNIQUE INDEX rhn_monitor_idx ON "rhnmonitor" ("server_id","probe_id","granularity","timestamp","component","field");

CREATE TABLE "rhnregtokenpackages" (
	"token_id" float NOT NULL,
	"name_id" float NOT NULL
);
ALTER TABLE "rhnregtokenpackages" ADD CONSTRAINT "rhn_reg_tok_pkg_sg_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnregtokenpackages" ADD CONSTRAINT "rhn_reg_tok_pkg_tid_nn" CHECK ("token_id" is not null);
CREATE UNIQUE INDEX rhn_reg_tok_pkg_uq ON "rhnregtokenpackages" ("token_id","name_id");
CREATE INDEX rhn_reg_tok_pkg_nid_idx ON "rhnregtokenpackages" ("name_id");

CREATE TABLE "rhn_os" (
	"recid" float NOT NULL,
	"os_name" varchar(128)
);
ALTER TABLE "rhn_os" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_os" ADD CONSTRAINT "rhn_os000_recid_nn" CHECK ("recid" is not null);

CREATE TABLE "rhnpackagecapability" (
	"id" float NOT NULL,
	"name" varchar(256) NOT NULL,
	"version" varchar(64),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagecapability" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagecapability" ADD CONSTRAINT "rhn_pkg_capability_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnpackagecapability" ADD CONSTRAINT "rhn_pkg_capability_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackagecapability" ADD CONSTRAINT "rhn_pkg_capability_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagecapability" ADD CONSTRAINT "rhn_pkg_capability_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_pkg_cap_name_version_uq ON "rhnpackagecapability" ("name","version");

CREATE TABLE "rhnusermessagestatus" (
	"id" float NOT NULL,
	"label" varchar(48) NOT NULL
);
ALTER TABLE "rhnusermessagestatus" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnusermessagestatus" ADD CONSTRAINT "rhn_um_status_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnusermessagestatus" ADD CONSTRAINT "rhn_um_status_label_nn" CHECK ("label" is not null);
CREATE UNIQUE INDEX rhn_um_status_label_uq ON "rhnusermessagestatus" ("label");
CREATE INDEX rhn_um_status_label_id_idx ON "rhnusermessagestatus" ("label","id");

CREATE TABLE "web_customer_notification" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"contact_email_address" varchar(150) NOT NULL,
	"creation_date" timestamp NOT NULL
);
ALTER TABLE "web_customer_notification" ADD PRIMARY KEY ("id");
ALTER TABLE "web_customer_notification" ADD CONSTRAINT "web_cust_not_id_nn" CHECK ("id" is not null);
ALTER TABLE "web_customer_notification" ADD CONSTRAINT "web_cust_not_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "web_customer_notification" ADD CONSTRAINT "web_cust_not_creat_nn" CHECK ("creation_date" is not null);
ALTER TABLE "web_customer_notification" ADD CONSTRAINT "web_cust_not_ea_nn" CHECK ("contact_email_address" is not null);

CREATE TABLE "rhnserverlock" (
	"server_id" float NOT NULL,
	"locker_id" float,
	"reason" varchar(4000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnserverlock" ADD CONSTRAINT "rhn_server_lock_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnserverlock" ADD CONSTRAINT "rhn_server_lock_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_server_lock_lid_unq ON "rhnserverlock" ("locker_id");
CREATE UNIQUE INDEX rhn_server_lock_sid_unq ON "rhnserverlock" ("server_id");

CREATE TABLE "rhnerratafile" (
	"id" float NOT NULL,
	"errata_id" float NOT NULL,
	"type" float NOT NULL,
	"md5sum" varchar(64) NOT NULL,
	"filename" varchar(1024) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_eid_file_uq" UNIQUE ("errata_id","filename");
ALTER TABLE "rhnerratafile" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_type_nn" CHECK ("type" is not null);
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_name_nn" CHECK ("filename" is not null);
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_errata_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_md5_nn" CHECK ("md5sum" is not null);
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_erratafile_eid_file_idx ON "rhnerratafile" ("errata_id","filename");
CREATE INDEX rhn_erratafile_id_idx ON "rhnerratafile" ("id");

CREATE TABLE "rhncryptokeytype" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"description" varchar(256) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhncryptokeytype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhncryptokeytype" ADD CONSTRAINT "rhn_cryptokeytype_label_uq" UNIQUE ("label");
ALTER TABLE "rhncryptokeytype" ADD CONSTRAINT "rhn_cryptokeytype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhncryptokeytype" ADD CONSTRAINT "rhn_cryptokeytype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhncryptokeytype" ADD CONSTRAINT "rhn_cryptokeytype_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhncryptokeytype" ADD CONSTRAINT "rhn_cryptokeytype_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhncryptokeytype" ADD CONSTRAINT "rhn_cryptokeytype_desc_nn" CHECK ("description" is not null);
CREATE INDEX rhn_cryptokeytype_label_id_idx ON "rhncryptokeytype" ("label","id");

CREATE TABLE "rhn_redirects" (
	"recid" float NOT NULL,
	"customer_id" bigint,
	"contact_id" bigint,
	"redirect_type" varchar(20) NOT NULL,
	"description" varchar(25),
	"reason" varchar(2000),
	"expiration" timestamp NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"start_date" timestamp NOT NULL,
	"recurring" bigint DEFAULT 0
        ,
	"recurring_frequency" bigint DEFAULT 2
         ,
	"recurring_duration" bigint DEFAULT 0,
	"recurring_dur_type" bigint DEFAULT 12
           
);
ALTER TABLE "rhn_redirects" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_rec_dtype_valid" CHECK ( recurring_dur_type in (12,11,5,3,1) );
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_recur_freq_valid" CHECK (recurring_frequency in (2,3,6));
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_expiration_nn" CHECK ("expiration" is not null);
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_start_lte_expir" CHECK (start_date <= expiration );
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_recur_valid" CHECK (recurring in (0, 1));
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_recurring_nn" CHECK ("recurring" is not null);
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_redirect_type_nn" CHECK ("redirect_type" is not null);
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_start_date_nn" CHECK ("start_date" is not null);
CREATE INDEX rhn_rdrct_redirect_type_idx ON "rhn_redirects" ("redirect_type");
CREATE INDEX rhn_rdrct_customer_id_idx ON "rhn_redirects" ("customer_id");
CREATE INDEX rhn_rdrct_cid_idx ON "rhn_redirects" ("contact_id");

CREATE TABLE "rhntransactionelement" (
	"transaction_id" float NOT NULL,
	"transaction_package_id" float NOT NULL
);
ALTER TABLE "rhntransactionelement" ADD CONSTRAINT "rhn_transelem_tid_nn" CHECK ("transaction_id" is not null);
ALTER TABLE "rhntransactionelement" ADD CONSTRAINT "rhn_transelem_tpid_nn" CHECK ("transaction_package_id" is not null);
CREATE UNIQUE INDEX rhn_transelem_tid_tpid_uq ON "rhntransactionelement" ("transaction_id","transaction_package_id");

CREATE TABLE "rhnpackagedeltaelement" (
	"package_delta_id" float NOT NULL,
	"transaction_package_id" float NOT NULL
);
ALTER TABLE "rhnpackagedeltaelement" ADD CONSTRAINT "rhn_pdelement_pdid_nn" CHECK ("package_delta_id" is not null);
ALTER TABLE "rhnpackagedeltaelement" ADD CONSTRAINT "rhn_pdelement_tpid_nn" CHECK ("transaction_package_id" is not null);
CREATE UNIQUE INDEX rhn_pdelement_pdid_tpid_uq ON "rhnpackagedeltaelement" ("package_delta_id","transaction_package_id");

CREATE TABLE "rhn_command_class" (
	"class_name" varchar(40) NOT NULL
);
ALTER TABLE "rhn_command_class" ADD PRIMARY KEY ("class_name");
ALTER TABLE "rhn_command_class" ADD CONSTRAINT "rhn_comcl_class_name_nn" CHECK ("class_name" is not null);

CREATE TABLE "rhnactionvirtdestroy" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtdestroy" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtdestroy" ADD CONSTRAINT "rhn_avd_uuid_nn" CHECK ("uuid" is not null);
ALTER TABLE "rhnactionvirtdestroy" ADD CONSTRAINT "rhn_avd_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtdestroy" ADD CONSTRAINT "rhn_avd_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtdestroy" ADD CONSTRAINT "rhn_avd_creat_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_avd_aid_uq ON "rhnactionvirtdestroy" ("action_id");

CREATE TABLE "rhn_ll_netsaint" (
	"netsaint_id" float NOT NULL,
	"city" varchar(255)
);
ALTER TABLE "rhn_ll_netsaint" ADD CONSTRAINT "rhn_llnet_netsaint_id_nn" CHECK ("netsaint_id" is not null);
CREATE INDEX rhn_ll_ntsnts_nsid_idx ON "rhn_ll_netsaint" ("netsaint_id");

CREATE TABLE "rhnerratacloned" (
	"original_id" float NOT NULL,
	"id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnerratacloned" ADD CONSTRAINT "rhn_errataclone_feid_teid_uq" UNIQUE ("original_id","id");
ALTER TABLE "rhnerratacloned" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerratacloned" ADD CONSTRAINT "rhn_errataclone_teid_nn" CHECK ("id" is not null);
ALTER TABLE "rhnerratacloned" ADD CONSTRAINT "rhn_errataclone_feid_nn" CHECK ("original_id" is not null);
ALTER TABLE "rhnerratacloned" ADD CONSTRAINT "rhn_errataclone_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratacloned" ADD CONSTRAINT "rhn_errataclone_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_errataclone_teid_feid_idx ON "rhnerratacloned" ("id","original_id");
CREATE INDEX rhn_errataclone_feid_teid_idx ON "rhnerratacloned" ("original_id","id");

CREATE TABLE "db_change_history_output" (
	"bug_id" float NOT NULL,
	"seq_no" float NOT NULL,
	"line_no" float NOT NULL,
	"line" varchar(1000) NOT NULL
);
ALTER TABLE "db_change_history_output" ADD CONSTRAINT "dc_historyoutput_sn_nn" CHECK ("seq_no" is not null);
ALTER TABLE "db_change_history_output" ADD CONSTRAINT "dc_historyoutput_ln_nn" CHECK ("line_no" is not null);
ALTER TABLE "db_change_history_output" ADD CONSTRAINT "dc_historyoutput_bid_nn" CHECK ("bug_id" is not null);
ALTER TABLE "db_change_history_output" ADD CONSTRAINT "dc_historyoutput_l_nn" CHECK ("line" is not null);
CREATE INDEX dc_historyoutput_bid_sn_idx ON "db_change_history_output" ("bug_id","seq_no");

CREATE TABLE "rhnactionkickstartguest" (
	"id" float NOT NULL,
	"action_id" float NOT NULL,
	"append_string" varchar(1024),
	"ks_session_id" float,
	"kstree_id" float NOT NULL,
	"guest_name" varchar(256),
	"mem_kb" float,
	"vcpus" float,
	"disk_gb" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionkickstartguest" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_kstid_nn" CHECK ("kstree_id" is not null);
CREATE INDEX rhn_actionks_xenguest_id_idx ON "rhnactionkickstartguest" ("id");
CREATE UNIQUE INDEX rhn_actionks_xenguest_aid_uq ON "rhnactionkickstartguest" ("action_id");

CREATE TABLE "rhnservernetwork" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"hostname" varchar(128),
	"ipaddr" char(16),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnservernetwork" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnservernetwork" ADD CONSTRAINT "rhn_servernetwork_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservernetwork" ADD CONSTRAINT "rhn_servernetwork_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnservernetwork" ADD CONSTRAINT "rhn_servernetwork_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservernetwork" ADD CONSTRAINT "rhn_servernetwork_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_servernetwork_sid_id_idx ON "rhnservernetwork" ("server_id","id");

CREATE TABLE "rhnsolarispackage" (
	"package_id" float NOT NULL,
	"category" varchar(2048) NOT NULL,
	"pkginfo" varchar(4000),
	"pkgmap" bytea,
	"intonly" char(1) DEFAULT 'N'
                           
);
ALTER TABLE "rhnsolarispackage" ADD PRIMARY KEY ("package_id");
ALTER TABLE "rhnsolarispackage" ADD CONSTRAINT "rhn_solaris_pkg_cat_nn" CHECK ("category" is not null);
ALTER TABLE "rhnsolarispackage" ADD CONSTRAINT "rhn_solaris_pkg_io_ck" CHECK ( intonly in ('Y','N'));

CREATE TABLE "rhnerratafilepackagesource" (
	"package_id" float NOT NULL,
	"errata_file_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratafilepackagesource" ADD CONSTRAINT "rhn_efileps_efid_uq" UNIQUE ("errata_file_id");
ALTER TABLE "rhnerratafilepackagesource" ADD CONSTRAINT "rhn_efileps_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnerratafilepackagesource" ADD CONSTRAINT "rhn_efileps_fileid_nn" CHECK ("errata_file_id" is not null);
ALTER TABLE "rhnerratafilepackagesource" ADD CONSTRAINT "rhn_efileps_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratafilepackagesource" ADD CONSTRAINT "rhn_efileps_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_efileps_efid_pid_idx ON "rhnerratafilepackagesource" ("errata_file_id","package_id");

CREATE TABLE "rhnmonitorgranularity" (
	"id" float NOT NULL,
	"label" varchar(16) NOT NULL
);
ALTER TABLE "rhnmonitorgranularity" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnmonitorgranularity" ADD CONSTRAINT "rhn_monitorgran_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnmonitorgranularity" ADD CONSTRAINT "rhn_monitorgran_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_monitorgran_label_id_idx ON "rhnmonitorgranularity" ("label","id");
CREATE UNIQUE INDEX rhn_monitorgran_label_uq ON "rhnmonitorgranularity" ("label");

CREATE TABLE "rhn_notification_formats" (
	"recid" float NOT NULL,
	"customer_id" bigint,
	"description" varchar(255) NOT NULL,
	"subject_format" varchar(4000),
	"body_format" varchar(4000) NOT NULL,
	"max_subject_length" bigint,
	"max_body_length" bigint DEFAULT 1920
        ,
	"reply_format" varchar(4000)
);
ALTER TABLE "rhn_notification_formats" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_notification_formats" ADD CONSTRAINT "rhn_ntfmt_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhn_notification_formats" ADD CONSTRAINT "rhn_ntfmt_body_fmt_nn" CHECK ("body_format" is not null);
ALTER TABLE "rhn_notification_formats" ADD CONSTRAINT "rhn_ntfmt_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_notification_formats" ADD CONSTRAINT "rhn_ntfmt_max_body_nn" CHECK ("max_body_length" is not null);
CREATE INDEX rhn_ntfmt_customer_idx ON "rhn_notification_formats" ("customer_id");

CREATE TABLE "wm$vt_errors_table" (
	"owner" varchar(30) NOT NULL,
	"table_name" varchar(30) NOT NULL,
	"index_type" float,
	"index_field" float,
	"status" varchar(100),
	"error_msg" varchar(200)
);
ALTER TABLE "wm$vt_errors_table" ADD PRIMARY KEY ("owner","table_name");

CREATE TABLE "wm$events_info" (
	"event_name" varchar(30) NOT NULL,
	"capture" varchar(10)
);
ALTER TABLE "wm$events_info" ADD PRIMARY KEY ("event_name");

CREATE TABLE "rhn_config_security_type" (
	"name" varchar(255) NOT NULL,
	"description" varchar(255)
);
ALTER TABLE "rhn_config_security_type" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_config_security_type" ADD CONSTRAINT "rhn_conct_name_nn" CHECK ("name" is not null);

CREATE TABLE "rhnchannelpermission" (
	"channel_id" float NOT NULL,
	"user_id" float NOT NULL,
	"role_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_uid_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_rid_nn" CHECK ("role_id" is not null);
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_cperm_cid_uid_rid_idx ON "rhnchannelpermission" ("channel_id","user_id","role_id");

CREATE TABLE "rhnerrata" (
	"id" float NOT NULL,
	"advisory" varchar(32) NOT NULL,
	"advisory_type" varchar(32) NOT NULL,
	"advisory_name" varchar(32) NOT NULL,
	"advisory_rel" float NOT NULL,
	"product" varchar(64) NOT NULL,
	"description" varchar(4000),
	"synopsis" varchar(4000) NOT NULL,
	"topic" varchar(4000),
	"solution" varchar(4000) NOT NULL,
	"issue_date" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"update_date" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"refers_to" varchar(4000),
	"notes" varchar(4000),
	"org_id" float,
	"locally_modified" char(1),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                  ,
	"severity_id" float
);
ALTER TABLE "rhnerrata" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_update_nn" CHECK ("update_date" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_adv_type_ck" CHECK (advisory_type in ('Bug Fix Advisory',
				                            'Product Enhancement Advisory',
							    'Security Advisory'));
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_advisory_nn" CHECK ("advisory" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_adv_type_nn" CHECK ("advisory_type" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_product_nn" CHECK ("product" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_synopsis_nn" CHECK ("synopsis" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_last_mod_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_issue_nn" CHECK ("issue_date" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_lm_ck" CHECK (locally_modified in ('Y','N'));
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_advisory_name_nn" CHECK ("advisory_name" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_solution_nn" CHECK ("solution" is not null);
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_advisory_rel_nn" CHECK ("advisory_rel" is not null);
CREATE UNIQUE INDEX rhn_errata_advisory_uq ON "rhnerrata" ("advisory");
CREATE UNIQUE INDEX rhn_errata_advisory_name_uq ON "rhnerrata" ("advisory_name");

CREATE TABLE "rhnpackagefile" (
	"package_id" float NOT NULL,
	"capability_id" float NOT NULL,
	"device" float NOT NULL,
	"inode" float NOT NULL,
	"file_mode" float NOT NULL,
	"username" varchar(32) NOT NULL,
	"groupname" varchar(32) NOT NULL,
	"rdev" float NOT NULL,
	"file_size" float NOT NULL,
	"mtime" timestamp NOT NULL,
	"md5" varchar(32),
	"linkto" varchar(256),
	"flags" float NOT NULL,
	"verifyflags" float NOT NULL,
	"lang" varchar(32),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_devices_nn" CHECK ("device" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_groupname_nn" CHECK ("groupname" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_size_nn" CHECK ("file_size" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_verify_nn" CHECK ("verifyflags" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_cid_nn" CHECK ("capability_id" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_mtime_nn" CHECK ("mtime" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_dev_nn" CHECK ("rdev" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_inode_nn" CHECK ("inode" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_username_nn" CHECK ("username" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_flags_nn" CHECK ("flags" is not null);
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_mode_nn" CHECK ("file_mode" is not null);
CREATE UNIQUE INDEX rhn_package_file_pid_cid_uq ON "rhnpackagefile" ("package_id","capability_id");
CREATE INDEX rhn_package_file_cid_pid_idx ON "rhnpackagefile" ("capability_id","package_id");

CREATE TABLE "rhnpackagefiledeletequeue" (
	"path" varchar(1000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnpackagefiledeletequeue" ADD CONSTRAINT "rhn_pfdqueue_path_uq" UNIQUE ("path");
ALTER TABLE "rhnpackagefiledeletequeue" ADD CONSTRAINT "rhn_pfdqueue_created_nn" CHECK ("created" is not null);

CREATE TABLE "rhn_sat_cluster_probe" (
	"probe_id" bigint NOT NULL,
	"probe_type" varchar(12) DEFAULT 'satcluster'
        ,
	"sat_cluster_id" bigint NOT NULL
);
ALTER TABLE "rhn_sat_cluster_probe" ADD PRIMARY KEY ("probe_id");
ALTER TABLE "rhn_sat_cluster_probe" ADD CONSTRAINT "rhn_sclpb_probe_type_ck" CHECK (probe_type='satcluster');
ALTER TABLE "rhn_sat_cluster_probe" ADD CONSTRAINT "rhn_sclpb_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_sat_cluster_probe" ADD CONSTRAINT "rhn_sclpb_sat_cluster_id_nn" CHECK ("sat_cluster_id" is not null);
ALTER TABLE "rhn_sat_cluster_probe" ADD CONSTRAINT "rhn_sclpb_probe_type_nn" CHECK ("probe_type" is not null);
CREATE INDEX rhn_sclpb_pid_ptype_idx ON "rhn_sat_cluster_probe" ("probe_id","probe_type");
CREATE INDEX rhn_sclpb_sat_cluster_id_idx ON "rhn_sat_cluster_probe" ("sat_cluster_id");

CREATE TABLE "rhnemailaddress" (
	"id" float NOT NULL,
	"address" varchar(128) NOT NULL,
	"user_id" float NOT NULL,
	"state_id" float NOT NULL,
	"next_action" timestamp,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnemailaddress" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_uid_sid_uq" UNIQUE ("user_id","state_id");
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_a_nn" CHECK ("address" is not null);
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_uid_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_sid_nn" CHECK ("state_id" is not null);
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_eaddress_id_idx ON "rhnemailaddress" ("id");
CREATE INDEX rhn_eaddress_niusa_idx ON "rhnemailaddress" ("next_action","id","user_id","state_id","address");
CREATE INDEX rhn_eaddress_uid_sid_addr_idx ON "rhnemailaddress" ("user_id","state_id","address");

CREATE TABLE "rhnchannelfamily" (
	"id" float NOT NULL,
	"org_id" float,
	"name" varchar(128) NOT NULL,
	"label" varchar(128) NOT NULL,
	"product_url" varchar(128) DEFAULT 'http://www.redhat.com/products/'
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelfamily" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnchannelfamily" ADD CONSTRAINT "rhn_channel_family_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnchannelfamily" ADD CONSTRAINT "rhn_channel_family_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnchannelfamily" ADD CONSTRAINT "rhn_channel_family_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnchannelfamily" ADD CONSTRAINT "rhn_channel_family_url_nn" CHECK ("product_url" is not null);
ALTER TABLE "rhnchannelfamily" ADD CONSTRAINT "rhn_channel_family_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnchannelfamily" ADD CONSTRAINT "rhn_channel_family_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_channel_family_label_uq ON "rhnchannelfamily" ("label");
CREATE UNIQUE INDEX rhn_channel_family_name_uq ON "rhnchannelfamily" ("name");

CREATE TABLE "web_contact" (
	"id" float NOT NULL,
	"org_id" float NOT NULL,
	"login" varchar(64) NOT NULL,
	"login_uc" varchar(64) NOT NULL,
	"password" varchar(38) NOT NULL,
	"old_password" varchar(38),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"oracle_contact_id" float,
	"ignore_flag" char(1) DEFAULT ('N')
			
);
ALTER TABLE "web_contact" ADD PRIMARY KEY ("id");
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_login_uc_unq" UNIQUE ("login_uc");
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_ocid_unq" UNIQUE ("oracle_contact_id");
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_ignore_ck" CHECK (ignore_flag in ('N','Y'));
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_ignore_nn" CHECK ("ignore_flag" is not null);
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_created_nn" CHECK ("created" is not null);
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_org_nn" CHECK ("org_id" is not null);
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_login_uc_nn" CHECK ("login_uc" is not null);
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_login_nn" CHECK ("login" is not null);
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_password_nn" CHECK ("password" is not null);
CREATE INDEX web_contact_oid_id ON "web_contact" ("org_id","id");
CREATE INDEX web_contact_id_oid_cust_luc ON "web_contact" ("id","oracle_contact_id","org_id","login_uc");

CREATE TABLE "rhnkickstartabletree" (
	"id" float NOT NULL,
	"org_id" float,
	"label" varchar(64) NOT NULL,
	"base_path" varchar(256) NOT NULL,
	"channel_id" float NOT NULL,
	"boot_image" varchar(128),
	"kstree_type" float NOT NULL,
	"install_type" float NOT NULL,
	"last_modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnkickstartabletree" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_kstreetype_nn" CHECK ("kstree_type" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_lastmod_nn" CHECK ("last_modified" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_it_nn" CHECK ("install_type" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_bp_nn" CHECK ("base_path" is not null);
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_modified_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_kstree_oid_label_uq ON "rhnkickstartabletree" ("org_id","label");

CREATE TABLE "rhnservernetinterface" (
	"server_id" float NOT NULL,
	"name" varchar(32) NOT NULL,
	"ip_addr" varchar(64),
	"netmask" varchar(64),
	"broadcast" varchar(64),
	"hw_addr" varchar(18),
	"module" varchar(128),
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
			,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
			
);
ALTER TABLE "rhnservernetinterface" ADD CONSTRAINT "rhn_srv_net_iface_sid_name_uq" UNIQUE ("server_id","name");
ALTER TABLE "rhnservernetinterface" ADD CONSTRAINT "rhn_srv_net_iface_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnservernetinterface" ADD CONSTRAINT "rhn_srv_net_iface_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservernetinterface" ADD CONSTRAINT "rhn_srv_net_iface_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservernetinterface" ADD CONSTRAINT "rhn_srv_net_iface_name_nn" CHECK ("name" is not null);
CREATE INDEX rhn_srv_net_iface_sid_name_idx ON "rhnservernetinterface" ("server_id","name");

CREATE TABLE "rhnerratabuglist" (
	"errata_id" float NOT NULL,
	"bug_id" float NOT NULL,
	"summary" varchar(4000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratabuglist" ADD CONSTRAINT "rhn_errata_buglist_errata_nn" CHECK ("errata_id" is not null);
ALTER TABLE "rhnerratabuglist" ADD CONSTRAINT "rhn_errata_buglist_bug_nn" CHECK ("bug_id" is not null);
ALTER TABLE "rhnerratabuglist" ADD CONSTRAINT "rhn_errata_buglist_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratabuglist" ADD CONSTRAINT "rhn_errata_buglist_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_err_bug_list_uq ON "rhnerratabuglist" ("errata_id","bug_id");

CREATE TABLE "rhn_sat_cluster" (
	"recid" float NOT NULL,
	"target_type" varchar(10) DEFAULT 'cluster'
        ,
	"customer_id" bigint NOT NULL,
	"description" varchar(255) NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"physical_location_id" bigint NOT NULL,
	"public_key" varchar(2000),
	"vip" varchar(15),
	"deployed" char(1) DEFAULT '0'
        ,
	"pem_public_key" varchar(2000),
	"pem_public_key_hash" varchar(20)
);
ALTER TABLE "rhn_sat_cluster" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_location_id_nn" CHECK ("physical_location_id" is not null);
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_target_type_nn" CHECK ("target_type" is not null);
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_deployed_nn" CHECK ("deployed" is not null);
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_target_type_ck" CHECK (target_type in ('cluster'));
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_deployed_ck" CHECK (deployed in ('0','1'));
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_desc_nn" CHECK ("description" is not null);
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_cust_id_nn" CHECK ("customer_id" is not null);
CREATE INDEX rhn_satcl_cid_idx ON "rhn_sat_cluster" ("customer_id");

CREATE TABLE "srs$" (
	"cursor" float NOT NULL,
	"logicalsessid" bytea NOT NULL,
	"resultset" bytea,
	"lobroff" bigint,
	"lobsize" bigint,
	"clientrows" float,
	"lobrows" float
);
CREATE INDEX srsidx ON "srs$" ("cursor","logicalsessid");

CREATE TABLE "wm$workspace_savepoints_table" (
	"workspace" varchar(30) NOT NULL,
	"savepoint" varchar(30) NOT NULL,
	"version" float,
	"position" float,
	"is_implicit" float,
	"owner" varchar(30),
	"createtime" timestamp,
	"description" varchar(1000)
);
ALTER TABLE "wm$workspace_savepoints_table" ADD PRIMARY KEY ("workspace","savepoint");
CREATE INDEX wm$ws_sp_tab_ver_ind ON "wm$workspace_savepoints_table" ("version");

CREATE TABLE "rhnarchtypeactions" (
	"arch_type_id" float NOT NULL,
	"action_style" varchar(64) NOT NULL,
	"action_type_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnarchtypeactions" ADD CONSTRAINT "rhn_archtypeacts_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnarchtypeactions" ADD CONSTRAINT "rhn_archtypeacts_as_nn" CHECK ("action_style" is not null);
ALTER TABLE "rhnarchtypeactions" ADD CONSTRAINT "rhn_archtypeacts_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnarchtypeactions" ADD CONSTRAINT "rhn_archtypeacts_actid_nn" CHECK ("action_type_id" is not null);
ALTER TABLE "rhnarchtypeactions" ADD CONSTRAINT "rhn_archtypeacts_atid_nn" CHECK ("arch_type_id" is not null);
CREATE UNIQUE INDEX rhn_archtypeacts_atid_as_uq ON "rhnarchtypeactions" ("arch_type_id","action_style");

CREATE TABLE "wm$mw_table" (
	"workspace" varchar(30)
);

CREATE TABLE "aq$_wm$event_queue_table_i" (
	"subscriber#" float NOT NULL,
	"name" varchar(30) NOT NULL,
	"queue#" float NOT NULL,
	"msg_enq_time" timestamp NOT NULL,
	"msg_step_no" float NOT NULL,
	"msg_chain_no" float NOT NULL,
	"msg_local_order_no" float NOT NULL,
	"msgid" bytea NOT NULL,
	"hint" oid,
	"spare" bytea
);
ALTER TABLE "aq$_wm$event_queue_table_i" ADD PRIMARY KEY ("subscriber#","name","queue#","msg_enq_time","msg_step_no","msg_chain_no","msg_local_order_no","msgid");

CREATE TABLE "rhn_schedule_days_norm" (
	"schedule_id" bigint,
	"ord" smallint,
	"start_int" bigint,
	"end_int" bigint
);

CREATE TABLE "rhnchannelnewestpackageaudit" (
	"refresh_time" timestamp DEFAULT CURRENT_TIMESTAMP
                                ,
	"channel_id" float NOT NULL,
	"caller" varchar(256) NOT NULL
);
ALTER TABLE "rhnchannelnewestpackageaudit" ADD CONSTRAINT "rhn_cnp_at_rt_nn" CHECK ("refresh_time" is not null);
ALTER TABLE "rhnchannelnewestpackageaudit" ADD CONSTRAINT "rhn_cnp_at_caller_nn" CHECK ("caller" is not null);
ALTER TABLE "rhnchannelnewestpackageaudit" ADD CONSTRAINT "rhn_cnp_at_cid_nn" CHECK ("channel_id" is not null);
CREATE INDEX rhn_cnp_a_t_all_idx ON "rhnchannelnewestpackageaudit" ("channel_id","refresh_time","caller");

CREATE TABLE "rhnproductchannel" (
	"channel_id" float NOT NULL,
	"product_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnproductchannel" ADD CONSTRAINT "rhn_pc_cid_pid_idx" UNIQUE ("channel_id","product_id");
ALTER TABLE "rhnproductchannel" ADD CONSTRAINT "rhn_pc_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnproductchannel" ADD CONSTRAINT "rhn_pc_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnproductchannel" ADD CONSTRAINT "rhn_pc_pid_nn" CHECK ("product_id" is not null);
ALTER TABLE "rhnproductchannel" ADD CONSTRAINT "rhn_pc_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_pc_pid_cid_idx ON "rhnproductchannel" ("product_id","channel_id");

CREATE TABLE "rhnpackagerequires" (
	"package_id" float NOT NULL,
	"capability_id" float NOT NULL,
	"sense" float DEFAULT (0) -- comes from RPMSENSE_*
                        ,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnpackagerequires" ADD CONSTRAINT "rhn_pkg_requires_pid_nn" CHECK ("package_id" is not null);
ALTER TABLE "rhnpackagerequires" ADD CONSTRAINT "rhn_pkg_requires_cid_nn" CHECK ("capability_id" is not null);
ALTER TABLE "rhnpackagerequires" ADD CONSTRAINT "rhn_pkg_requires_ctime_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagerequires" ADD CONSTRAINT "rhn_pkg_requires_sense_nn" CHECK ("sense" is not null);
ALTER TABLE "rhnpackagerequires" ADD CONSTRAINT "rhn_pkg_requires_mtime_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_pkg_req_pid_cid_s_uq ON "rhnpackagerequires" ("package_id","capability_id","sense");
CREATE INDEX rhn_pkg_requires_cid_idx ON "rhnpackagerequires" ("capability_id");

CREATE TABLE "rhnactionconfigchannel" (
	"action_id" float NOT NULL,
	"server_id" float NOT NULL,
	"config_channel_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_ccid_nn" CHECK ("config_channel_id" is not null);
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_creat_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_actioncc_aid_sid_uq ON "rhnactionconfigchannel" ("action_id","server_id");
CREATE INDEX rhn_act_cc_ccid_aid_sid_idx ON "rhnactionconfigchannel" ("config_channel_id","action_id","server_id");
CREATE INDEX rhn_actioncc_sid_aid_ccid_idx ON "rhnactionconfigchannel" ("server_id","action_id","config_channel_id");

CREATE TABLE "web_user_site_type" (
	"type" char(1) NOT NULL,
	"description" varchar(64) NOT NULL
);
ALTER TABLE "web_user_site_type" ADD PRIMARY KEY ("type");
ALTER TABLE "web_user_site_type" ADD CONSTRAINT "wust_type_nn" CHECK ("type" is not null);
ALTER TABLE "web_user_site_type" ADD CONSTRAINT "wust_desc_nn" CHECK ("description" is not null);

CREATE TABLE "rhn_threshold_type" (
	"name" varchar(10) NOT NULL,
	"description" varchar(80) NOT NULL,
	"ordinal" smallint NOT NULL,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_threshold_type" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_threshold_type" ADD CONSTRAINT "rhn_trtyp_ord_nn" CHECK ("ordinal" is not null);
ALTER TABLE "rhn_threshold_type" ADD CONSTRAINT "rhn_trtyp_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhn_threshold_type" ADD CONSTRAINT "rhn_trtyp_desc_nn" CHECK ("description" is not null);

CREATE TABLE "rhn_command_queue_params" (
	"instance_id" bigint NOT NULL,
	"ord" smallint NOT NULL,
	"value" varchar(1024)
);
ALTER TABLE "rhn_command_queue_params" ADD PRIMARY KEY ("instance_id","ord");
ALTER TABLE "rhn_command_queue_params" ADD CONSTRAINT "rhn_cqprm_instance_id_nn" CHECK ("instance_id" is not null);
ALTER TABLE "rhn_command_queue_params" ADD CONSTRAINT "rhn_cqprm_ord_nn" CHECK ("ord" is not null);

CREATE TABLE "wm$mp_graph_workspaces_table" (
	"mp_leaf_workspace" varchar(30) NOT NULL,
	"mp_graph_workspace" varchar(30) NOT NULL,
	"anc_version" float,
	"mp_graph_flag" varchar(1)
);
ALTER TABLE "wm$mp_graph_workspaces_table" ADD PRIMARY KEY ("mp_leaf_workspace","mp_graph_workspace");
CREATE INDEX wm$mp_graph_workspace_idx ON "wm$mp_graph_workspaces_table" ("mp_graph_workspace");

CREATE TABLE "rhn_command_queue_instances_bk" (
	"recid" float NOT NULL,
	"command_id" bigint NOT NULL,
	"notes" varchar(2000),
	"date_submitted" timestamp NOT NULL,
	"expiration_date" timestamp NOT NULL,
	"notify_email" varchar(50),
	"timeout" integer,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_command_queue_instances_bk" ADD CONSTRAINT "rhn_cqinsbk_command_id_nn" CHECK ("command_id" is not null);
ALTER TABLE "rhn_command_queue_instances_bk" ADD CONSTRAINT "rhn_cqinsbk_date_sub_nn" CHECK ("date_submitted" is not null);
ALTER TABLE "rhn_command_queue_instances_bk" ADD CONSTRAINT "rhn_cqinsbk_exp_date_nn" CHECK ("expiration_date" is not null);
ALTER TABLE "rhn_command_queue_instances_bk" ADD CONSTRAINT "rhn_cqinsbk_recid_nn" CHECK ("recid" is not null);

CREATE TABLE "rhnkickstartsessionhistory" (
	"id" float NOT NULL,
	"kickstart_session_id" float NOT NULL,
	"action_id" float,
	"state_id" float NOT NULL,
	"time" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"message" varchar(4000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartsessionhistory" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_time_nn" CHECK ("time" is not null);
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_ksid_nn" CHECK ("kickstart_session_id" is not null);
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_stat_nn" CHECK ("state_id" is not null);
CREATE INDEX rhn_ks_sessionhist_ksid_idx ON "rhnkickstartsessionhistory" ("kickstart_session_id");

CREATE TABLE "rhn_host_check_suites" (
	"host_probe_id" bigint NOT NULL,
	"suite_id" bigint NOT NULL
);
ALTER TABLE "rhn_host_check_suites" ADD PRIMARY KEY ("host_probe_id","suite_id");
ALTER TABLE "rhn_host_check_suites" ADD CONSTRAINT "rhn_hstck_suite_id_nn" CHECK ("suite_id" is not null);
ALTER TABLE "rhn_host_check_suites" ADD CONSTRAINT "rhn_hstck_host_probe_nn" CHECK ("host_probe_id" is not null);

CREATE TABLE "rhn_host_probe" (
	"probe_id" bigint NOT NULL,
	"probe_type" varchar(12) DEFAULT 'host'
        ,
	"host_id" bigint NOT NULL,
	"sat_cluster_id" bigint NOT NULL
);
ALTER TABLE "rhn_host_probe" ADD PRIMARY KEY ("probe_id");
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_host_id_nn" CHECK ("host_id" is not null);
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_sat_cl_id_nn" CHECK ("sat_cluster_id" is not null);
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_probe_type_ck" CHECK ( probe_type='host' );
CREATE INDEX rhn_hstpb_sat_cluster_id_idx ON "rhn_host_probe" ("sat_cluster_id");
CREATE INDEX rhn_hstpb_host_id_idx ON "rhn_host_probe" ("host_id");
CREATE UNIQUE INDEX rhn_hstpb_pbid_ptype_idx ON "rhn_host_probe" ("probe_id","probe_type");

CREATE TABLE "rhnreleasechannelmap" (
	"product" varchar(64) NOT NULL,
	"version" varchar(64) NOT NULL,
	"release" varchar(64) NOT NULL,
	"channel_arch_id" float NOT NULL,
	"channel_id" float NOT NULL,
	"is_default" char(1) NOT NULL
);
ALTER TABLE "rhnreleasechannelmap" ADD CONSTRAINT "rhn_rcm_relse_nn" CHECK ("release" is not null);
ALTER TABLE "rhnreleasechannelmap" ADD CONSTRAINT "rhn_rcm_prodct_nn" CHECK ("product" is not null);
ALTER TABLE "rhnreleasechannelmap" ADD CONSTRAINT "rhn_rcm_default_ck" CHECK (is_default in ('Y', 'N'));
ALTER TABLE "rhnreleasechannelmap" ADD CONSTRAINT "rhn_rcm_default_nn" CHECK ("is_default" is not null);
ALTER TABLE "rhnreleasechannelmap" ADD CONSTRAINT "rhn_rcm_cid_nn" CHECK ("channel_id" is not null);
ALTER TABLE "rhnreleasechannelmap" ADD CONSTRAINT "rhn_rcm_caid_nn" CHECK ("channel_arch_id" is not null);
ALTER TABLE "rhnreleasechannelmap" ADD CONSTRAINT "rhn_rcm_versn_nn" CHECK ("version" is not null);
CREATE INDEX rhn_rcm_prod_ver_rel_caid_idx ON "rhnreleasechannelmap" ("product","version","release","channel_arch_id");

CREATE TABLE "wm$udtrig_dispatch_procs" (
	"table_owner_name" varchar(50) NOT NULL,
	"table_name" varchar(50) NOT NULL,
	"dispatcher_name" varchar(50),
	"bir_flag" varchar(3) DEFAULT '',
	"air_flag" varchar(3) DEFAULT '',
	"bur_flag" varchar(3) DEFAULT '',
	"aur_flag" varchar(3) DEFAULT '',
	"bdr_flag" varchar(3) DEFAULT '',
	"adr_flag" varchar(3) DEFAULT ''
);
ALTER TABLE "wm$udtrig_dispatch_procs" ADD PRIMARY KEY ("table_owner_name","table_name");

CREATE TABLE "wm$workspace_priv_table" (
	"grantee" varchar(30),
	"workspace" varchar(30),
	"grantor" varchar(30),
	"priv" varchar(10),
	"admin" float
);
CREATE INDEX wm$ws_priv_tab_ws_grte_ind ON "wm$workspace_priv_table" ("workspace","grantee");
CREATE INDEX wm$ws_priv_tab_grtor_ind ON "wm$workspace_priv_table" ("grantor");
CREATE INDEX wm$ws_priv_tab_grte_ind ON "wm$workspace_priv_table" ("grantee");

CREATE TABLE "rhnkickstartiprange" (
	"kickstart_id" float NOT NULL,
	"org_id" float NOT NULL,
	"min" float NOT NULL,
	"max" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                                
);
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_oid_min_max_uq" UNIQUE ("org_id","min","max");
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_max_nn" CHECK ("max" is not null);
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_ksid_nn" CHECK ("kickstart_id" is not null);
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_oid_nn" CHECK ("org_id" is not null);
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_min_nn" CHECK ("min" is not null);
CREATE INDEX rhn_ksip_org_id_idx ON "rhnkickstartiprange" ("org_id");
CREATE INDEX rhn_ksip_kickstart_id_idx ON "rhnkickstartiprange" ("kickstart_id");

CREATE TABLE "wm$event_queue_table" (
);

CREATE TABLE "rhnkstreetype" (
	"id" float NOT NULL,
	"label" varchar(32) NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnkstreetype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnkstreetype" ADD CONSTRAINT "rhn_kstreetype_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkstreetype" ADD CONSTRAINT "rhn_kstreetype_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnkstreetype" ADD CONSTRAINT "rhn_kstreetype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnkstreetype" ADD CONSTRAINT "rhn_kstreetype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnkstreetype" ADD CONSTRAINT "rhn_kstreetype_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_kstreetype_label_uq ON "rhnkstreetype" ("label");

CREATE TABLE "rhnsavedsearchtype" (
	"id" float NOT NULL,
	"label" varchar(8) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnsavedsearchtype" ADD CONSTRAINT "rhn_sstype_label_uq" UNIQUE ("label");
ALTER TABLE "rhnsavedsearchtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnsavedsearchtype" ADD CONSTRAINT "rhn_sstype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnsavedsearchtype" ADD CONSTRAINT "rhn_sstype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnsavedsearchtype" ADD CONSTRAINT "rhn_sstype_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnsavedsearchtype" ADD CONSTRAINT "rhn_sstype_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_sstype_label_id_idx ON "rhnsavedsearchtype" ("label","id");
CREATE INDEX rhn_sstype_id_label_idx ON "rhnsavedsearchtype" ("id","label");

CREATE TABLE "rhnservermessage" (
	"server_id" float NOT NULL,
	"message_id" float NOT NULL,
	"server_event" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnservermessage" ADD CONSTRAINT "rhn_sm_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnservermessage" ADD CONSTRAINT "rhn_sm_message_id_nn" CHECK ("message_id" is not null);
ALTER TABLE "rhnservermessage" ADD CONSTRAINT "rhn_sm_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnservermessage" ADD CONSTRAINT "rhn_sm_server_id_nn" CHECK ("server_id" is not null);
CREATE UNIQUE INDEX rhn_sm_uq ON "rhnservermessage" ("server_id","message_id");
CREATE UNIQUE INDEX rhn_sm_mi_sid_uq ON "rhnservermessage" ("message_id","server_id");
CREATE INDEX rhn_srvr_mssg_srvr_evnt_idx ON "rhnservermessage" ("server_event");

CREATE TABLE "rhnactionvirtsuspend" (
	"action_id" float NOT NULL,
	"uuid" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                
);
ALTER TABLE "rhnactionvirtsuspend" ADD PRIMARY KEY ("action_id");
ALTER TABLE "rhnactionvirtsuspend" ADD CONSTRAINT "rhn_avsuspend_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionvirtsuspend" ADD CONSTRAINT "rhn_avsuspend_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionvirtsuspend" ADD CONSTRAINT "rhn_avsuspend_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionvirtsuspend" ADD CONSTRAINT "rhn_avsuspend_uuid_nn" CHECK ("uuid" is not null);
CREATE UNIQUE INDEX rhn_avsuspend_aid_uq ON "rhnactionvirtsuspend" ("action_id");

CREATE TABLE "rhnmessage" (
	"id" float NOT NULL,
	"message_type" float NOT NULL,
	"priority" float DEFAULT 0
			,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnmessage" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnmessage" ADD CONSTRAINT "rhn_m_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnmessage" ADD CONSTRAINT "rhn_m_mt_nn" CHECK ("message_type" is not null);
ALTER TABLE "rhnmessage" ADD CONSTRAINT "rhn_m_priority_nn" CHECK ("priority" is not null);
ALTER TABLE "rhnmessage" ADD CONSTRAINT "rhn_m_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnmessage" ADD CONSTRAINT "rhn_m_modified_nn" CHECK ("modified" is not null);

CREATE TABLE "rhntransaction" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"timestamp" timestamp NOT NULL,
	"rpm_trans_id" float NOT NULL,
	"label" varchar(32),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhntransaction" ADD PRIMARY KEY ("id");
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_sid_rti_unq" UNIQUE ("server_id","rpm_trans_id");
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_rti_nn" CHECK ("rpm_trans_id" is not null);
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_ts_nn" CHECK ("timestamp" is not null);
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_trans_id_sid_ts_rtid_idx ON "rhntransaction" ("id","server_id","timestamp","rpm_trans_id");

CREATE TABLE "rhnerratafilepackagetmp" (
	"package_id" float NOT NULL,
	"errata_file_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnerratafilepackagetmp" ADD CONSTRAINT "rhn_efileptmp_efid_uq" UNIQUE ("errata_file_id");
ALTER TABLE "rhnerratafilepackagetmp" ADD CONSTRAINT "rhn_efileptmp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnerratafilepackagetmp" ADD CONSTRAINT "rhn_efileptmp_fileid_nn" CHECK ("errata_file_id" is not null);
ALTER TABLE "rhnerratafilepackagetmp" ADD CONSTRAINT "rhn_efileptmp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnerratafilepackagetmp" ADD CONSTRAINT "rhn_efileptmp_pid_nn" CHECK ("package_id" is not null);
CREATE INDEX rhn_efileptmp_pid_idx ON "rhnerratafilepackagetmp" ("package_id");
CREATE INDEX rhn_efileptmp_efid_pid_idx ON "rhnerratafilepackagetmp" ("errata_file_id","package_id");

CREATE TABLE "rhnclientcapabilityname" (
	"id" float NOT NULL,
	"name" varchar(32) NOT NULL
);
ALTER TABLE "rhnclientcapabilityname" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnclientcapabilityname" ADD CONSTRAINT "rhn_clientcapnam_name_unq" UNIQUE ("name");
ALTER TABLE "rhnclientcapabilityname" ADD CONSTRAINT "rhn_clientcapnam_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnclientcapabilityname" ADD CONSTRAINT "rhn_clientcapnam_name_nn" CHECK ("name" is not null);

CREATE TABLE "rhn_physical_location" (
	"recid" float NOT NULL,
	"location_name" varchar(40),
	"address1" varchar(255),
	"address2" varchar(255),
	"city" varchar(128),
	"state" varchar(128),
	"country" varchar(2),
	"zipcode" varchar(10),
	"phone" varchar(40),
	"deleted" char(1),
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"customer_id" bigint DEFAULT 999
        
);
ALTER TABLE "rhn_physical_location" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_physical_location" ADD CONSTRAINT "rhn_phslc_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_physical_location" ADD CONSTRAINT "rhn_phslc_cust_id_nn" CHECK ("customer_id" is not null);

CREATE TABLE "rhnkickstartdefaults" (
	"kickstart_id" float NOT NULL,
	"kstree_id" float NOT NULL,
	"server_profile_id" float,
	"cfg_management_flag" char(1) DEFAULT ('Y')
                                ,
	"remote_command_flag" char(1) DEFAULT ('N')
				,
	"virtualization_type" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                                ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                                
);
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_ksid_uq" UNIQUE ("kickstart_id");
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_rmf_ck" CHECK (remote_command_flag in ('Y','N'));
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_cmf_ck" CHECK (cfg_management_flag in ('Y','N'));
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_kstid_nn" CHECK ("kstree_id" is not null);
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_kvt_nn" CHECK ("virtualization_type" is not null);
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_cmf_nn" CHECK ("cfg_management_flag" is not null);
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_ksid_nn" CHECK ("kickstart_id" is not null);
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_rmf_nn" CHECK ("remote_command_flag" is not null);
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_ksd_kstid_idx ON "rhnkickstartdefaults" ("kstree_id");

CREATE TABLE "pxtsessions" (
	"id" float NOT NULL,
	"web_user_id" float,
	"expires" float DEFAULT 0
                        ,
	"value" varchar(4000) NOT NULL
);
ALTER TABLE "pxtsessions" ADD PRIMARY KEY ("id");
ALTER TABLE "pxtsessions" ADD CONSTRAINT "pxtsessions_expires_nn" CHECK ("expires" is not null);
ALTER TABLE "pxtsessions" ADD CONSTRAINT "pxtsessions_value_nn" CHECK ("value" is not null);
CREATE INDEX pxtsessions_expires ON "pxtsessions" ("expires");

CREATE TABLE "rhnpackagearch" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(64) NOT NULL,
	"arch_type_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnpackagearch" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_label_uq" UNIQUE ("label");
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_atid_nn" CHECK ("arch_type_id" is not null);
CREATE INDEX rhn_parch_id_l_n_idx ON "rhnpackagearch" ("id","label","name");
CREATE INDEX rhn_parch_l_id_n_idx ON "rhnpackagearch" ("label","id","name");

CREATE TABLE "rhnpackagenevra" (
	"id" float NOT NULL,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"package_arch_id" float
);
ALTER TABLE "rhnpackagenevra" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpackagenevra" ADD CONSTRAINT "rhn_pkgnevra_nid_eid_paid_uq" UNIQUE ("name_id","evr_id","package_arch_id");
ALTER TABLE "rhnpackagenevra" ADD CONSTRAINT "rhn_pkgnevra_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhnpackagenevra" ADD CONSTRAINT "rhn_pkgnevra_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpackagenevra" ADD CONSTRAINT "rhn_pkgnevra_nid_nn" CHECK ("name_id" is not null);
CREATE INDEX rhn_pkgnevra_nid_evrid_id_idx ON "rhnpackagenevra" ("name_id","evr_id","id");

CREATE TABLE "rhnactionconfigfilename" (
	"action_id" float NOT NULL,
	"server_id" float NOT NULL,
	"config_file_name_id" float NOT NULL,
	"config_revision_id" float,
	"failure_id" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_name_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_name_cfnid_nn" CHECK ("config_file_name_id" is not null);
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_name_aid_nn" CHECK ("action_id" is not null);
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_mod_nn" CHECK ("modified" is not null);
CREATE UNIQUE INDEX rhn_actioncf_name_sac_uq ON "rhnactionconfigfilename" ("server_id","action_id","config_file_name_id");
CREATE INDEX rhn_act_cnfg_fn_crid_idx ON "rhnactionconfigfilename" ("config_revision_id");
CREATE UNIQUE INDEX rhn_actioncf_name_asc_uq ON "rhnactionconfigfilename" ("action_id","server_id","config_file_name_id");

CREATE TABLE "rhnappinstallsession" (
	"id" float NOT NULL,
	"instance_id" float NOT NULL,
	"md5sum" varchar(64),
	"process_name" varchar(32),
	"step_number" float,
	"user_id" float NOT NULL,
	"server_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnappinstallsession" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_uid_nn" CHECK ("user_id" is not null);
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_iid_nn" CHECK ("instance_id" is not null);
CREATE INDEX rhn_appinst_sessn_uid_iid_idx ON "rhnappinstallsession" ("user_id","instance_id");
CREATE INDEX rhn_appinst_session_iid_id_idx ON "rhnappinstallsession" ("instance_id","id");
CREATE INDEX rhn_appinst_session_id_iid_idx ON "rhnappinstallsession" ("id","instance_id");
CREATE INDEX rhn_appinst_sessn_sid_iid_idx ON "rhnappinstallsession" ("server_id","instance_id");

CREATE TABLE "rhn_command_queue_execs" (
	"instance_id" bigint NOT NULL,
	"netsaint_id" bigint NOT NULL,
	"date_accepted" timestamp,
	"date_executed" timestamp,
	"exit_status" integer,
	"execution_time" float,
	"stdout" varchar(4000),
	"stderr" varchar(4000),
	"last_update_date" timestamp,
	"target_type" varchar(10) NOT NULL
);
ALTER TABLE "rhn_command_queue_execs" ADD PRIMARY KEY ("instance_id","netsaint_id");
ALTER TABLE "rhn_command_queue_execs" ADD CONSTRAINT "rhn_cqexe_netsaint_id_nn" CHECK ("netsaint_id" is not null);
ALTER TABLE "rhn_command_queue_execs" ADD CONSTRAINT "rhn_cqexe_target_type_nn" CHECK ("target_type" is not null);
ALTER TABLE "rhn_command_queue_execs" ADD CONSTRAINT "rhn_cqexe_instance_id_nn" CHECK ("instance_id" is not null);
CREATE INDEX rhn_cqexe_date_executed_idx ON "rhn_command_queue_execs" ("date_executed");
CREATE INDEX rhn_command_queue_netsaint_idx ON "rhn_command_queue_execs" ("netsaint_id");
CREATE INDEX rhn_cqexe_instance_id_idx ON "rhn_command_queue_execs" ("instance_id");

CREATE TABLE "rhnredhatcanonversion" (
	"version" varchar(32) NOT NULL,
	"canon_version" varchar(32) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnredhatcanonversion" ADD PRIMARY KEY ("version");
ALTER TABLE "rhnredhatcanonversion" ADD CONSTRAINT "rhn_rh_canon_ver_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnredhatcanonversion" ADD CONSTRAINT "rhn_rh_canon_ver_cv_nn" CHECK ("canon_version" is not null);
ALTER TABLE "rhnredhatcanonversion" ADD CONSTRAINT "rhn_rh_canon_ver_v_nn" CHECK ("version" is not null);
ALTER TABLE "rhnredhatcanonversion" ADD CONSTRAINT "rhn_rh_canon_ver_modified_nn" CHECK ("modified" is not null);

CREATE TABLE "rhn_method_types" (
	"recid" float NOT NULL,
	"method_type_name" varchar(20),
	"notification_format_id" bigint DEFAULT 4
        
);
ALTER TABLE "rhn_method_types" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_method_types" ADD CONSTRAINT "rhn_mthtp_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_method_types" ADD CONSTRAINT "rhn_mthtp_notif_fmt_nn" CHECK ("notification_format_id" is not null);
ALTER TABLE "rhn_method_types" ADD CONSTRAINT "rhn_mthtp_recid_ck" CHECK (recid > 0);

CREATE TABLE "rhnchannelarch" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"arch_type_id" float NOT NULL,
	"name" varchar(64) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnchannelarch" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_label_uq" UNIQUE ("label");
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_atid_nn" CHECK ("arch_type_id" is not null);
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_created_nn" CHECK ("created" is not null);
CREATE INDEX rhn_carch_l_id_n_idx ON "rhnchannelarch" ("label","id","name");
CREATE INDEX rhn_carch_id_l_n_idx ON "rhnchannelarch" ("id","label","name");

CREATE TABLE "rhn_check_suite_probe" (
	"probe_id" bigint NOT NULL,
	"probe_type" varchar(12) DEFAULT 'suite'
        ,
	"check_suite_id" bigint NOT NULL
);
ALTER TABLE "rhn_check_suite_probe" ADD PRIMARY KEY ("probe_id");
ALTER TABLE "rhn_check_suite_probe" ADD CONSTRAINT "rhn_ckspb_check_suite_id_nn" CHECK ("check_suite_id" is not null);
ALTER TABLE "rhn_check_suite_probe" ADD CONSTRAINT "rhn_ckspb_probe_type_nn" CHECK ("probe_type" is not null);
ALTER TABLE "rhn_check_suite_probe" ADD CONSTRAINT "rhn_ckspb_probe_id_nn" CHECK ("probe_id" is not null);
ALTER TABLE "rhn_check_suite_probe" ADD CONSTRAINT "rhn_ckspb_probe_type_ck" CHECK ( probe_type = 'suite' );
CREATE INDEX rhn_ckspb_check_suite_id_idx ON "rhn_check_suite_probe" ("check_suite_id");

CREATE TABLE "rhnmessagepriority" (
	"id" float NOT NULL,
	"label" varchar(48) NOT NULL
);
ALTER TABLE "rhnmessagepriority" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnmessagepriority" ADD CONSTRAINT "rhn_m_priority_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnmessagepriority" ADD CONSTRAINT "rhn_m_priority_id_nn" CHECK ("id" is not null);
CREATE INDEX rhn_m_priority_label_id_idx ON "rhnmessagepriority" ("label","id");
CREATE UNIQUE INDEX rhn_m_priority_label_uq ON "rhnmessagepriority" ("label");

CREATE TABLE "rhn_contact_groups" (
	"recid" float NOT NULL,
	"contact_group_name" varchar(30) NOT NULL,
	"customer_id" bigint NOT NULL,
	"strategy_id" bigint NOT NULL,
	"ack_wait" smallint NOT NULL,
	"rotate_first" char(1) NOT NULL,
	"last_update_user" varchar(40) NOT NULL,
	"last_update_date" timestamp NOT NULL,
	"notification_format_id" bigint DEFAULT 4
        
);
ALTER TABLE "rhn_contact_groups" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_ack_wait_nn" CHECK ("ack_wait" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_last_user_nn" CHECK ("last_update_user" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_rotate_f_nn" CHECK ("rotate_first" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_last_date_nn" CHECK ("last_update_date" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_strat_id_nn" CHECK ("strategy_id" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_ack_wait_ck" CHECK ( ack_wait < 20160 );
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_cust_id_nn" CHECK ("customer_id" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_group_name_nn" CHECK ("contact_group_name" is not null);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_recid_notzero" CHECK (recid > 0);
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_rotate_f_ck" CHECK (rotate_first in ('0','1'));
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_notif_fmt_nn" CHECK ("notification_format_id" is not null);
CREATE INDEX rhn_cntgp_strategy_id_idx ON "rhn_contact_groups" ("strategy_id");
CREATE INDEX rhn_cntgp_customer_id_idx ON "rhn_contact_groups" ("customer_id");

CREATE TABLE "rhnblacklistobsoletes" (
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"package_arch_id" float NOT NULL,
	"ignore_name_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_nepi_uq" UNIQUE ("name_id","evr_id","package_arch_id","ignore_name_id");
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_inid_nn" CHECK ("ignore_name_id" is not null);
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_paid_nn" CHECK ("package_arch_id" is not null);
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_modified_nn" CHECK ("modified" is not null);
CREATE INDEX rhn_bl_obs_nepi_idx ON "rhnblacklistobsoletes" ("name_id","evr_id","package_arch_id","ignore_name_id");

CREATE TABLE "rhn_contact_methods" (
	"recid" float NOT NULL,
	"method_name" varchar(20),
	"contact_id" bigint NOT NULL,
	"schedule_id" bigint,
	"method_type_id" bigint NOT NULL,
	"pager_type_id" bigint,
	"pager_pin" varchar(20),
	"pager_email" varchar(50),
	"pager_max_message_length" integer,
	"pager_split_long_messages" char(1),
	"email_address" varchar(50),
	"email_reply_to" varchar(50),
	"last_update_user" varchar(40),
	"last_update_date" timestamp,
	"snmp_host" varchar(255),
	"snmp_port" integer,
	"notification_format_id" bigint DEFAULT 4
        ,
	"sender_sat_cluster_id" bigint
);
ALTER TABLE "rhn_contact_methods" ADD PRIMARY KEY ("recid");
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_pgr_length_limit" CHECK (pager_max_message_length between 10 and 1920);
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_contact_id_nn" CHECK ("contact_id" is not null);
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_notif_fmt_nn" CHECK ("notification_format_id" is not null);
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_meth_type_nn" CHECK ("method_type_id" is not null);
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_recid_nn" CHECK ("recid" is not null);
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_recid_notzero" CHECK (recid > 0);
CREATE UNIQUE INDEX rhn_cmeth_id_name_uq ON "rhn_contact_methods" ("contact_id","method_name");
CREATE INDEX rhn_cmeth_schedule_id_idx ON "rhn_contact_methods" ("schedule_id");
CREATE INDEX rhn_cmeth_contact_id_idx ON "rhn_contact_methods" ("contact_id");
CREATE INDEX rhn_cmeth_method_type_id_idx ON "rhn_contact_methods" ("method_type_id");
CREATE INDEX rhn_cmeth_sndr_scid_idx ON "rhn_contact_methods" ("sender_sat_cluster_id");

CREATE TABLE "rhnarchtype" (
	"id" float NOT NULL,
	"label" varchar(64) NOT NULL,
	"name" varchar(128) NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhnarchtype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnarchtype" ADD CONSTRAINT "rhn_archtype_label_uq" UNIQUE ("label");
ALTER TABLE "rhnarchtype" ADD CONSTRAINT "rhn_archtype_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnarchtype" ADD CONSTRAINT "rhn_archtype_label_nn" CHECK ("label" is not null);
ALTER TABLE "rhnarchtype" ADD CONSTRAINT "rhn_archtype_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnarchtype" ADD CONSTRAINT "rhn_archtype_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnarchtype" ADD CONSTRAINT "rhn_archtype_name_nn" CHECK ("name" is not null);
CREATE INDEX rhn_archtype_label_id_idx ON "rhnarchtype" ("label","id");

CREATE TABLE "wm$udtrig_info" (
	"trig_owner_name" varchar(50) NOT NULL,
	"trig_name" varchar(50) NOT NULL,
	"table_owner_name" varchar(50),
	"table_name" varchar(50),
	"trig_type" varchar(3),
	"status" varchar(10),
	"trig_procedure" varchar(50),
	"when_clause" varchar(4000),
	"description" varchar(4000),
	"trig_code" text,
	"internal_type" varchar(50) DEFAULT 'USER_DEFINED',
	"tab_merge_wo_remove_col" varchar(4) DEFAULT 'ON',
	"tab_merge_w_remove_col" varchar(4) DEFAULT 'ON',
	"wspc_merge_wo_remove_col" varchar(4) DEFAULT 'ON',
	"wspc_merge_w_remove_col" varchar(4) DEFAULT 'ON',
	"dml_col" varchar(4) DEFAULT 'ON',
	"workspace_refresh_col" varchar(4) DEFAULT 'ON',
	"table_refresh_col" varchar(4) DEFAULT 'ON',
	"table_rollback_col" varchar(4) DEFAULT 'ON',
	"workspace_rollback_col" varchar(4) DEFAULT 'ON',
	"workspace_remove_col" varchar(4) DEFAULT 'ON'
,
	"table_import_col" varchar(4) DEFAULT 'ON'
);
ALTER TABLE "wm$udtrig_info" ADD PRIMARY KEY ("trig_owner_name","trig_name");
CREATE INDEX wm$udtrig_info_indx ON "wm$udtrig_info" ("table_owner_name","table_name","trig_type","status");

CREATE TABLE "rhn_redirect_types" (
	"name" varchar(20) NOT NULL,
	"description" varchar(255),
	"long_name" varchar(80)
);
ALTER TABLE "rhn_redirect_types" ADD PRIMARY KEY ("name");
ALTER TABLE "rhn_redirect_types" ADD CONSTRAINT "rhn_rdrtp_name_nn" CHECK ("name" is not null);

CREATE TABLE "rhn_config_macro" (
	"environment" varchar(255) NOT NULL,
	"name" varchar(255) NOT NULL,
	"definition" varchar(255),
	"description" varchar(255),
	"editable" char(1) DEFAULT 0
        ,
	"last_update_user" varchar(40),
	"last_update_date" timestamp
);
ALTER TABLE "rhn_config_macro" ADD PRIMARY KEY ("environment","name");
ALTER TABLE "rhn_config_macro" ADD CONSTRAINT "rhn_confm_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhn_config_macro" ADD CONSTRAINT "rhn_confm_editable_nn" CHECK ("editable" is not null);
ALTER TABLE "rhn_config_macro" ADD CONSTRAINT "rhn_confm_env_nn" CHECK ("environment" is not null);

CREATE TABLE "web_user_site_info" (
	"id" float NOT NULL,
	"web_user_id" float,
	"email" varchar(128),
	"email_uc" varchar(128),
	"alt_first_names" varchar(128),
	"alt_last_name" varchar(128),
	"address1" varchar(128) NOT NULL,
	"address2" varchar(128),
	"address3" varchar(128),
	"address4" varchar(128),
	"city" varchar(128) NOT NULL,
	"state" varchar(64),
	"zip" varchar(64),
	"country" char(2) NOT NULL,
	"phone" varchar(32),
	"fax" varchar(32),
	"url" varchar(128),
	"is_po_box" char(1) DEFAULT '0'
				,
	"type" char(1),
	"oracle_site_id" varchar(32),
	"notes" varchar(2000),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP),
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP),
	"alt_first_names_ol" varchar(128),
	"alt_last_name_ol" varchar(128),
	"address1_ol" varchar(128),
	"address2_ol" varchar(128),
	"address3_ol" varchar(128),
	"city_ol" varchar(128),
	"state_ol" varchar(32),
	"zip_ol" varchar(32)
);
ALTER TABLE "web_user_site_info" ADD PRIMARY KEY ("id");
ALTER TABLE "web_user_site_info" ADD CONSTRAINT "wusi_city_nn" CHECK ("city" is not null);
ALTER TABLE "web_user_site_info" ADD CONSTRAINT "wusi_addr1_nn" CHECK ("address1" is not null);
ALTER TABLE "web_user_site_info" ADD CONSTRAINT "wusi_country_nn" CHECK ("country" is not null);
ALTER TABLE "web_user_site_info" ADD CONSTRAINT "wusi_ipb_ck" CHECK (is_po_box in ('1','0'));
ALTER TABLE "web_user_site_info" ADD CONSTRAINT "wusi_id_nn" CHECK ("id" is not null);
CREATE INDEX web_user_site_info_wuid ON "web_user_site_info" ("web_user_id");
CREATE INDEX wusi_email_uc_idx ON "web_user_site_info" ("email_uc");

CREATE TABLE "rhnuserservergroupperms" (
	"user_id" float NOT NULL,
	"server_group_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        ,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
                        
);
ALTER TABLE "rhnuserservergroupperms" ADD CONSTRAINT "rhn_usgp_server_nn" CHECK ("server_group_id" is not null);
ALTER TABLE "rhnuserservergroupperms" ADD CONSTRAINT "rhn_usgp_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnuserservergroupperms" ADD CONSTRAINT "rhn_usgp_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnuserservergroupperms" ADD CONSTRAINT "rhn_usgp_user_nn" CHECK ("user_id" is not null);
CREATE UNIQUE INDEX rhn_usgp_u_sg_p_uq ON "rhnuserservergroupperms" ("user_id","server_group_id");
CREATE INDEX rhn_usgp_sg_u_p_idx ON "rhnuserservergroupperms" ("server_group_id","user_id");

CREATE TABLE "rhndevice" (
	"id" float NOT NULL,
	"server_id" float NOT NULL,
	"class" varchar(16),
	"bus" varchar(16),
	"detached" float,
	"device" varchar(16),
	"driver" varchar(256),
	"description" varchar(256),
	"pcitype" float DEFAULT -1,
	"prop1" varchar(256),
	"prop2" varchar(256),
	"prop3" varchar(256),
	"prop4" varchar(256),
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
			,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
			
);
ALTER TABLE "rhndevice" ADD PRIMARY KEY ("id");
ALTER TABLE "rhndevice" ADD CONSTRAINT "rhn_device_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhndevice" ADD CONSTRAINT "rhn_device_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhndevice" ADD CONSTRAINT "rhn_device_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhndevice" ADD CONSTRAINT "rhn_device_sid_nn" CHECK ("server_id" is not null);
CREATE INDEX rhn_device_server_id_idx ON "rhndevice" ("server_id");

CREATE TABLE "rhnkickstartpackage" (
	"kickstart_id" float NOT NULL,
	"package_name_id" float NOT NULL,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnkickstartpackage" ADD CONSTRAINT "rhn_kspackage_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnkickstartpackage" ADD CONSTRAINT "rhn_kspackage_created_nn" CHECK ("created" is not null);
ALTER TABLE "rhnkickstartpackage" ADD CONSTRAINT "rhn_kspackage_ksid_nn" CHECK ("kickstart_id" is not null);
ALTER TABLE "rhnkickstartpackage" ADD CONSTRAINT "rhn_kspackage_pnid_nn" CHECK ("package_name_id" is not null);
CREATE INDEX rhn_kspackage_id_idx ON "rhnkickstartpackage" ("kickstart_id");

CREATE TABLE "rhnpushclient" (
	"id" float NOT NULL,
	"name" varchar(64) NOT NULL,
	"server_id" float NOT NULL,
	"jabber_id" varchar(128),
	"shared_key" varchar(64) NOT NULL,
	"state_id" float NOT NULL,
	"next_action_time" timestamp,
	"last_message_time" timestamp,
	"last_ping_time" timestamp,
	"created" timestamp DEFAULT CURRENT_TIMESTAMP
			,
	"modified" timestamp DEFAULT CURRENT_TIMESTAMP
			
);
ALTER TABLE "rhnpushclient" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "rhn_pclient_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "rhn_pclient_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "rhn_pclient_stid_nn" CHECK ("state_id" is not null);
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "rhn_pclient_skey_nn" CHECK ("shared_key" is not null);
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "rhn_pclient_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "rhn_pclient_modified_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "rhn_pclient_created_nn" CHECK ("created" is not null);
CREATE UNIQUE INDEX rhn_pclient_sid_uq ON "rhnpushclient" ("server_id");
CREATE UNIQUE INDEX rhn_pclient_name_uq ON "rhnpushclient" ("name");

CREATE TABLE "rhnactionconfigrevision" (
	"id" float NOT NULL,
	"action_id" float NOT NULL,
	"server_id" float NOT NULL,
	"config_revision_id" float NOT NULL,
	"failure_id" float,
	"created" timestamp DEFAULT (CURRENT_TIMESTAMP)
				,
	"modified" timestamp DEFAULT (CURRENT_TIMESTAMP)
				
);
ALTER TABLE "rhnactionconfigrevision" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_creat_nn" CHECK ("created" is not null);
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_crid_nn" CHECK ("config_revision_id" is not null);
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_sid_nn" CHECK ("server_id" is not null);
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_mod_nn" CHECK ("modified" is not null);
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_aid_nn" CHECK ("action_id" is not null);
CREATE INDEX rhn_actioncr_sid_aid_idx ON "rhnactionconfigrevision" ("server_id","action_id");
CREATE UNIQUE INDEX rhn_actioncr_aid_sid_crid_uq ON "rhnactionconfigrevision" ("action_id","server_id","config_revision_id");
CREATE INDEX rhn_act_cr_crid_idx ON "rhnactionconfigrevision" ("config_revision_id");

CREATE TABLE "rhnmessagetype" (
	"id" float NOT NULL,
	"label" varchar(48) NOT NULL,
	"name" varchar(96) NOT NULL
);
ALTER TABLE "rhnmessagetype" ADD PRIMARY KEY ("id");
ALTER TABLE "rhnmessagetype" ADD CONSTRAINT "rhn_m_type_name_nn" CHECK ("name" is not null);
ALTER TABLE "rhnmessagetype" ADD CONSTRAINT "rhn_m_type_id_nn" CHECK ("id" is not null);
ALTER TABLE "rhnmessagetype" ADD CONSTRAINT "rhn_m_type_label_nn" CHECK ("label" is not null);
CREATE INDEX rhn_m_type_label_id_idx ON "rhnmessagetype" ("label","id");
CREATE UNIQUE INDEX rhn_m_type_label_uq ON "rhnmessagetype" ("label");
CREATE UNIQUE INDEX rhn_m_type_name_uq ON "rhnmessagetype" ("name");

CREATE TABLE "rhnserverpackage" (
	"server_id" float NOT NULL,
	"name_id" float NOT NULL,
	"evr_id" float NOT NULL,
	"package_arch_id" float
);
ALTER TABLE "rhnserverpackage" ADD CONSTRAINT "rhn_serverpackage_nid_nn" CHECK ("name_id" is not null);
ALTER TABLE "rhnserverpackage" ADD CONSTRAINT "rhn_serverpackage_eid_nn" CHECK ("evr_id" is not null);
ALTER TABLE "rhnserverpackage" ADD CONSTRAINT "rhn_serverpackage_sid_nn" CHECK ("server_id" is not null);
CREATE INDEX rhn_sp_snep_idx ON "rhnserverpackage" ("server_id","name_id","evr_id","package_arch_id");

ALTER TABLE "rhn_url_probe" ADD CONSTRAINT "rhn_urlpb_probe_pr_id_pr_fk" FOREIGN KEY ("probe_id","probe_type") REFERENCES "rhn_probe" ("recid","probe_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigdatefile" ADD CONSTRAINT "rhn_actioncd_file_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_interface_monitoring" ADD CONSTRAINT "rhn_monif_server_name_fk" FOREIGN KEY ("server_id","server_name") REFERENCES "rhnservernetinterface" ("server_id","name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfaq" ADD CONSTRAINT "rhn_faq_class_fk" FOREIGN KEY ("class_id") REFERENCES "rhnfaqclass" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelcomps" ADD CONSTRAINT "rhn_channelcomps_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverprofilepackage" ADD CONSTRAINT "rhn_sprofile_spid_fk" FOREIGN KEY ("server_profile_id") REFERENCES "rhnserverprofile" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverprofilepackage" ADD CONSTRAINT "rhn_sprofile_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverprofilepackage" ADD CONSTRAINT "rhn_sprofile_evrid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncryptokey" ADD CONSTRAINT "rhn_cryptokey_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncryptokey" ADD CONSTRAINT "rhn_cryptokey_cktid_fk" FOREIGN KEY ("crypto_key_type_id") REFERENCES "rhncryptokeytype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_script_expanded" ADD CONSTRAINT "dc_scriptexpanded_bid_sn_fk" FOREIGN KEY ("bug_id","seq_no") REFERENCES "db_change_script" ("bug_id","seq_no") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_schedule_days" ADD CONSTRAINT "rhn_schdy_sched_schedule_id_fk" FOREIGN KEY ("schedule_id") REFERENCES "rhn_schedules" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesensemap" ADD CONSTRAINT "rhn_pkg_sensemap_sid_fk" FOREIGN KEY ("sense_id") REFERENCES "rhnpackagesense" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserinfopane" ADD CONSTRAINT "rhn_usr_info_pane_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserinfopane" ADD CONSTRAINT "rhn_usr_info_pane_pid_fk" FOREIGN KEY ("pane_id") REFERENCES "rhninfopane" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverchannel" ADD CONSTRAINT "rhn_sc_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverchannel" ADD CONSTRAINT "rhn_sc_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverarch" ADD CONSTRAINT "rhn_sarch_atid_fk" FOREIGN KEY ("arch_type_id") REFERENCES "rhnarchtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackageconflicts" ADD CONSTRAINT "rhn_pkg_conflicts_package_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackageconflicts" ADD CONSTRAINT "rhn_pkg_conflicts_cap_fk" FOREIGN KEY ("capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtshutdown" ADD CONSTRAINT "rhn_avshutdown_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_parent_ch_fk" FOREIGN KEY ("parent_channel") REFERENCES "rhnchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_org_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_caid_fk" FOREIGN KEY ("channel_arch_id") REFERENCES "rhnchannelarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_product_name_ch_fk" FOREIGN KEY ("product_name_id") REFERENCES "rhnproductname" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannel" ADD CONSTRAINT "rhn_channel_cpid_fk" FOREIGN KEY ("channel_product_id") REFERENCES "rhnchannelproduct" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntaskqueue" ADD CONSTRAINT "rhn_task_queue_org_id_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratacve" ADD CONSTRAINT "rhn_err_cve_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratacve" ADD CONSTRAINT "rhn_err_cve_cid_fk" FOREIGN KEY ("cve_id") REFERENCES "rhncve" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_config_parameter" ADD CONSTRAINT "rhn_confp_grpnm_group_name_fk" FOREIGN KEY ("group_name") REFERENCES "rhn_config_group" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_config_parameter" ADD CONSTRAINT "rhn_confp_scrty_sec_type_fk" FOREIGN KEY ("security_type") REFERENCES "rhn_config_security_type" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokengroups" ADD CONSTRAINT "rhn_reg_tok_grp_id_fk" FOREIGN KEY ("token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokengroups" ADD CONSTRAINT "rhn_reg_tok_grp_sgs_fk" FOREIGN KEY ("server_group_id") REFERENCES "rhnservergroup" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatch" ADD CONSTRAINT "rhn_solaris_p_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatch" ADD CONSTRAINT "rhn_solaris_p_pt_fk" FOREIGN KEY ("patch_type") REFERENCES "rhnsolarispatchtype" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstarttimezone" ADD CONSTRAINT "rhn_ks_timezone_it_fk" FOREIGN KEY ("install_type") REFERENCES "rhnksinstalltype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratatmp" ADD CONSTRAINT "rhn_erratatmp_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_url_probe_step" ADD CONSTRAINT "rhn_urlps_urlpb_url_pr_id_fk" FOREIGN KEY ("url_probe_id") REFERENCES "rhn_url_probe" ("probe_id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_vii_fk" FOREIGN KEY ("virtual_instance_id") REFERENCES "rhnvirtualinstance" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_et_fk" FOREIGN KEY ("event_type") REFERENCES "rhnvirtualinstanceeventtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_old_state_fk" FOREIGN KEY ("old_state") REFERENCES "rhnvirtualinstancestate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceeventlog" ADD CONSTRAINT "rhn_viel_new_state_fk" FOREIGN KEY ("new_state") REFERENCES "rhnvirtualinstancestate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_queue_instances" ADD CONSTRAINT "rhn_cqins_cqcmd_command_id_fk" FOREIGN KEY ("command_id") REFERENCES "rhn_command_queue_commands" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_cmmnd_command_id_fk" FOREIGN KEY ("command_id") REFERENCES "rhn_command" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_cstmr_customer_id_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_probe" ADD CONSTRAINT "rhn_probe_prbtp_probe_type_fk" FOREIGN KEY ("probe_type") REFERENCES "rhn_probe_types" ("probe_type") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntag" ADD CONSTRAINT "rhn_tag_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhntagname" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntag" ADD CONSTRAINT "rhn_tag_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverhistory" ADD CONSTRAINT "rhn_serverhistory_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstance" ADD CONSTRAINT "rhn_vi_hsi_fk" FOREIGN KEY ("host_system_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstance" ADD CONSTRAINT "rhn_vi_vsi_fk" FOREIGN KEY ("virtual_system_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_probe_param_value" ADD CONSTRAINT "rhn_ppval_chkpb_probe_id_fk" FOREIGN KEY ("probe_id") REFERENCES "rhn_probe" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_probe_param_value" ADD CONSTRAINT "rhn_ppval_cmd_id_parm_nm_fk" FOREIGN KEY ("command_id","param_name") REFERENCES "rhn_command_parameter" ("command_id","param_name") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilechanneltmp" ADD CONSTRAINT "rhn_efilectmp_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilechanneltmp" ADD CONSTRAINT "rhn_efilectmp_eid_fk" FOREIGN KEY ("errata_file_id") REFERENCES "rhnerratafiletmp" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelpackagearchcompat" ADD CONSTRAINT "rhn_cp_ac_caid_fk" FOREIGN KEY ("channel_arch_id") REFERENCES "rhnchannelarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelpackagearchcompat" ADD CONSTRAINT "rhn_cp_ac_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnram" ADD CONSTRAINT "rhn_ram_server_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorginfo" ADD CONSTRAINT "rhn_orginfo_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorginfo" ADD CONSTRAINT "rhn_orginfo_dgt_fk" FOREIGN KEY ("default_group_type") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartscript" ADD CONSTRAINT "rhn_ksscript_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_node_probe" ADD CONSTRAINT "rhn_sndpb_pr_recid_pr_typ_fk" FOREIGN KEY ("probe_id","probe_type") REFERENCES "rhn_probe" ("recid","probe_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_node_probe" ADD CONSTRAINT "rhn_sndpb_satnd_sat_nd_id_fk" FOREIGN KEY ("sat_node_id") REFERENCES "rhn_sat_node" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntemplatestring" ADD CONSTRAINT "rhn_template_str_cid_fk" FOREIGN KEY ("category_id") REFERENCES "rhntemplatecategory" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtreboot" ADD CONSTRAINT "rhn_avreboot_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_snmp_alert" ADD CONSTRAINT "rhn_snmp_alert_sat_cluster_fk" FOREIGN KEY ("sender_cluster_id") REFERENCES "rhn_sat_cluster" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergrouptypefeature" ADD CONSTRAINT "rhn_sgt_sgid_fk" FOREIGN KEY ("server_group_type_id") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergrouptypefeature" ADD CONSTRAINT "rhn_sgt_fid_fk" FOREIGN KEY ("feature_id") REFERENCES "rhnfeature" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_cb_fk" FOREIGN KEY ("created_by") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncustomdatakey" ADD CONSTRAINT "rhn_cdatakey_lmb_fk" FOREIGN KEY ("last_modified_by") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_service_probe_origins" ADD CONSTRAINT "rhn_srvpo_chkpb_orig_pr_id_fk" FOREIGN KEY ("origin_probe_id") REFERENCES "rhn_check_suite_probe" ("probe_id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_service_probe_origins" ADD CONSTRAINT "rhn_srvpo_pr_serv_pr_fk" FOREIGN KEY ("service_probe_id") REFERENCES "rhn_probe" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratakeywordtmp" ADD CONSTRAINT "rhn_err_keywordtmp_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerratatmp" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverinfo" ADD CONSTRAINT "rhn_server_info_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpath" ADD CONSTRAINT "rhn_serverpath_psid_fk" FOREIGN KEY ("proxy_server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelparent" ADD CONSTRAINT "rhn_cp_ch_fk" FOREIGN KEY ("channel") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelparent" ADD CONSTRAINT "rhn_cp_parent_ch_fk" FOREIGN KEY ("parent_channel") REFERENCES "rhnchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerrataclonedtmp" ADD CONSTRAINT "rhn_eclonedtmp_feid_fk" FOREIGN KEY ("original_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerrataclonedtmp" ADD CONSTRAINT "rhn_eclonedtmp_teid_fk" FOREIGN KEY ("id") REFERENCES "rhnerratatmp" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnset" ADD CONSTRAINT "rhn_set_user_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionkickstart" ADD CONSTRAINT "rhn_actionks_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionkickstart" ADD CONSTRAINT "rhn_actionks_kstid_fk" FOREIGN KEY ("kstree_id") REFERENCES "rhnkickstartabletree" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_kstid_fk" FOREIGN KEY ("kstree_id") REFERENCES "rhnkickstartabletree" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_sched_fk" FOREIGN KEY ("scheduler") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_osid_fk" FOREIGN KEY ("old_server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_nsid_fk" FOREIGN KEY ("new_server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_hsid_fk" FOREIGN KEY ("host_server_id") REFERENCES "rhnserver" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_ksssid_fk" FOREIGN KEY ("state_id") REFERENCES "rhnkickstartsessionstate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_ks_session_spid_fk" FOREIGN KEY ("server_profile_id") REFERENCES "rhnserverprofile" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsession" ADD CONSTRAINT "rhn_kss_kvt_fk" FOREIGN KEY ("virtualization_type") REFERENCES "rhnkickstartvirtualizationtype" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageorder" ADD CONSTRAINT "rhn_act_pkg_apid_fk" FOREIGN KEY ("action_package_id") REFERENCES "rhnactionpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_usergroup_type_fk" FOREIGN KEY ("group_type") REFERENCES "rhnusergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnusergroup" ADD CONSTRAINT "rhn_user_group_org_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkstreefile" ADD CONSTRAINT "rhn_kstreefile_kid_fk" FOREIGN KEY ("kstree_id") REFERENCES "rhnkickstartabletree" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorgerratacachequeue" ADD CONSTRAINT "rhn_oecq_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratabuglisttmp" ADD CONSTRAINT "rhn_errata_buglisttmp_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerratatmp" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratakeyword" ADD CONSTRAINT "rhn_err_keyword_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhngrailcomponents" ADD CONSTRAINT "rhn_grail_comp_role_type_fk" FOREIGN KEY ("role_required") REFERENCES "rhnusergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveraction" ADD CONSTRAINT "rhn_server_action_status_fk" FOREIGN KEY ("status") REFERENCES "rhnactionstatus" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_group_members" ADD CONSTRAINT "rhn_cntgm_cgid_fk" FOREIGN KEY ("contact_group_id") REFERENCES "rhn_contact_groups" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_group_members" ADD CONSTRAINT "rhn_cntgm_mcmid_fk" FOREIGN KEY ("member_contact_method_id") REFERENCES "rhn_contact_methods" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_group_members" ADD CONSTRAINT "rhn_cntgm_mcgid_fk" FOREIGN KEY ("member_contact_group_id") REFERENCES "rhn_contact_groups" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverchannelarchcompat" ADD CONSTRAINT "rhn_sc_ac_said_fk" FOREIGN KEY ("server_arch_id") REFERENCES "rhnserverarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverchannelarchcompat" ADD CONSTRAINT "rhn_sc_ac_caid_fk" FOREIGN KEY ("channel_arch_id") REFERENCES "rhnchannelarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_cmdtg_rid_tar_ty_fk" FOREIGN KEY ("recid","target_type") REFERENCES "rhn_command_target" ("recid","target_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_node" ADD CONSTRAINT "rhn_satnd_satcl_sat_cl_id_fk" FOREIGN KEY ("sat_cluster_id") REFERENCES "rhn_sat_cluster" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_capid_fk" FOREIGN KEY ("capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageremovalfailure" ADD CONSTRAINT "rhn_apr_failure_suggested_fk" FOREIGN KEY ("suggested") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_ccid_fk" FOREIGN KEY ("config_channel_id") REFERENCES "rhnconfigchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_cfnid_fk" FOREIGN KEY ("config_file_name_id") REFERENCES "rhnconfigfilename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_sid_fk" FOREIGN KEY ("state_id") REFERENCES "rhnconfigfilestate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigfile" ADD CONSTRAINT "rhn_conffile_lcrid_fk" FOREIGN KEY ("latest_config_revision_id") REFERENCES "rhnconfigrevision" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartcommand" ADD CONSTRAINT "rhn_kscommand_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartcommand" ADD CONSTRAINT "rhn_kscommand_kcnid_fk" FOREIGN KEY ("ks_command_name_id") REFERENCES "rhnkickstartcommandname" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_cfid_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilylicenseconsent" ADD CONSTRAINT "rhn_cfl_consent_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagechangelog" ADD CONSTRAINT "rhn_pkg_changelog_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverdmi" ADD CONSTRAINT "rhn_server_dmi_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_user_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserinfo" ADD CONSTRAINT "rhn_user_info_tzid_fk" FOREIGN KEY ("timezone_id") REFERENCES "rhntimezone" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_srid_fk" FOREIGN KEY ("source_rpm_id") REFERENCES "rhnsourcerpm" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesource" ADD CONSTRAINT "rhn_pkgsrc_group_fk" FOREIGN KEY ("package_group") REFERENCES "rhnpackagegroup" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhngrailcomponentchoices" ADD CONSTRAINT "rhn_grail_comp_ch_user_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpreservefilelist" ADD CONSTRAINT "rhn_serverpfl_ksid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpreservefilelist" ADD CONSTRAINT "rhn_serverpfl_flid_fk" FOREIGN KEY ("file_list_id") REFERENCES "rhnfilelist" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionpackageresult" ADD CONSTRAINT "rhn_sap_result_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionpackageresult" ADD CONSTRAINT "rhn_sap_result_apid_fk" FOREIGN KEY ("action_package_id") REFERENCES "rhnactionpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntextmessage" ADD CONSTRAINT "rhn_tm_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "rhnmessage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_errata_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerratatmp" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafiletmp" ADD CONSTRAINT "rhn_erratafiletmp_type_fk" FOREIGN KEY ("type") REFERENCES "rhnerratafiletype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_schedules" ADD CONSTRAINT "rhn_sched_cstmr_cust_id_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_schedules" ADD CONSTRAINT "rhn_sched_schtp_sched_ty_fk" FOREIGN KEY ("schedule_type_id") REFERENCES "rhn_schedule_types" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserdefaultsystemgroups" ADD CONSTRAINT "rhn_udsg_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserdefaultsystemgroups" ADD CONSTRAINT "rhn_udsg_cidffk" FOREIGN KEY ("system_group_id") REFERENCES "rhnservergroup" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnperrataqueue" ADD CONSTRAINT "rhn_snperrqueue_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotchannel" ADD CONSTRAINT "rhn_snapchan_sid_fk" FOREIGN KEY ("snapshot_id") REFERENCES "rhnsnapshot" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotchannel" ADD CONSTRAINT "rhn_snapchan_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartdefaultregtoken" ADD CONSTRAINT "rhn_ksdrt_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartdefaultregtoken" ADD CONSTRAINT "rhn_ksdrt_rtid_fk" FOREIGN KEY ("regtoken_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtresume" ADD CONSTRAINT "rhn_avresume_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverevent" ADD CONSTRAINT "rhn_se_server_id_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "web_user_contact_permission" ADD CONSTRAINT "contperm_wbuserid_fk" FOREIGN KEY ("web_user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverinstallinfo" ADD CONSTRAINT "rhn_server_install_info_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_target" ADD CONSTRAINT "rhn_cmdtg_cstmr_customer_id_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackagedelta" ADD CONSTRAINT "rhn_act_pd_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackagedelta" ADD CONSTRAINT "rhn_act_pd_pdid_fk" FOREIGN KEY ("package_delta_id") REFERENCES "rhnpackagedelta" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncpu" ADD CONSTRAINT "rhn_cpu_server_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncpu" ADD CONSTRAINT "rhn_cpu_caid_fk" FOREIGN KEY ("cpu_arch_id") REFERENCES "rhncpuarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhndistchannelmap" ADD CONSTRAINT "rhn_dcm_caid_fk" FOREIGN KEY ("channel_arch_id") REFERENCES "rhnchannelarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhndistchannelmap" ADD CONSTRAINT "rhn_dcm_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_check_suites" ADD CONSTRAINT "rhn_cksut_cstmr_customer_id_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverneedederratacache" ADD CONSTRAINT "rhn_snec_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverneedederratacache" ADD CONSTRAINT "rhn_snec_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverneedederratacache" ADD CONSTRAINT "rhn_snec_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_cmd_id_cmd_cl_fk" FOREIGN KEY ("command_id","command_class") REFERENCES "rhn_command" ("recid","command_class") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_m_thr_m_cmd_cl_fk" FOREIGN KEY ("command_class","threshold_metric_id") REFERENCES "rhn_metrics" ("command_class","metric_id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_param_threshold" ADD CONSTRAINT "rhn_coptr_thrtp_thres_type_fk" FOREIGN KEY ("threshold_type_name") REFERENCES "rhn_threshold_type" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratapackage" ADD CONSTRAINT "rhn_err_pkg_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratapackage" ADD CONSTRAINT "rhn_err_pkg_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_cfid_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_fid_fk" FOREIGN KEY ("file_id") REFERENCES "rhnfile" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhndownloads" ADD CONSTRAINT "rhn_dl_dltype_fk" FOREIGN KEY ("download_type") REFERENCES "rhndownloadtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "rhn_chkpb_host_id_fk" FOREIGN KEY ("host_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "rhn_chkpb_recid_probe_typ_fk" FOREIGN KEY ("probe_id","probe_type") REFERENCES "rhn_probe" ("recid","probe_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_check_probe" ADD CONSTRAINT "rhn_chkpb_satcl_sat_cl_id_fk" FOREIGN KEY ("sat_cluster_id") REFERENCES "rhn_sat_cluster" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionscriptresult" ADD CONSTRAINT "rhn_serveras_result_asid_fk" FOREIGN KEY ("action_script_id") REFERENCES "rhnactionscript" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackageobsoletes" ADD CONSTRAINT "rhn_pkg_obsoletes_package_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackageobsoletes" ADD CONSTRAINT "rhn_pkg_obsoletes_cap_fk" FOREIGN KEY ("capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchanneldownloads" ADD CONSTRAINT "rhn_cd_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchanneldownloads" ADD CONSTRAINT "rhn_cd_did_fk" FOREIGN KEY ("downloads_id") REFERENCES "rhndownloads" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerrataqueue" ADD CONSTRAINT "rhn_equeue_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigdate" ADD CONSTRAINT "rhn_actioncd_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorgentitlements" ADD CONSTRAINT "rhn_org_ent_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorgentitlements" ADD CONSTRAINT "rhn_org_ent_eid_fk" FOREIGN KEY ("entitlement_id") REFERENCES "rhnorgentitlementtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_op_fk" FOREIGN KEY ("operation") REFERENCES "rhntransactionoperation" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntransactionpackage" ADD CONSTRAINT "rhn_transpack_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesyncblacklist" ADD CONSTRAINT "rhn_packagesyncbl_pnid_fk" FOREIGN KEY ("package_name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesyncblacklist" ADD CONSTRAINT "rhn_packagesyncbl_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverservergrouparchcompat" ADD CONSTRAINT "rhn_ssg_ac_said_fk" FOREIGN KEY ("server_arch_id") REFERENCES "rhnserverarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverservergrouparchcompat" ADD CONSTRAINT "rhn_ssg_ac_sgt_fk" FOREIGN KEY ("server_group_type") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservertokenregs" ADD CONSTRAINT "rhn_srv_reg_tok_tid_fk" FOREIGN KEY ("token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservertokenregs" ADD CONSTRAINT "rhn_srv_reg_tok_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactiondaemonconfig" ADD CONSTRAINT "rhn_actiondc_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverneededpackagecache" ADD CONSTRAINT "rhn_sncp_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverneededpackagecache" ADD CONSTRAINT "rhn_sncp_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverneededpackagecache" ADD CONSTRAINT "rhn_sncp_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverneededpackagecache" ADD CONSTRAINT "rhn_sncp_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncryptokeykickstart" ADD CONSTRAINT "rhn_ckey_ks_ckid_fk" FOREIGN KEY ("crypto_key_id") REFERENCES "rhncryptokey" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhncryptokeykickstart" ADD CONSTRAINT "rhn_ckey_ks_ksd_fk" FOREIGN KEY ("ksdata_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhndailysummaryqueue" ADD CONSTRAINT "rhn_dsqueue_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_os_commands_xref" ADD CONSTRAINT "rhn_oscxr_cmmnd_commands_id_fk" FOREIGN KEY ("commands_id") REFERENCES "rhn_command" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_os_commands_xref" ADD CONSTRAINT "rhn_oscxr_os000_os_id_fk" FOREIGN KEY ("os_id") REFERENCES "rhn_os" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfilelistmembers" ADD CONSTRAINT "rhn_flmembers_flid_fk" FOREIGN KEY ("file_list_id") REFERENCES "rhnfilelist" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfilelistmembers" ADD CONSTRAINT "rhn_flmembers_cfnid_fk" FOREIGN KEY ("config_file_name_id") REFERENCES "rhnconfigfilename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelcloned" ADD CONSTRAINT "rhn_channelclone_fcid_fk" FOREIGN KEY ("original_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelcloned" ADD CONSTRAINT "rhn_channelclone_tcid_fk" FOREIGN KEY ("id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvisibleobjects" ADD CONSTRAINT "rhn_vis_objs_sess_fk" FOREIGN KEY ("pxt_session_id") REFERENCES "pxtsessions" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactivationkey" ADD CONSTRAINT "rhn_act_key_reg_tid_fk" FOREIGN KEY ("reg_token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactivationkey" ADD CONSTRAINT "rhn_act_key_ks_sid_fk" FOREIGN KEY ("ks_session_id") REFERENCES "rhnkickstartsession" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagesignature" ADD CONSTRAINT "rhn_pkg_sig_tid_fk" FOREIGN KEY ("type_id") REFERENCES "rhnpackagesigtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsatelliteinfo" ADD CONSTRAINT "rhn_satellite_info_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotconfigrevision" ADD CONSTRAINT "rhn_snapshotcr_sid_fk" FOREIGN KEY ("snapshot_id") REFERENCES "rhnsnapshot" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotconfigrevision" ADD CONSTRAINT "rhn_snapshotcr_crid_fk" FOREIGN KEY ("config_revision_id") REFERENCES "rhnconfigrevision" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_units" ADD CONSTRAINT "rhn_units_qnta0_quantum_id_fk" FOREIGN KEY ("quantum_id") REFERENCES "rhn_quanta" ("quantum_id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactiontransactions" ADD CONSTRAINT "rhn_at_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactiontransactions" ADD CONSTRAINT "rhn_at_ftid_fk" FOREIGN KEY ("from_trans_id") REFERENCES "rhntransaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactiontransactions" ADD CONSTRAINT "rhn_at_ttid_fk" FOREIGN KEY ("to_trans_id") REFERENCES "rhntransaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfile" ADD CONSTRAINT "rhn_file_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirect_method_targets" ADD CONSTRAINT "rhn_rdrmt_cmeth_redirect_id_fk" FOREIGN KEY ("contact_method_id") REFERENCES "rhn_contact_methods" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirect_method_targets" ADD CONSTRAINT "rhn_rdrmt_rdrct_redirect_id_fk" FOREIGN KEY ("redirect_id") REFERENCES "rhn_redirects" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceinstalllog" ADD CONSTRAINT "rhn_viil_ks_sid_fk" FOREIGN KEY ("ks_session_id") REFERENCES "rhnkickstartsession" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverlocation" ADD CONSTRAINT "rhn_serverlocation_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_db_environment" ADD CONSTRAINT "rhn_dbenv_envir_environment_fk" FOREIGN KEY ("environment") REFERENCES "rhn_environment" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartchildchannel" ADD CONSTRAINT "rhn_ks_cc_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartchildchannel" ADD CONSTRAINT "rhn_ks_cc_ksd_fk" FOREIGN KEY ("ksdata_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnusermessage" ADD CONSTRAINT "rhn_um_user_id_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnusermessage" ADD CONSTRAINT "rhn_um_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "rhnmessage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnusermessage" ADD CONSTRAINT "rhn_um_status_fk" FOREIGN KEY ("status") REFERENCES "rhnusermessagestatus" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_bid_sn_fk" FOREIGN KEY ("bug_id","seq_no") REFERENCES "db_change_script" ("bug_id","seq_no") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_rt_rn_fk" FOREIGN KEY ("resource_type","resource_name") REFERENCES "db_change_resource_names" ("resource_type","resource_name") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_resources" ADD CONSTRAINT "dc_resources_ct_fk" FOREIGN KEY ("change_type") REFERENCES "db_change_resource_changes" ("change_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionscript" ADD CONSTRAINT "rhn_actscript_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilepackage" ADD CONSTRAINT "rhn_efilep_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilepackage" ADD CONSTRAINT "rhn_efilep_fileid_fk" FOREIGN KEY ("errata_file_id") REFERENCES "rhnerratafile" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelpackage" ADD CONSTRAINT "rhn_cp_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelpackage" ADD CONSTRAINT "rhn_cp_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservernotes" ADD CONSTRAINT "rhn_servernotes_creator_fk" FOREIGN KEY ("creator") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservernotes" ADD CONSTRAINT "rhn_servernotes_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_history" ADD CONSTRAINT "dc_history_bid_sn_fk" FOREIGN KEY ("bug_id","seq_no") REFERENCES "db_change_script" ("bug_id","seq_no") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsatellitechannelfamily" ADD CONSTRAINT "rhn_sat_cf_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsatellitechannelfamily" ADD CONSTRAINT "rhn_sat_cf_cfid_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchedpackage" ADD CONSTRAINT "rhn_solaris_patchedp_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchedpackage" ADD CONSTRAINT "rhn_solaris_patchedp_pid_fk" FOREIGN KEY ("patch_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchedpackage" ADD CONSTRAINT "rhn_solaris_patchedp_pnid_fk" FOREIGN KEY ("package_nevra_id") REFERENCES "rhnpackagenevra" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnproxyinfo" ADD CONSTRAINT "rhn_proxy_info_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnproxyinfo" ADD CONSTRAINT "rhn_proxy_info_peid_fk" FOREIGN KEY ("proxy_evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_creator_fk" FOREIGN KEY ("creator") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergroupnotes" ADD CONSTRAINT "rhn_servergrp_note_fk" FOREIGN KEY ("server_group_id") REFERENCES "rhnservergroup" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotservergroup" ADD CONSTRAINT "rhn_snapshotsg_sid_fk" FOREIGN KEY ("snapshot_id") REFERENCES "rhnsnapshot" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotservergroup" ADD CONSTRAINT "rhn_snapshotsg_sgid_fk" FOREIGN KEY ("server_group_id") REFERENCES "rhnservergroup" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackageanswerfile" ADD CONSTRAINT "rhn_act_p_af_apid_fk" FOREIGN KEY ("action_package_id") REFERENCES "rhnactionpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpublicchannelfamily" ADD CONSTRAINT "rhn_pubcf_cfid_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotpackage" ADD CONSTRAINT "rhn_snapshotpkg_sid_fk" FOREIGN KEY ("snapshot_id") REFERENCES "rhnsnapshot" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotpackage" ADD CONSTRAINT "rhn_snapshotpkg_nid_fk" FOREIGN KEY ("nevra_id") REFERENCES "rhnpackagenevra" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_server_monitoring_info" ADD CONSTRAINT "rhn_host_server_id_fk" FOREIGN KEY ("recid") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_server_monitoring_info" ADD CONSTRAINT "rhn_host_server_name_fk" FOREIGN KEY ("os_id") REFERENCES "rhn_os" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilyvirtsublevel" ADD CONSTRAINT "rhn_cfvsl_cfid_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilyvirtsublevel" ADD CONSTRAINT "rhn_cfvsl_vslid_fk" FOREIGN KEY ("virt_sub_level_id") REFERENCES "rhnvirtsublevel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenconfigchannels" ADD CONSTRAINT "rhn_regtok_confchan_tid_fk" FOREIGN KEY ("token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenconfigchannels" ADD CONSTRAINT "rhn_regtok_confchan_ccid_fk" FOREIGN KEY ("config_channel_id") REFERENCES "rhnconfigchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtrefresh" ADD CONSTRAINT "rhn_avrefresh_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnappinstallsessiondata" ADD CONSTRAINT "rhn_appinst_sdata_sid_fk" FOREIGN KEY ("session_id") REFERENCES "rhnappinstallsession" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_queue_sessions" ADD CONSTRAINT "rhn_cqses_cntct_contact_idfk" FOREIGN KEY ("contact_id") REFERENCES "web_contact" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnprivatechannelfamily" ADD CONSTRAINT "rhn_privcf_cfid_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnprivatechannelfamily" ADD CONSTRAINT "rhn_privcf_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenorgdefault" ADD CONSTRAINT "rhn_reg_token_def_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenorgdefault" ADD CONSTRAINT "rhn_reg_token_def_tokid_fk" FOREIGN KEY ("reg_token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_act_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_name_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_evr_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionpackage" ADD CONSTRAINT "rhn_act_p_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchsetmembers" ADD CONSTRAINT "rhn_solaris_psm_pid_fk" FOREIGN KEY ("patch_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchsetmembers" ADD CONSTRAINT "rhn_solaris_psm_psid_fk" FOREIGN KEY ("patch_set_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservercacheinfo" ADD CONSTRAINT "rhn_server_cache_info_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserserverprefs" ADD CONSTRAINT "rhn_userserverprefs_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigchannel" ADD CONSTRAINT "rhn_confchan_ctid_fk" FOREIGN KEY ("confchan_type_id") REFERENCES "rhnconfigchanneltype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirect_criteria" ADD CONSTRAINT "rhn_rdrcr_rdrct_redirect_id_fk" FOREIGN KEY ("redirect_id") REFERENCES "rhn_redirects" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirect_criteria" ADD CONSTRAINT "rhn_rdrcr_rdrmt_match_nm_fk" FOREIGN KEY ("match_param") REFERENCES "rhn_redirect_match_types" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilechannel" ADD CONSTRAINT "rhn_efilec_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilechannel" ADD CONSTRAINT "rhn_efilec_eid_fk" FOREIGN KEY ("errata_file_id") REFERENCES "rhnerratafile" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfilelocation" ADD CONSTRAINT "rhn_fileloc_fid_fk" FOREIGN KEY ("file_id") REFERENCES "rhnfile" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_kid_fk" FOREIGN KEY ("key_id") REFERENCES "rhncustomdatakey" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_cb_fk" FOREIGN KEY ("created_by") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservercustomdatavalue" ADD CONSTRAINT "rhn_scdv_lmb_fk" FOREIGN KEY ("last_modified_by") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_metrics" ADD CONSTRAINT "rhn_metrc_comcl_cmd_class_fk" FOREIGN KEY ("command_class") REFERENCES "rhn_command_class" ("class_name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_metrics" ADD CONSTRAINT "rhn_metrc_uts_stor_ut_id_fk" FOREIGN KEY ("storage_unit_id") REFERENCES "rhn_units" ("unit_id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartpreservefilelist" ADD CONSTRAINT "rhn_kspreservefl_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartpreservefilelist" ADD CONSTRAINT "rhn_kspreservefl_flid_fk" FOREIGN KEY ("file_list_id") REFERENCES "rhnfilelist" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchpackages" ADD CONSTRAINT "rhn_solaris_pp_fk" FOREIGN KEY ("patch_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchpackages" ADD CONSTRAINT "rhn_solaris_pnid_fk" FOREIGN KEY ("package_nevra_id") REFERENCES "rhnpackagenevra" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtoken" ADD CONSTRAINT "rhn_reg_token_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "personal_info_web_user_id_fk" FOREIGN KEY ("web_user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "web_user_personal_info" ADD CONSTRAINT "wupi_prefix_fk" FOREIGN KEY ("prefix") REFERENCES "web_user_prefix" ("text") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_said_fk" FOREIGN KEY ("server_arch_id") REFERENCES "rhnserverarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_creator_fk" FOREIGN KEY ("creator_id") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserver" ADD CONSTRAINT "rhn_server_psid_fk" FOREIGN KEY ("provision_state_id") REFERENCES "rhnprovisionstate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverconfigchannel" ADD CONSTRAINT "rhn_servercc_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverconfigchannel" ADD CONSTRAINT "rhn_servercc_ccid_fk" FOREIGN KEY ("config_channel_id") REFERENCES "rhnconfigchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotconfigchannel" ADD CONSTRAINT "rhn_snapshotcc_sid_fk" FOREIGN KEY ("snapshot_id") REFERENCES "rhnsnapshot" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshotconfigchannel" ADD CONSTRAINT "rhn_snapshotcc_ccid_fk" FOREIGN KEY ("config_channel_id") REFERENCES "rhnconfigchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_resource_names" ADD CONSTRAINT "dc_resourcename_rt_fk" FOREIGN KEY ("resource_type") REFERENCES "db_change_resource_types" ("resource_type") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnclientcapability" ADD CONSTRAINT "rhn_clientcap_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnclientcapability" ADD CONSTRAINT "rhn_clientcap_cap_nid_fk" FOREIGN KEY ("capability_name_id") REFERENCES "rhnclientcapabilityname" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshottag" ADD CONSTRAINT "rhn_st_ssid_fk" FOREIGN KEY ("snapshot_id") REFERENCES "rhnsnapshot" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshottag" ADD CONSTRAINT "rhn_st_tid_fk" FOREIGN KEY ("tag_id") REFERENCES "rhntag" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshottag" ADD CONSTRAINT "rhn_st_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsgtypevirtsublevel" ADD CONSTRAINT "rhn_sgtvsl_sgtid_fk" FOREIGN KEY ("server_group_type_id") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsgtypevirtsublevel" ADD CONSTRAINT "rhn_sgtvsl_vslid_fk" FOREIGN KEY ("virt_sub_level_id") REFERENCES "rhnvirtsublevel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfilelist" ADD CONSTRAINT "rhn_filelist_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratapackagetmp" ADD CONSTRAINT "rhn_err_pkgtmp_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerratatmp" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratapackagetmp" ADD CONSTRAINT "rhn_err_pkgtmp_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_invalid_fk" FOREIGN KEY ("invalid") REFERENCES "rhnsnapshotinvalidreason" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnapshot" ADD CONSTRAINT "rhn_snapshot_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilylicense" ADD CONSTRAINT "rhn_cfl_cfid_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnversioninfo" ADD CONSTRAINT "rhn_versioninfo_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnversioninfo" ADD CONSTRAINT "rhn_versioninfo_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnemailaddresslog" ADD CONSTRAINT "rhn_eaddresslog_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_at_fk" FOREIGN KEY ("action_type") REFERENCES "rhnactiontype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_scheduler_fk" FOREIGN KEY ("scheduler") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnaction" ADD CONSTRAINT "rhn_action_prereq_fk" FOREIGN KEY ("prerequisite") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_pnid_fk" FOREIGN KEY ("package_name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_peid_fk" FOREIGN KEY ("package_evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifyresult" ADD CONSTRAINT "rhn_sactionvr_pcid_fk" FOREIGN KEY ("package_capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "valid_countries_tl" ADD CONSTRAINT "valid_countries_tl_code" FOREIGN KEY ("code") REFERENCES "valid_countries" ("code") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnwebcontactchangelog" ADD CONSTRAINT "rhn_wcon_cl_wcon_id_fk" FOREIGN KEY ("web_contact_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnwebcontactchangelog" ADD CONSTRAINT "rhn_wcon_cl_wcon_from_id_fk" FOREIGN KEY ("web_contact_from_id") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnwebcontactchangelog" ADD CONSTRAINT "rhn_wcon_cl_csid_fk" FOREIGN KEY ("change_state_id") REFERENCES "rhnwebcontactchangestate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnksdata" ADD CONSTRAINT "rhn_ks_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnusergroupmembers" ADD CONSTRAINT "rhn_ugmembers_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnusergroupmembers" ADD CONSTRAINT "rhn_ugmembers_ugid_fk" FOREIGN KEY ("user_group_id") REFERENCES "rhnusergroup" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_script_source" ADD CONSTRAINT "dc_scriptsource_bid_sn_fk" FOREIGN KEY ("bug_id","seq_no") REFERENCES "db_change_script" ("bug_id","seq_no") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsgtypebaseaddoncompat" ADD CONSTRAINT "rhn_sgt_bac_bid_fk" FOREIGN KEY ("base_id") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsgtypebaseaddoncompat" ADD CONSTRAINT "rhn_sgt_bac_aid_fk" FOREIGN KEY ("addon_id") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenentitlement" ADD CONSTRAINT "rhn_reg_tok_ent_rtid_fk" FOREIGN KEY ("reg_token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenentitlement" ADD CONSTRAINT "rhn_reg_tok_ent_sgtid_fk" FOREIGN KEY ("server_group_type_id") REFERENCES "rhnservergrouptype" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackageprovides" ADD CONSTRAINT "rhn_pkg_provides_package_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackageprovides" ADD CONSTRAINT "rhn_pkg_provides_capability_fk" FOREIGN KEY ("capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_cmd_command_id_fk" FOREIGN KEY ("command_id") REFERENCES "rhn_command" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_sdtyp_name_fk" FOREIGN KEY ("data_type_name") REFERENCES "rhn_semantic_data_type" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_parameter" ADD CONSTRAINT "rhn_cparm_wdgt_fld_wdgt_n_fk" FOREIGN KEY ("field_widget_name") REFERENCES "rhn_widget" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtvcpu" ADD CONSTRAINT "rhn_avcpu_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergroupmembers" ADD CONSTRAINT "rhn_sg_members_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergroupmembers" ADD CONSTRAINT "rhn_sg_groups_fk" FOREIGN KEY ("server_group_id") REFERENCES "rhnservergroup" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsatelliteservergroup" ADD CONSTRAINT "rhn_satsg_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnsatelliteinfo" ("server_id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsatelliteservergroup" ADD CONSTRAINT "rhn_satsg_sgtype_fk" FOREIGN KEY ("server_group_type") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_type_fk" FOREIGN KEY ("group_type") REFERENCES "rhnservergrouptype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservergroup" ADD CONSTRAINT "rhn_servergroup_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_ignore_errs" ADD CONSTRAINT "dc_ignorerrs_bid_sn_fk" FOREIGN KEY ("bug_id","seq_no") REFERENCES "db_change_script" ("bug_id","seq_no") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilymembers" ADD CONSTRAINT "rhn_cf_members_c_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamilymembers" ADD CONSTRAINT "rhn_cf_family_fk" FOREIGN KEY ("channel_family_id") REFERENCES "rhnchannelfamily" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelnewestpackage" ADD CONSTRAINT "rhn_cnp_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionkickstartfilelist" ADD CONSTRAINT "rhn_actionksfl_askid_fk" FOREIGN KEY ("action_ks_id") REFERENCES "rhnactionkickstart" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionkickstartfilelist" ADD CONSTRAINT "rhn_actionksfl_flid_fk" FOREIGN KEY ("file_list_id") REFERENCES "rhnfilelist" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorgquota" ADD CONSTRAINT "rhn_orgquota_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsnpserverqueue" ADD CONSTRAINT "rhn_sec_np_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_pnid_fk" FOREIGN KEY ("package_name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_peid_fk" FOREIGN KEY ("package_evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveractionverifymissing" ADD CONSTRAINT "rhn_sactionvm_pcid_fk" FOREIGN KEY ("package_capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigrevisionresult" ADD CONSTRAINT "rhn_actioncfr_acrid_fk" FOREIGN KEY ("action_config_revision_id") REFERENCES "rhnactionconfigrevision" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_said_fk" FOREIGN KEY ("server_arch_id") REFERENCES "rhnserverarch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpackagearchcompat" ADD CONSTRAINT "rhn_sp_ac_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_bcid_fk" FOREIGN KEY ("base_channel") REFERENCES "rhnchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverprofile" ADD CONSTRAINT "rhn_server_profile_ptype_fk" FOREIGN KEY ("profile_type_id") REFERENCES "rhnserverprofiletype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfiledownload" ADD CONSTRAINT "rhn_filedl_fid_fk" FOREIGN KEY ("file_id") REFERENCES "rhnfile" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnfiledownload" ADD CONSTRAINT "rhn_filedl_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratanotificationqueue" ADD CONSTRAINT "rhn_enqueue_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratanotificationqueue" ADD CONSTRAINT "rhn_enqueue_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_wcid_fk" FOREIGN KEY ("web_contact_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsavedsearch" ADD CONSTRAINT "rhn_savedsearch_type_fk" FOREIGN KEY ("type") REFERENCES "rhnsavedsearchtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenchannels" ADD CONSTRAINT "rhn_reg_tok_chn_id_fk" FOREIGN KEY ("token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenchannels" ADD CONSTRAINT "rhn_reg_tok_chn_sgs_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserserverperms" ADD CONSTRAINT "rhn_usperms_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserserverperms" ADD CONSTRAINT "rhn_usperms_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_group_fk" FOREIGN KEY ("package_group") REFERENCES "rhnpackagegroup" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackage" ADD CONSTRAINT "rhn_package_srcrpmid_fk" FOREIGN KEY ("source_rpm_id") REFERENCES "rhnsourcerpm" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_viid_fk" FOREIGN KEY ("instance_id") REFERENCES "rhnvirtualinstance" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_it_fk" FOREIGN KEY ("instance_type") REFERENCES "rhnvirtualinstancetype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnvirtualinstanceinfo" ADD CONSTRAINT "rhn_vii_state_fk" FOREIGN KEY ("state") REFERENCES "rhnvirtualinstancestate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpathchannelmap" ADD CONSTRAINT "rhn_path_channel_map_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnproduct" ADD CONSTRAINT "rhn_product_cat_fk" FOREIGN KEY ("product_line_id") REFERENCES "rhnproductline" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_cfid_fk" FOREIGN KEY ("config_file_id") REFERENCES "rhnconfigfile" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_ccid_fk" FOREIGN KEY ("config_content_id") REFERENCES "rhnconfigcontent" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_ciid_fk" FOREIGN KEY ("config_info_id") REFERENCES "rhnconfiginfo" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_conf_rev_cfti_fk" FOREIGN KEY ("config_file_type_id") REFERENCES "rhnconfigfiletype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnconfigrevision" ADD CONSTRAINT "rhn_confrevision_cid_fk" FOREIGN KEY ("changed_by_id") REFERENCES "web_contact" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirect_group_targets" ADD CONSTRAINT "rhn_rdrgt_rdrct_redirect_id_fk" FOREIGN KEY ("redirect_id") REFERENCES "rhn_redirects" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelerrata" ADD CONSTRAINT "rhn_ce_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelerrata" ADD CONSTRAINT "rhn_ce_eid_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_script_parsed" ADD CONSTRAINT "dbcsp_dbcsc_bug_id_seq_no_fk" FOREIGN KEY ("bug_id","seq_no") REFERENCES "db_change_script" ("bug_id","seq_no") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtschedulepoller" ADD CONSTRAINT "rhn_avsp_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtsetmemory" ADD CONSTRAINT "rhn_avsm_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionerrataupdate" ADD CONSTRAINT "rhn_act_eu_act_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionerrataupdate" ADD CONSTRAINT "rhn_act_eu_err_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnorgchannelsettings" ADD CONSTRAINT "rhn_orgcsettings_sid_fk" FOREIGN KEY ("setting_id") REFERENCES "rhnorgchannelsettingstype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserveruuid" ADD CONSTRAINT "rhn_server_uuid_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirect_email_targets" ADD CONSTRAINT "rhn_rdret_rdrct_redirect_id_fk" FOREIGN KEY ("redirect_id") REFERENCES "rhn_redirects" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_schedule_weeks" ADD CONSTRAINT "rhn_schwk_sched_comp_sched_fk" FOREIGN KEY ("component_schedule_id") REFERENCES "rhn_schedules" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_schedule_weeks" ADD CONSTRAINT "rhn_schwk_sched_sched_id_fk" FOREIGN KEY ("schedule_id") REFERENCES "rhn_schedules" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_cmdgr_group_name_fk" FOREIGN KEY ("group_name") REFERENCES "rhn_command_groups" ("group_name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_comcl_class_name_fk" FOREIGN KEY ("command_class") REFERENCES "rhn_command_class" ("class_name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command" ADD CONSTRAINT "rhn_cmmnd_sys_reqs_fk" FOREIGN KEY ("system_requirements") REFERENCES "rhn_command_requirements" ("name") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispatchset" ADD CONSTRAINT "rhn_solaris_ps_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnmonitor" ADD CONSTRAINT "rhn_monitor_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnmonitor" ADD CONSTRAINT "rhn_monitor_granularity_fk" FOREIGN KEY ("granularity") REFERENCES "rhnmonitorgranularity" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenpackages" ADD CONSTRAINT "rhn_reg_tok_pkg_id_fk" FOREIGN KEY ("token_id") REFERENCES "rhnregtoken" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnregtokenpackages" ADD CONSTRAINT "rhn_reg_tok_pkg_sgs_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "web_customer_notification" ADD CONSTRAINT "web_cust_not_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverlock" ADD CONSTRAINT "rhn_server_lock_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverlock" ADD CONSTRAINT "rhn_server_lock_lid_fk" FOREIGN KEY ("locker_id") REFERENCES "web_contact" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_errata_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafile" ADD CONSTRAINT "rhn_erratafile_type_fk" FOREIGN KEY ("type") REFERENCES "rhnerratafiletype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_cntct_contact_id_fk" FOREIGN KEY ("contact_id") REFERENCES "web_contact" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_cstmr_customer_id_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_redirects" ADD CONSTRAINT "rhn_rdrct_rdrtp_redir_type_fk" FOREIGN KEY ("redirect_type") REFERENCES "rhn_redirect_types" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntransactionelement" ADD CONSTRAINT "rhn_transelem_tid_fk" FOREIGN KEY ("transaction_id") REFERENCES "rhntransaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntransactionelement" ADD CONSTRAINT "rhn_transelem_tpid_fk" FOREIGN KEY ("transaction_package_id") REFERENCES "rhntransactionpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagedeltaelement" ADD CONSTRAINT "rhn_pdelement_pdid_fk" FOREIGN KEY ("package_delta_id") REFERENCES "rhnpackagedelta" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagedeltaelement" ADD CONSTRAINT "rhn_pdelement_tpid_fk" FOREIGN KEY ("transaction_package_id") REFERENCES "rhntransactionpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtdestroy" ADD CONSTRAINT "rhn_avd_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_ll_netsaint" ADD CONSTRAINT "rhn_llnts_sat_cluster_idfk" FOREIGN KEY ("netsaint_id") REFERENCES "rhn_sat_cluster" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratacloned" ADD CONSTRAINT "rhn_errataclone_feid_fk" FOREIGN KEY ("original_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratacloned" ADD CONSTRAINT "rhn_errataclone_teid_fk" FOREIGN KEY ("id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "db_change_history_output" ADD CONSTRAINT "dc_historyoutput_bid_sn_fk" FOREIGN KEY ("bug_id","seq_no") REFERENCES "db_change_script" ("bug_id","seq_no") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_ksid_fk" FOREIGN KEY ("ks_session_id") REFERENCES "rhnkickstartsession" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionkickstartguest" ADD CONSTRAINT "rhn_actionks_xenguest_kstid_fk" FOREIGN KEY ("kstree_id") REFERENCES "rhnkickstartabletree" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservernetwork" ADD CONSTRAINT "rhn_servernetwork_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnsolarispackage" ADD CONSTRAINT "rhn_solaris_pkg_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilepackagesource" ADD CONSTRAINT "rhn_efileps_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackagesource" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilepackagesource" ADD CONSTRAINT "rhn_efileps_fileid_fk" FOREIGN KEY ("errata_file_id") REFERENCES "rhnerratafile" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_notification_formats" ADD CONSTRAINT "rhn_ntfmt_customer_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_cidffk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelpermission" ADD CONSTRAINT "rhn_cperm_rid_fk" FOREIGN KEY ("role_id") REFERENCES "rhnchannelpermissionrole" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerrata" ADD CONSTRAINT "rhn_errata_sevid_fk" FOREIGN KEY ("severity_id") REFERENCES "rhnerrataseverity" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagefile" ADD CONSTRAINT "rhn_package_file_cid_fk" FOREIGN KEY ("capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_cluster_probe" ADD CONSTRAINT "rhn_sclpb_prb_recid_prb_typ_fk" FOREIGN KEY ("probe_id","probe_type") REFERENCES "rhn_probe" ("recid","probe_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_cluster_probe" ADD CONSTRAINT "rhn_sclpb_satcl_sat_cl_id_fk" FOREIGN KEY ("sat_cluster_id") REFERENCES "rhn_sat_cluster" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnemailaddress" ADD CONSTRAINT "rhn_eaddress_sid_fk" FOREIGN KEY ("state_id") REFERENCES "rhnemailaddressstate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelfamily" ADD CONSTRAINT "rhn_channel_family_org_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "web_contact" ADD CONSTRAINT "web_contact_org_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_kstreetype_fk" FOREIGN KEY ("kstree_type") REFERENCES "rhnkstreetype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartabletree" ADD CONSTRAINT "rhn_kstree_it_fk" FOREIGN KEY ("install_type") REFERENCES "rhnksinstalltype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservernetinterface" ADD CONSTRAINT "rhn_srv_net_iface_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratabuglist" ADD CONSTRAINT "rhn_errata_buglist_errata_fk" FOREIGN KEY ("errata_id") REFERENCES "rhnerrata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_cmdtg_recid_tar_fk" FOREIGN KEY ("recid","target_type") REFERENCES "rhn_command_target" ("recid","target_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_cstmr_customer_id_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_sat_cluster" ADD CONSTRAINT "rhn_satcl_phslc_phys_loc_fk" FOREIGN KEY ("physical_location_id") REFERENCES "rhn_physical_location" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnarchtypeactions" ADD CONSTRAINT "rhn_archtypeacts_atid_fk" FOREIGN KEY ("arch_type_id") REFERENCES "rhnarchtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnarchtypeactions" ADD CONSTRAINT "rhn_archtypeacts_actid_fk" FOREIGN KEY ("action_type_id") REFERENCES "rhnactiontype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelnewestpackageaudit" ADD CONSTRAINT "rhn_cnp_at_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnproductchannel" ADD CONSTRAINT "rhn_pc_cid_fk" FOREIGN KEY ("channel_id") REFERENCES "rhnchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnproductchannel" ADD CONSTRAINT "rhn_pc_pid_fk" FOREIGN KEY ("product_id") REFERENCES "rhnproduct" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagerequires" ADD CONSTRAINT "rhn_pkg_requires_package_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagerequires" ADD CONSTRAINT "rhn_pkg_requires_capability_fk" FOREIGN KEY ("capability_id") REFERENCES "rhnpackagecapability" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_ccid_fk" FOREIGN KEY ("config_channel_id") REFERENCES "rhnconfigchannel" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigchannel" ADD CONSTRAINT "rhn_actioncc_sid_aid_fk" FOREIGN KEY ("server_id","action_id") REFERENCES "rhnserveraction" ("server_id","action_id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_queue_params" ADD CONSTRAINT "rhn_cqprm_cqins_instance_id_fk" FOREIGN KEY ("instance_id") REFERENCES "rhn_command_queue_instances" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_ksid_fk" FOREIGN KEY ("kickstart_session_id") REFERENCES "rhnkickstartsession" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartsessionhistory" ADD CONSTRAINT "rhn_ks_sessionhist_stat_fk" FOREIGN KEY ("state_id") REFERENCES "rhnkickstartsessionstate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_host_check_suites" ADD CONSTRAINT "rhn_hstck_cksut_suite_id_fk" FOREIGN KEY ("suite_id") REFERENCES "rhn_check_suites" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_host_check_suites" ADD CONSTRAINT "rhn_hstck_hstpb_probe_id_fk" FOREIGN KEY ("host_probe_id") REFERENCES "rhn_host_probe" ("probe_id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_host_id_fk" FOREIGN KEY ("host_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_probe_probe_id_fk" FOREIGN KEY ("probe_id","probe_type") REFERENCES "rhn_probe" ("recid","probe_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_host_probe" ADD CONSTRAINT "rhn_hstpb_satcl_id_fk" FOREIGN KEY ("sat_cluster_id") REFERENCES "rhn_sat_cluster" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartiprange" ADD CONSTRAINT "rhn_ksip_oid_fk" FOREIGN KEY ("org_id") REFERENCES "web_customer" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservermessage" ADD CONSTRAINT "rhn_sm_server_id_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservermessage" ADD CONSTRAINT "rhn_sm_message_id_fk" FOREIGN KEY ("message_id") REFERENCES "rhnmessage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnservermessage" ADD CONSTRAINT "rhn_sm_se_fk" FOREIGN KEY ("server_event") REFERENCES "rhnserverevent" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionvirtsuspend" ADD CONSTRAINT "rhn_avsuspend_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnmessage" ADD CONSTRAINT "rhn_m_mt_fk" FOREIGN KEY ("message_type") REFERENCES "rhnmessagetype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnmessage" ADD CONSTRAINT "rhn_m_priority_fk" FOREIGN KEY ("priority") REFERENCES "rhnmessagepriority" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhntransaction" ADD CONSTRAINT "rhn_trans_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilepackagetmp" ADD CONSTRAINT "rhn_efileptmp_pid_fk" FOREIGN KEY ("package_id") REFERENCES "rhnpackage" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnerratafilepackagetmp" ADD CONSTRAINT "rhn_efileptmp_fileid_fk" FOREIGN KEY ("errata_file_id") REFERENCES "rhnerratafiletmp" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_kstid_fk" FOREIGN KEY ("kstree_id") REFERENCES "rhnkickstartabletree" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_spid_fk" FOREIGN KEY ("server_profile_id") REFERENCES "rhnserverprofile" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartdefaults" ADD CONSTRAINT "rhn_ksd_kvt_fk" FOREIGN KEY ("virtualization_type") REFERENCES "rhnkickstartvirtualizationtype" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "pxtsessions" ADD CONSTRAINT "pxtsessions_user" FOREIGN KEY ("web_user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagearch" ADD CONSTRAINT "rhn_parch_atid_fk" FOREIGN KEY ("arch_type_id") REFERENCES "rhnarchtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagenevra" ADD CONSTRAINT "rhn_pkgnevra_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagenevra" ADD CONSTRAINT "rhn_pkgnevra_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpackagenevra" ADD CONSTRAINT "rhn_pkgnevra_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_name_cfnid_fk" FOREIGN KEY ("config_file_name_id") REFERENCES "rhnconfigfilename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_name_crid_fk" FOREIGN KEY ("config_revision_id") REFERENCES "rhnconfigrevision" ("id") ON DELETE SET NULL NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_failure_id_fk" FOREIGN KEY ("failure_id") REFERENCES "rhnconfigfilefailure" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigfilename" ADD CONSTRAINT "rhn_actioncf_name_aid_sid_fk" FOREIGN KEY ("server_id","action_id") REFERENCES "rhnserveraction" ("server_id","action_id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_iid_fk" FOREIGN KEY ("instance_id") REFERENCES "rhnappinstallinstance" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_uid_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnappinstallsession" ADD CONSTRAINT "rhn_appinst_session_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_queue_execs" ADD CONSTRAINT "rhn_cqexe_cqins_inst_id_fk" FOREIGN KEY ("instance_id") REFERENCES "rhn_command_queue_instances" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_command_queue_execs" ADD CONSTRAINT "rhn_cqexe_satcl_nsaint_id_fk" FOREIGN KEY ("netsaint_id","target_type") REFERENCES "rhn_command_target" ("recid","target_type") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnchannelarch" ADD CONSTRAINT "rhn_carch_atid_fk" FOREIGN KEY ("arch_type_id") REFERENCES "rhnarchtype" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_check_suite_probe" ADD CONSTRAINT "rhn_ckspb_cksut_ck_suite_id_fk" FOREIGN KEY ("check_suite_id") REFERENCES "rhn_check_suites" ("recid") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_cstmr_customer_id_fk" FOREIGN KEY ("customer_id") REFERENCES "web_customer" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_cntgp_strat_strategy_id_fk" FOREIGN KEY ("strategy_id") REFERENCES "rhn_strategies" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_groups" ADD CONSTRAINT "rhn_ntfmt_cntgp_id_fk" FOREIGN KEY ("notification_format_id") REFERENCES "rhn_notification_formats" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnblacklistobsoletes" ADD CONSTRAINT "rhn_bl_obs_inid_fk" FOREIGN KEY ("ignore_name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_contact_id_fk" FOREIGN KEY ("contact_id") REFERENCES "web_contact" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_method_type_id_fk" FOREIGN KEY ("method_type_id") REFERENCES "rhn_method_types" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_pager_type_id_fk" FOREIGN KEY ("pager_type_id") REFERENCES "rhn_pager_types" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_sender_sat_clus_fk" FOREIGN KEY ("sender_sat_cluster_id") REFERENCES "rhn_sat_cluster" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_schedule_id_fk" FOREIGN KEY ("schedule_id") REFERENCES "rhn_schedules" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_contact_methods" ADD CONSTRAINT "rhn_cmeth_ntfmt_id_fk" FOREIGN KEY ("notification_format_id") REFERENCES "rhn_notification_formats" ("recid") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhn_config_macro" ADD CONSTRAINT "rhn_confm_envir_environment_fk" FOREIGN KEY ("environment") REFERENCES "rhn_environment" ("name") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "web_user_site_info" ADD CONSTRAINT "wusi_wuid_fk" FOREIGN KEY ("web_user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "web_user_site_info" ADD CONSTRAINT "wusi_type_fk" FOREIGN KEY ("type") REFERENCES "web_user_site_type" ("type") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserservergroupperms" ADD CONSTRAINT "rhn_usgp_user_fk" FOREIGN KEY ("user_id") REFERENCES "web_contact" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnuserservergroupperms" ADD CONSTRAINT "rhn_usgp_server_fk" FOREIGN KEY ("server_group_id") REFERENCES "rhnservergroup" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhndevice" ADD CONSTRAINT "rhn_device_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartpackage" ADD CONSTRAINT "rhn_kspackage_ksid_fk" FOREIGN KEY ("kickstart_id") REFERENCES "rhnksdata" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnkickstartpackage" ADD CONSTRAINT "rhn_kspackage_pnid_fk" FOREIGN KEY ("package_name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnpushclient" ADD CONSTRAINT "sys_c005067" FOREIGN KEY ("state_id") REFERENCES "rhnpushclientstate" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_aid_fk" FOREIGN KEY ("action_id") REFERENCES "rhnaction" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_crid_fk" FOREIGN KEY ("config_revision_id") REFERENCES "rhnconfigrevision" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnactionconfigrevision" ADD CONSTRAINT "rhn_actioncr_failid_fk" FOREIGN KEY ("failure_id") REFERENCES "rhnconfigfilefailure" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpackage" ADD CONSTRAINT "rhn_serverpackage_sid_fk" FOREIGN KEY ("server_id") REFERENCES "rhnserver" ("id") ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpackage" ADD CONSTRAINT "rhn_serverpackage_nid_fk" FOREIGN KEY ("name_id") REFERENCES "rhnpackagename" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpackage" ADD CONSTRAINT "rhn_serverpackage_eid_fk" FOREIGN KEY ("evr_id") REFERENCES "rhnpackageevr" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE "rhnserverpackage" ADD CONSTRAINT "rhn_serverpackage_paid_fk" FOREIGN KEY ("package_arch_id") REFERENCES "rhnpackagearch" ("id") ON DELETE NO ACTION NOT DEFERRABLE INITIALLY IMMEDIATE;

END TRANSACTION;
