<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V3.1//EN" [
<!ENTITY RHNSAT "Red Hat Satellite Server" >
<!ENTITY CDNSYNC "Red Hat Satellite Incremental Synchronization Tool for Red Hat repositories">

]>
<refentry>

<RefMeta>
<RefEntryTitle>cdn-sync</RefEntryTitle><manvolnum>8</manvolnum>
<RefMiscInfo>Version 1.0.0</RefMiscInfo>
</RefMeta>

<RefNameDiv>
<RefName><command>cdn-sync</command></RefName>
<RefPurpose>
Incrementally synchronize an Red Hat Satellite's RPM repository with Red Hat's CDN RPM repository.
</RefPurpose>
</RefNameDiv>

<RefSynopsisDiv>
<Synopsis>
    <cmdsynopsis>
        <command>cdn-sync</command>
        <arg>options <replaceable>...</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>-l</arg> <arg>--list-channels</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>-r</arg> <arg>--list-repos</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>-c<replaceable> CHANNEL</replaceable></arg>
        <arg>--channel=<replaceable>CHANNEL</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>-p</arg> <arg>--print-configuration</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--no-rpms</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--no-packages</arg>
    </cmdsynopsis>
<!--
    <cmdsynopsis>
        <arg>- -source-packages</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>- -no-source-packages</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>- -no-srpms</arg>
    </cmdsynopsis>
-->
    <cmdsynopsis>
        <arg>--no-errata</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--no-kickstarts</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--debug-level<replaceable> DEBUG_LEVEL</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--http-proxy<replaceable> HTTP_PROXY_HOSTNAME:PORT</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--http-proxy-username<replaceable> HTTP_PROXY_USERNAME</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--http-proxy-password<replaceable> HTTP_PROXY_PASSWORD</replaceable></arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>-h</arg> <arg>--help</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--count-packages</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>--clear-cache</arg>
    </cmdsynopsis>
    <cmdsynopsis>
        <arg>-v</arg> <arg>--verbose</arg>
    </cmdsynopsis>
</Synopsis>
</RefSynopsisDiv>

<RefSect1><Title>Description</Title>
<para>
    The &CDNSYNC; (<emphasis>cdn-sync</emphasis>) synchronizes
    a &RHNSAT; with Red Hat's CDN servers.
</para>
<para>
    This tool enables a &RHNSAT; to update its database metadata and
    RPM packages with that of Red Hat. This action can be performed via
    the internet (ie. directly).
</para>
<para>
        <simplelist>
            <member>o channels: sync channel data</member>
        </simplelist>
        <simplelist>
            <member>o rpms: sync (fetch) rpms</member>
        </simplelist>
        <simplelist>
            <member>o packages: sync full package metadata for those rpms fetched successfully</member>
        </simplelist>
        <simplelist>
            <member>o errata: sync errata data</member>
        </simplelist>
        <simplelist>
            <member>o kickstarts: sync kickstart data</member>
        </simplelist>
</para>
</RefSect1>

<RefSect1><Title>Options</Title>
<variablelist>
    <varlistentry>
        <term>-h, --help</term>
        <listitem>
            <para>Display the help screen with a list of options.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>-l, --list-channels</term>
        <listitem>
            <para>list all available channels for import/syncing and exit.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>-r, --list-repos</term>
        <listitem>
            <para>List all repositories assigned on channels for debug purpose only.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>-c, --channel<replaceable> CHANNEL</replaceable>
        <listitem>
            <para>process data for this channel only.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>-p, --print-configuration</term>
        <listitem>
            <para>print the current configuration and exit.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--no-rpms</term>
        <listitem>
            <para>do not fetch actual rpms.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--no-packages</term>
        <listitem>
            <para>do not process full package metadata.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--http-proxy<replaceable> HTTP_PROXY_HOSTNAME:PORT</replaceable>
        <listitem>
             <para>alternative http proxy address and port (hostname:port)</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--http-proxy-username<replaceable> HTTP_PROXY_USERNAME</replaceable>
        <listitem>
            <para>alternative http proxy username</para>
        </listitem>
    </varlistentry>

    <varlistentry>
        <term>--http-proxy-password<replaceable> HTTP_PROXY_PASSWORD</replaceable>
        <listitem>
            <para>alternative http proxy password</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--no-errata</term>
        <listitem>
            <para>do not process errata data.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--no-kickstarts</term>
        <listitem>
            <para>do not process kickstart data (provisioning feature).</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--debug-level=<replaceable>DEBUG_LEVEL</replaceable></term>
        <listitem>
            <para>Override the level (amount) of messaging to both the
            log files and the screen. This debug level is set in
            /etc/rhn/rhn.conf (the debug variable). The default setting
            (for normal levels of messaging) is 2. --debug-level can be set
            to a level between 0 (nearly no messaging) to 6 (insane amount of
            messaging).</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>-v, --verbose</term>
        <listitem>
            <para>Verbose output. Possible to accumulate: -vvv.</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--count-packages</term>
        <listitem>
            <para>Count number of packages in allrepositories for every channel</para>
        </listitem>
    </varlistentry>
    <varlistentry>
        <term>--clear-cache</term>
        <listitem>
            <para>Delete partially synced channels.</para>
        </listitem>
    </varlistentry>
</variablelist>
</RefSect1>

<!--
<RefSect1><Title>DEBUGGING and EXPERIMENTAL Options</Title>
<variablelist>
    <varlistentry>
        <term> step=[<replaceable>channels|rpms|packages|errata|kickstarts</replaceable>]</term>
        <listitem>
            <para>DEBUG ONLY:</para>
            <para>Perform the sync process *only* to the step specified</para>
            <variablelist>
                <varlistentry>
                <term>channel-families</term>
                <listitem>
                    <para>process channel family data. ***don't use this
                    option*** It is rarely used. The step, "channels",
                    or nearly any other step, will process channel families
                    as well.</para>
                </listitem>
                </varlistentry>
                <varlistentry>
                <term>channels</term>
                <listitem>
                    <para>process channel data. This option will automatically
                    enable the "arches" step.</para>
                </listitem>
                </varlistentry>
                <varlistentry>
                <term>rpms</term>
                <listitem>
                    <para>fetch rpms and fill repository. This option will
                    automatically enable the "channels" step.</para>
                </listitem>
                </varlistentry>
                <varlistentry>
                <term>packages</term>
                <listitem>
                    <para>process full package metadata (can be very slow). This
                    option will automatically enable the "rpms" step.</para>
                </listitem>
                </varlistentry>
                <varlistentry>
                <term>source-packages</term>
                <listitem>
                    <para>process source package metadata.</para>
                    <para>this option will automatically enable -step packages.</para>
                </listitem>
                </varlistentry>
                <varlistentry>
                <term>errata</term>
                <listitem>
                    <para>process errata data. This option will
                    automatically enable the "channels" step.</para>
                </listitem>
                </varlistentry>
                <varlistentry>
                <term>kickstarts</term>
                <listitem>
                    <simpara>process kickstart data (metadata and files) for
                    provisioning. This option will automatically enable the
                    "channels" step.</simpara>
                </listitem>
                </varlistentry>
            </variablelist>
        </listitem>
    </varlistentry>
</variablelist>
</RefSect1>
-->


<RefSect1><Title>Examples</Title>
<simplelist>
        <member><command>cdn-sync --list-channels</command></member>
        <member><command>cdn-sync --channel=rhel-i386-as-3</command></member>
        <member><command>cdn-sync -c rhel-i386-as-3 -c redhat-advanced-server-i386</command></member>
</simplelist>
</RefSect1>

<RefSect1><Title>See Also</Title>
<simplelist>
    <member>db-control(1) - embedded database environment only!</member>
    <member>rhn-charsets(8)</member>
    <member>rhnpush(8)</member>
    <member>rhn-schema-version(8)</member>
    <member>rhn-ssl-dbstore(8)</member>
</simplelist>
</RefSect1>

<RefSect1><Title>Authors</Title>
<simplelist>
    <member>Gennadii Altukhov <email>galt@redhat.com</email></member>
    <member>Jan Dobes <email>jdobes@redhat.com</email></member>
</simplelist>
</RefSect1>
</RefEntry>

<!--
vim: sw=4
-->
